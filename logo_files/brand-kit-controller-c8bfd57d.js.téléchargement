(window.webpackJsonp=window.webpackJsonp||[]).push([["brand-kit-controller","authoring-context"],{1634:function(e,t,n){var i,o;i=[n(3),n(0),n(1),n(2),n(11),n(7),n(17),n(59),n(350),n(12),n(20),n(8),n(2523),n(2524),n(2525),n(556),n(451),n(49),n(382),n(554),n(39)],void 0===(o=function(e,t,n,i,o,a,r,s,c,u,d,l,h,g,f,m,p,b,y,v,C){"use strict";var F=new o({color:"#0000ff",name:"authoring-context"}),w=["is-body-font","is-body-font-italic","is-body-font-bold","is-body-font-bold-italic"],k={"is-body-font":"Regular","is-body-font-italic":"Italic","is-body-font-bold":"Bold","is-body-font-bold-italic":"Bold Italic"};return i.Model.extend({CURRENT_AC_VERSION:2,CUSTOM_FONTS_AC_VERSION:3,COLLABORATION_AC_VERSION:4,CURRENT_FONT_METRICS_VERSION:1,getACVersion:function(){return l.hasFeature("enable-custom-fonts")&&(this.CURRENT_AC_VERSION=this.CUSTOM_FONTS_AC_VERSION),this.CURRENT_AC_VERSION},upgradeVersionForCollaboration:function(){return this.composite.saveChanges(function(e){return e.getValue("ac#version")<this.COLLABORATION_AC_VERSION&&e.setValue("ac#version",this.COLLABORATION_AC_VERSION),this}.bind(this),!0)},isDefault:function(){return this.composite.getDCXRoot().getValue("ac#default")},getId:function(){return this.composite.getDCXComposite().id},getURN:function(){return this.composite.getDCXComposite().assetId},belongsToUser:function(){return this.composite.belongsToUser()},forcePull:function(){return this.syncGroup.getComposite(this.composite.get("id"),void 0,!0)},getCollaborationHref:function(){return"assets/"+this.composite.get("syncGroupName")+"/"+this.composite.get("id")},setComposite:function(e){this.composite=e},getType:function(){return this.composite.getDCXRoot().getValue("ac#type")||"brand-kit"},getVersion:function(){return this.composite.get("ac#version")},restrictedAccess:function(){return this.activated()&&!l.hasFeature("entitle-brand-kit")},activate:function(){this.composite.getDCXRoot().setValue("ac#activated",!0)},activated:function(){return!!this.composite.getDCXRoot().getValue("ac#activated")},deactivate:function(){this.composite.getDCXRoot().setValue("ac#activated",!1)},hasBeenEntitled:function(){return!!this.composite.getDCXRoot().getValue("ac#has-been-entitled")},recordEntitlmentIfInterested:function(){return!(this.hasBeenEntitled()||!l.hasFeature("entitle-brand-kit"))&&(this.composite.getDCXRoot().setValue("ac#activated",!0),!0)},getNameUI:function(e){e=e||30;var t,n=this.getName();if(n.length>e)for(t=n.split(" ");t.length&&n.length>e;)t.pop(),n=t.join(" ")+"...";return n},getDefaultName:function(){var e=window.adobeIMS.getUserProfile().first_name||"";return e?e+"'s Authoring Context":"My Authoring Context"},getName:function(){return this.composite.get("name")||this.getDefaultName()},setName:function(e,t){if(t){var i=this.composite.getDCXRoot();return this.composite.set("name",e),i.setValue("name",e),n.resolve()}return this.composite.saveChanges((function(t){t.setValue("name",e)}))},save:function(e){return this.composite.saveChanges(function(e){return e.setValue("ac#version",this.CURRENT_AC_VERSION),this}.bind(this),e)},getAssetsWithRole:function(e,n){return this.composite.acquireNestedChildren(e,!0).then(function(e){return e=t.filter(e||[],function(e){return this.hasRole(e,n)}.bind(this))}.bind(this))},getAssetWithUniqueRole:function(e,t){return this.getAssetsWithRole(e,t).then((function(e){return e[0]}))},hasRole:function(e,n){e.getValue("ac#roles");return t.includes(e.getValue("ac#roles")||[],n)},removeRole:function(e,n){var i=e.getValue("ac#roles");i&&(i=t.without(i,n),e.setValue("ac#roles",i))},addRole:function(e,n){if("string"==typeof n&&(n=n&&n.replace(/^\s*/,"").replace(/\s*$/,""))){var i=e.getValue("ac#roles")||[];t.includes(i,n)||(i.push(n),e.setValue("ac#roles",i))}},setUniqueRoles:function(e,i,o,a){return this.composite.acquireNestedChildren(e,!0).then(function(e){return e=e||[],t.each(e,function(e){t.each(o,function(t){this.removeRole(e,t)}.bind(this))}.bind(this)),t.each(o,function(e){this.addRole(i,e)}.bind(this)),a?n.resolve():this.composite.saveChanges(function(e){}.bind(this))}.bind(this))},setUniqueRole:function(e,t,n){return this.setUniqueRoles(e,t,[n])},setUniqueRolesSync:function(e,n,i){var o=this.composite.acquireNestedChildrenSync(e);o=o||[],t.each(o,function(e){t.each(i,function(t){this.removeRole(e,t)}.bind(this))}.bind(this)),t.each(i,function(e){this.addRole(n,e)}.bind(this))},createTheme:function(e,t,i,o){return this.composite.acquireNestedMap("themes",!0).then(function(a){var r=this.composite.addChildPath(void 0,void 0,a);r.setValue("type","application/vnd.adobe.adobespark.theme+json"),r.setValue("ac#format",e),r.setValue("ac#created",(new Date).toISOString());var s=n.resolve(),c=t(r,this);return c&&c.then&&"function"==typeof c.then&&(s=c),s.then(function(){return this.updateThemeThumbnail(r,r.getValue("theme#data"),i)}.bind(this)).then(function(){return o?r:this.composite.saveChanges((function(){})).then((function(){return r}))}.bind(this))}.bind(this))},updateThemeThumbnail:function(e,n,i){var o=document.createElement("canvas");o.width=520,o.height=280;var a=i(o.getContext("2d"),e),r=this.composite.getDCXComposite().current,c=t.find(r.getComponentsOf(e),(function(e){return"rendition"===e.relationship})),u=this,d=function(){var t=s(o.toDataURL("image/jpeg"));return u.composite.pushComponentWithRetry({name:"thumbnail.jpg",path:"thumbnail",absolutePath:"/themes/"+e.id+"/thumbnail",parent:e,relationship:"rendition",type:"image/jpeg",file:t,isUpdate:!!c})};return a&&a.then&&"function"==typeof a.then?a.then(d):d()},updateThemeThumbnails:function(e){return n.all(t.map(e,function(e){var t=e.theme,n=e.themeController;if(n.generateThemeRendition&&"function"==typeof n.generateThemeRendition)return this.updateThemeThumbnail(t,t.getValue("theme#data"),n.generateThemeRendition.bind(n))}.bind(this)))},getThemeById:function(e){return this.composite.getChildWithMap("themes."+e)},getThemeThumbnailHrefAsync:function(e,i){var o=this.composite.getDCXComposite().current,a=t.find(o.getComponentsOf(e),(function(e){return"rendition"===e.relationship}));return a?this.composite.getImageComponentHref(a,i||500):n.resolve()},getFormatThemes:function(e){return this.composite.acquireNestedChildren("themes",!0).then(function(n){return n=t.filter(n||[],function(t){return t.getValue("ac#format")===e}.bind(this))}.bind(this))},duplicateTheme:function(e,t){var i=n.defer();return this.composite.acquireNestedMap("themes",!0).then(function(n){var i,o=n._owner,a=r.AdobeDCXUtil.generateUuid(),s=e.id;return e._data.id=a,e._data.path=a,i=o.copyChild(e,n,void 0,a,a),e._data.id=s,e._data.path=s,t?i:this.composite.saveChanges((function(e){})).then(function(){return i}.bind(this))}.bind(this)).then(function(e){i.resolve(e)}.bind(this)),i.promise},removeTheme:function(e,t){if(this.composite.removeChild(e),!t)return this.composite.saveChanges((function(e){}))},deleteNamedImageAsset:function(e,t){var n=this.composite.getDCXComposite().current,i=n.getComponentWithAbsolutePath("/"+t+"/"+e.getValue("path")+"/image");return i&&n.removeComponent(i),this.composite.removeChild(e),this.save()},_processImageAsset:function(e,t,i,o,a,r){var s=this.composite.getDCXRoot(),c=this.composite.getDCXComposite().current.getComponentWithAbsolutePath("/"+t+"/"+e+"/image");return this.composite.acquireNestedMap(t+"."+e,!0).then(function(e){return e.setValue("type","application/vnd.adobe.element.image+dcx"),e.setValue("ac#application","spark-web"),this.addRole(e,i),(o&&o.length?this.setUniqueRoles(t,e,o,r):n.resolve()).then(function(){return this.composite.pushComponentWithRetry(a(e,!!c)).then(function(){return r?(s.setValue("ac#version",this.CURRENT_AC_VERSION),e):this.composite.saveChanges(function(e){e.setValue("ac#version",this.CURRENT_AC_VERSION)}.bind(this)).then((function(){return e}))}.bind(this))}.bind(this))}.bind(this))},uploadImageAsset:function(e,t,i,o,a,r,c){var u,d=document.createElement("canvas"),l=d.getContext("2d");if(r){var h=n.defer(),g=new Image;g.onload=function(){var e=g.width,t=g.height,n=e/t;n>1&&e>r?t=1/n*(e=r):t>r&&(e=n*(t=r)),d.width=e,d.height=t,l.drawImage(g,0,0,e,t);var i=s(d.toDataURL("image/png"));h.resolve(i)},g.src=URL.createObjectURL(i),u=h.promise}else u=n.resolve(i);return u.then(function(n){return this._processImageAsset(e,t,o,a,function(i,o){var a={type:n.type,isUpdate:o,parent:i,relationship:"primary",file:n};return o?a.absolutePath="/"+t+"/"+e+"/image":a.path="image",a}.bind(this),c)}.bind(this))},updateImageAsset:function(e,t,n,i,o,a,r){return this._processImageAsset(e,t,a,r,function(a,r){var s={type:i||"image/jpg",path:"image",isUpdate:r,parent:a,relationship:"primary",copyFrom:{source:o,assetId:n}};return r?s.absolutePath="/"+t+"/"+e+"/image":s.path="image",s}.bind(this))},getMappedImageAsset:function(e,t,i){var o=this.composite.getChildWithMap(e);return o?this.composite.getImageComponentHref(o,t,i):n.resolve(null)},hrefForImage:function(e,t,n,i){return this.getMappedImageAsset(e+"."+t.getValue("path")+".!image",n,i)},delete:function(){var e=this.getURN();return C.load().then(function(t){return this.composite.delete().then(function(){return t.SparkStorageLoader.flushLocalAuthoringContext(e)}.bind(this))}.bind(this))},getColorsByRole:function(){return this.getColors().then((function(e){var n={};return t.each(e,(function(e){t.each(e.getRoles(),(function(t){n[t]=e}))})),n}))},getDerivedColors:function(e,i){return(e?n.resolve(e):this.getColorWithUniqueRole("base-color")).then(function(t){return e=t,this.getColors("derived-from-"+e.getId())}.bind(this)).then(function(n){n=t.sortBy(n,(function(e){return t.find(e.getRoles(),(function(e){return 0===e.search("shade-")})).replace(/^shade-/,"")}));var o=!1;return t.each(n,(function(t){if(t.hex()===e.hex()&&e.hasRole("base-color")&&!t.hasRole("base-color"))return o=!0,!1})),o?this.updateDerivedColors(e.hex()).then(function(){return this.getDerivedColors(void 0,i)}.bind(this)):t.filter(n,function(e){var n=!0;return t.each(i,(function(t){n&&(n=!e.hasRole(t))})),n}.bind(this))}.bind(this))},updateDerivedColors:function(e,i,o,a){var r,s=["base-color"],u=-1,d=c.hexToRgb(e),l=[],h=function(e,t,n){return this.addColorHexSync(t,[],n,["shade-"+e,"derived"])}.bind(this);return(i?this.getColors("derived-from-"+i.getId()):n.resolve([])).then(function(e){t.each(e,function(e){var n,i;t.each(e.getRoles(),(function(e){-1!=e.search("shade-")?n=e:-1!=e.search("derived-from-")&&(i=e)}));var o=e.getData();this.removeRole(o,i);var a=parseInt(n.replace(/^shade-/,""));e.hasRole("base-color")&&(u=a);for(var r=0,c=s.length;r<c;r++){var d=s[r];this.removeRole(o,d)}l[a]=e}.bind(this));var i,g=c.calcShints(d);t.each(g,function(e,t){var n=l[t];if(e.r===d.r&&e.g===d.g&&e.b===d.b){r=-1===u?n=h(t,c.rgbToHex(e)):n;for(var o=0,a=s.length;o<a;o++){var g=s[o];this.addRole(r.getData(),g)}i=t}n?n.setRGB(e):n=h(t,c.rgbToHex(e)),l[t]=n}.bind(this));var f,m=n.resolve();return a&&(f=i>3?i-2:i+2,m=n.all([this.setUniqueRoles("colors",l[1].getData(),["chrome-background-color","chrome-header-cta-background-color","chrome-footer-background-color"],o),this.setUniqueRoles("colors",l[f].getData(),["chrome-text-color"],o)])),t.each(l,function(e){e&&this.addRole(e.getData(),"derived-from-"+r.getId())}.bind(this)),o?m.then(function(){return{baseColor:r,shades:l}}.bind(this)):m.then(function(){return this.save().then(function(){return{baseColor:r,shades:l}}.bind(this))}.bind(this))}.bind(this))},removeDerivedColors:function(e){return this.composite.acquireNestedChildren("colors",!0).then(function(n){t.each(n,function(n){if(this.hasRole(n,"derived-from-"+e.getId())){var i=new g;i.setData(n),t.find(i.getRoles(),(function(e){return 0===e.indexOf("shade-")}))?this.removeColor(i,!0):console.warn("Unexpected no shade role",n.getRoles())}}.bind(this))}.bind(this))},getColorWithUniqueRole:function(e){return this.getAssetWithUniqueRole("colors",e).then(function(e){if(e){var t=new g;return t.setData(e),t}return null}.bind(this))},getColors:function(e,n){return this.composite.acquireNestedChildren("colors",!0).then(function(i){var o=[];return t.each(i,function(i){if(e&&!this.hasRole(i,e)||t.intersection(i.getValue("ac#roles"),n).length);else{var a=new g;a.setData(i),o.push(a)}}.bind(this)),o}.bind(this))},addColorHex:function(e,n,i,o){return this.composite.acquireNestedMap("colors",!0).then(function(a){var r=this.composite.addChildPath(void 0,void 0,a),s=new g;return s.setData(r),s.setHex(e),i?s.setName(i):s.generateName(),t.each(o||[],function(e){this.addRole(r,e)}.bind(this)),this.composite.saveChanges((function(){})).then(function(){return n&&n.length?this.setUniqueRoles("colors",r,n).then(function(){return s}.bind(this)):s}.bind(this))}.bind(this))},addColorHexSync:function(e,n,i,o){var a=this.composite.acquireNestedMapSync("colors"),r=this.composite.acquireNestedChildrenSync("colors"),s=this.composite.addChildPath(void 0,void 0,a),c=new g;return c.setData(s),c.setHex(e),i?c.setName(i):c.generateName(),t.each(o||[],function(e){this.addRole(s,e)}.bind(this)),t.each(r,function(e){t.each(n,function(t){this.removeRole(e,t)}.bind(this))}.bind(this)),t.each(n,function(e){this.addRole(s,e)}.bind(this)),c},removeColor:function(e,t){if(this.composite.removeChild(e.getData()),!t)return this.composite.saveChanges((function(e){}))},getFonts:function(e){return this.composite.acquireNestedChildren("fonts",!0).then(function(n){var i=[];return t.each(n,function(t){if(e&&!this.hasRole(t,e));else{var n=new f;n.setData(t),i.push(n)}}.bind(this)),i}.bind(this))},getFontWithUniqueRole:function(e){return l.hasFeature("enable-custom-fonts")?this.getFontWithRole(e):this.getAssetWithUniqueRole("fonts",e).then(function(e){if(e){var t=new f;return t.setData(e),t}return null}.bind(this))},addFontFace:function(e,t){var i=new m;return i.setAC(this),i.createFont(e,[t]),n.resolve(i)},addFontWithUniqueRoles:function(e,t,i,o){return this.composite.acquireNestedMap("fonts",!0).then(function(a){var r=this.composite.addChildPath(void 0,void 0,a),s=new f;r.setValue("type","application/vnd.adobe.element.font+dcx"),r.setValue("ac#application","spark-web"),s.setData(r),s.setName(e),s.setValue({source:t,lookupKey:e});var c=n.resolve();return i&&i.length&&(c=this.setUniqueRoles("fonts",r,i)),c.then(function(){if(!o)return this.composite.saveChanges((function(){}))}.bind(this)).then(function(){return s}.bind(this))}.bind(this))},addFont:function(e,i,o,a){return this.composite.acquireNestedMap("fonts",a).then(function(r){var s=this.composite.addChildPath(void 0,void 0,r),c=new f;s.setValue("type","application/vnd.adobe.element.font+dcx"),s.setValue("ac#application","spark-web"),c.setData(s),c.setName(e),c.setValue({source:i,lookupKey:e});n.resolve();return o&&t.each(o,function(e){this.addRole(s,e)}.bind(this)),a?c:this.save().then(function(){return c}.bind(this))}.bind(this))},addFauxFont:function(e,t,n,i,o,a){var r=this.composite.acquireNestedMapSync("all-fonts"),s=this.composite.addChildPath(void 0,void 0,r),c=new m;return s.setValue("type","application/vnd.adobe.element.font+dcx"),s.setValue("ac#application","spark-web"),c.setData(s),c.setName(e+" "+t),c.setValue({source:"faux-font",subgroupName:e,faceName:t,cssName:n,metrics:{metrics:{weight:i,style:o}}}),this.addRole(s,a),this.addRole(s,"custom"),c},findFauxFont:function(e,t,n,i){return this.getCustomFontSubgroup(e).find((function(e){return e.isFauxFont()&&e.fontStyle()==n&&e.fontWeight()==t}))},removeFont:function(e,t){return this.composite.removeChild(e.getData()),t?n.resolve():this.composite.saveChanges((function(e){}))},removeFontWithNode:function(e){return this.composite.removeChild(e),this.composite.saveChanges((function(e){}))},convertFontNodeToAuthoringContextFontFace:function(e){var t=new m;return t.setAC(this),t.setData(e),t},getAllFonts:function(e){var n=this.composite.acquireNestedChildrenSync("all-fonts"),i=[];return t.each(n,function(t){var n=new m;n.setAC(this),n.setData(t),e&&n.isFauxFont(),i.push(n)}.bind(this)),i},getFontById:function(e){var t=this.composite.getChildWithMap("all-fonts.[id="+e+"]");if(t){var n=new m;return n.setAC(this),n.setData(t),n}return null},getFontByLookupKey:function(e){var n=this.getAllFonts();return t.find(n,(function(t){return t.lookupKey()==e}))},getCustomFontByName:function(e,t){return this.composite.getChildWithMap(t+".[name="+e+"]")},getFontWithRole:function(e){return l.hasFeature("enable-custom-fonts")?this.getFontsWithRole(e)[0]:(console.warn("Illegalty, custom-font API without feature flag!"),this.getFontWithUniqueRole(e))},getFontsWithRole:function(e){var n=this.composite.acquireNestedChildrenSync("all-fonts"),i=[];return t.each(n,function(t){if(this.hasRole(t,e)){var n=new m;n.setAC(this),n.setData(t),i.push(n)}}.bind(this)),i},getFontWithRoles:function(e){return this.getFontsWithRoles(e)[0]},getFontsWithRoles:function(e){var n=this.composite.acquireNestedChildrenSync("all-fonts"),i=[];return t.each(n,function(n){var o=!1;if(t.each(e,function(e){if(this.hasRole(n,e))return o=!0,!1}.bind(this)),o){var a=new m;a.setAC(this),a.setData(n),i.push(a)}}.bind(this)),i},getFontSubgroups:function(e,n){var i=this.composite.acquireNestedChildrenSync("all-fonts"),o={};return t.each(i,function(t){var i=new m;i.setAC(this),i.setData(t),n&&i.isFauxFont()||(!e||i.isCustomFont()||i.isBodyFont())&&this._organizeBySubgroup(i,o)}.bind(this)),o},_organizeBySubgroup:function(e,t){var n=e.subgroupName(),i=t[n];i?i.push(e):t[n]=new p([e])},getCustomFontSubgroups:function(e,n){var i=this.getCustomFonts(n),o={};return t.each(i,function(t){e&&!t.isBodyFont()||this._organizeBySubgroup(t,o)}.bind(this)),o},getCustomFontSubgroup:function(e,n){var i,o=this.getCustomFonts(n);return t.each(o,function(t){t.subgroupName()==e&&(i?i.push(t):i=new p([t]))}.bind(this)),i},getFontSubgroup:function(e,n){var i,o=this.getAllFonts(n);return t.each(o,function(t){t.subgroupName()==e&&(i?i.push(t):i=new p([t]))}.bind(this)),i},guessCustomBodyFontSet:function(e){var n=this.getCustomFontSubgroup(e),i=this.getCustomBodyFontSet(e),o=new p([]);return t.each(w,function(e){var t=i.getFontWithRole(e),a=-1!=e.search(/bold/i)?700:400,r=-1!=e.search(/italic/i)?"italic":"normal";t||n.each(function(e){if(e.fontWeight()==a&&e.fontStyle()==r)return t=e,!1}.bind(this)),o.add(t)}.bind(this)),o},establishCustomBodyFontSet:function(e){var n=this.getCustomFontSubgroup(e),i=this.getCustomBodyFontSet(e),o=new p([]),a=n.getPropFromFirst("cssName");return t.each(w,function(t){var r=i.getFontWithRole(t),s=-1!=t.search(/bold/i)?700:400,c=-1!=t.search(/italic/i)?"italic":"normal";if(!r&&(n.each(function(e){if(e.fontWeight()==s&&e.fontStyle()==c)return(r=e).addRole(t),!1}.bind(this)),!r)){if("is-body-font"==t)throw new Error("Normal face was not found - cannot establish body font set without a normal face");this.addFauxFont(e,k[t],a,s,c,t)}o.add(r)}.bind(this)),o},getCustomBodyFontSet:function(e){var n=this.getCustomFontSubgroup(e);if(n&&n.length){var i=new p([]);n.at(0);return t.each(w,function(e){var t=n.getFontWithRole(e);t&&i.add(t,{role:e})}.bind(this)),i}},getFontCollectionWithRoles:function(e){var t=this.getFontsWithRoles(e);return new p(t)},generateFontRenditions:function(e){return b.ENABLE_UPLOADED_FONTS_RENDITIONS?n.allSettled([this.generateFontRendition(e,e.friendlyName(),"rendition"),this.generateFontRendition(e,e.faceName(),"face-rendition"),this.generateFontRendition(e,e.subgroupName(),"family-rendition")]):n.resolve()},generateFontRendition:function(e,i,o){var a=n.defer(),r=e.getData(),c=this.composite.getDCXComposite().current.getComponentsOf(r),u=t.find(c,(function(e){return e.name==o}));return e.loadFont().then(function(){var t=v.generateCanvas(e.cssName(),i,{weight:e.fontWeight(),style:e.fontStyle(),padding:2,fnNormal:function(t){return b.getFontNormalized(t,e.getMetrics())}}),n=s(t.toDataURL("image/png"));a.resolve(this.composite.pushComponentWithRetry({type:"image/png",path:o,isUpdate:!!u,parent:r,relationship:"rendition",file:n},"image/png"))}.bind(this)),a.promise},uploadCustomFontMetrics:function(e,t,i){i.category="Spark Client Generated";var o=this.composite.getChildWithMap(t+".[name="+e+"]");return o?(o.getValue("font#data").metrics=i,this.composite.saveChanges(function(e){e.setValue("ac#version",this.CURRENT_AC_VERSION)}.bind(this))):(console.warn("Error: no font wrapper defined in dcx for metrics"),n.reject(new Error("AuthoringContextCls::uploadCustomFontMetrics")))},createFontCollection:function(e){var n=new p;return t.each(e,(function(e){n.add(e)})),n},convertPostFaceToJSON:function(e){return b.convertPostFaceToJSON(e)},convertPostFaceToAC:function(e){return b.convertPostFaceToAC(e)},createOrUpdateFontFiles:function(e,i){var o=this.composite.getDCXComposite(),s=o.current,c=s.getComponentsOf(e),d=t.reduce(c,function(e,t){return e[t.getValue("name")]=t.getValue("id"),e}.bind(this),{}),h=n.defer(),g=function(n,i,o){if(n)return F.error("Upload failed with "+n.message,n),0===c.length?(F.error("Removing newly created font node"),this.removeFontWithNode(e).then((function(){h.reject(n)}))):h.reject(n);var a;if(!!t.find(Object.keys(d),(function(e){return!!d[e]}))){var r=o.absolutePath||"/"+o.path;a=s.getComponentWithAbsolutePath(r),a=s.updateComponentWithUploadResults(a,i)}else a=s.addComponentWithUploadResults(o.name,o.relationship,o.path,e,i)}.bind(this),f=new FormData;f.append("calculateSubsets",l.hasFeature("enable-custom-fonts-subsets")),f.append("compositeId",o.id),f.append("componentList",encodeURIComponent(JSON.stringify(d))),t.each(i,(function(e,t){e&&f.append("file"+t,e)}));var m=u.v4(),p={otf:!0,ttf:!0,woff:!0},b={method:"PUT",url:"/fonts",dataType:"json",data:f,processData:!1,contentType:!1,beforeSend:function(e){e.setRequestHeader("X-Request-Id",m)},success:function(e,n,i){if(200!=i.status&&201!=i.status)return g(new Error("Upload came back with "+i.status+" "+i.responseText));var a=i.responseJSON;t.each(a,(function(e){var t=new r.AdobeDCXComponent._UploadResults(o.id);t.records[e.componentId]=new r.AdobeDCXComponent._UploadRecord(e.componentId,e.etag,e.latestVersion,e.md5,e.size,e.type),g(null,t,{name:e.ext,path:e.ext,relationship:p[e.ext]?"primary":"subset"})})),h.resolve()},error:function(e){return g(e)}};return a.ajax(b),h.promise},createOrUpdateCustomFont:function(e,n,i,o){this.composite.getDCXComposite().current;var a,r,s=this.composite.getChildWithMap("all-fonts.[name="+name+"]");if(!s){a=this.composite.acquireNestedMapSync("all-fonts"),(s=this.composite.addChildPath(void 0,void 0,a)).setValue("name",e+" "+n),s.setValue("type","application/vnd.adobe.element.custom-font+dcx"),s.setValue("ac#application","spark-web"),this.addRole(s,"custom"),r={source:"user-uploaded",subgroupName:e,faceName:n,cssName:i};var c=s.getValue("font#data");s.setValue("font#data",t.extend({},c,r,o||{}))}var u=new m;return u.setAC(this),u.setData(s),u},acquireSparkFont:function(e){var t=this.getFontByLookupKey(e);if(t)return t;var n=this.composite.acquireNestedMapSync("all-fonts"),i=this.composite.addChildPath(void 0,void 0,n);i.setValue("type","application/vnd.adobe.element.font+dcx"),i.setValue("ac#application","spark-web"),i.setValue("font#data",{source:"spark-provided",lookupKey:e});var o=new m;return o.setAC(this),o.setData(i),o},_hrefForCustomFontRenditionAsync:function(e,i){n.defer();var o=this.composite.getDCXComposite().current.getComponentsOf(e),a=t.find(o,(function(e){return"rendition"===e.getValue("rel")&&(!i||e.getValue("path")===i)}));if(a)return this.composite._privateGetComponentHref(a).then((function(e){return e.indexOf("/id/")>=0&&(e=e.replace(/\/id/,"/image_assets")),e}))},getSubsetIdsForCharacterList:function(e){var n={},i=[];return t.each(e,function(e){for(var t=0,o=h.length;t<o;t++){var a=h[t],r=parseInt(a.range[0],16),s=parseInt(a.range[1],16);if(e>=r&&e<=s&&!n[a.id]){n[a.id]=!0,i.push(a.id);break}}}.bind(this)),i},_hrefForCustomFontAsync:function(e,i){var o;if("string"==typeof e)o=this.composite.getChildWithMap("all-fonts.[name="+e+"].!"+i);else{var a=e,r=this.composite.getDCXComposite().current.getComponentsOf(a);if(i)o=t.find(r,(function(e){return e.path==i}));else{var s,c,u=t.filter(r,(function(e){return"primary"==e.getValue("rel")}));if(1==u.length)o=u[0];else t.each(u,(function(e){"otf"==e.name&&(s=e),"ttf"==e.name&&(c=e)})),o=s||c||void 0}}return o?this.composite._privateGetComponentHref(o).then((function(e){e.indexOf("/id/")>=0&&(e=e.replace(/\/id/,"/image_assets"));var t=o.name;return t&&(e+="&mime=application/"+t),e})):n.resolve(null)},getComponentForCustomFont:function(e,n){var i,o=this.composite.getDCXComposite().current,a=e.getData(),r=o.getComponentsOf(a);if(n)i=t.find(r,(function(e){return e.path==n}));else{var s,c,u=t.filter(r,(function(e){return"primary"==e.getValue("rel")}));if(1==u.length)i=u[0];else t.each(u,(function(e){"otf"==e.name&&(s=e),"ttf"==e.name&&(c=e),"ttf"==e.name&&(c=e)})),i=s||c||void 0}return i},getCustomFonts:function(e){var n=this.getFontsWithRole("custom");return e?t.filter(n,(function(e){return!e.isFauxFont()})):n},getDataPageInfo:function(e,t){var n,i=this.composite.getChildWithMap(t);return i&&(n=i.getValue(t+"#data"))?e?n[e]:n:e?"":{}},setDataPageInfo:function(e,i,o,a){var r;return"object"==typeof e?r=e:(r={})[e]=i,this.composite.acquireNestedMap(o,!0).then(function(e){e.setValue("ac#application","spark-web"),e.setValue("type","application/vnd.adobe.spark."+o+"+dcx");var i=e.getValue(o+"#data")||{};return t.each(r,(function(e,t){i[t]=e})),e.setValue(o+"#data",i),a?n.resolve():this.composite.saveChanges(function(e){}.bind(this))}.bind(this))},getViewerPageInfo:function(e){return this.getDataPageInfo(e,"viewerpage")},setViewerPageInfo:function(e,t,n){return this.setDataPageInfo(e,t,"viewerpage",n)},getOutroInfo:function(e){return this.getDataPageInfo(e,"videooutro")},setOutroInfo:function(e,t,n){return this.setDataPageInfo(e,t,"videooutro",n)},fullUpdate:function(){},isFullUpdateNeeded:function(){},validateAndRepair:function(){return n.resolve(this)},upgrade:function(){var e=this.composite.getDCXRoot().getValue("ac#version");if(this.getACVersion(),e>this.CURRENT_AC_VERSION&&window.marvel.logger.traceflow("brand-kit","[BrandKit] found newer brand (v"+e+" > v"+this.CURRENT_AC_VERSION+")."),e<this.CURRENT_AC_VERSION&&l.hasFeature("enable-custom-fonts")){var t=this.composite.getChildWithMap("fonts"),n=this.composite.getChildWithMap("all-fonts");n&&t&&(this.composite.removeChild(n),n=null),t?t.setValue("path","all-fonts"):n||this.composite.acquireNestedMapSync("all-fonts"),this.composite.getDCXRoot().setValue("ac#version",this.CURRENT_AC_VERSION)}return this.validateAndRepair()},getThemeletById:function(e){var n=this.composite.acquireNestedChildrenSync("themes"),i=null;return t.each(n,(function(t,n){t.id===e&&(i=t)})),i},getThemeUpdateInterface:function(){var e=this,i=l.hasFeature("enable-brand-kit-in-progress"),o={};return n.all(t.map(d.apps,(function(t){var n=t.typeName;if(i||l.hasFeature("enable-brand-kit-"+n+"-themes"))return t.getThemeController(e).then((function(e){o[n]=e}))}))).then(function(){var a={themeControllers:o,forEachTheme:function(n){var a=e.composite.acquireNestedChildrenSync("themes"),r=[];return t.each(a,(function(e,t){var a=e.getValue("ac#format");if(i||l.hasFeature("enable-brand-kit-"+a+"-themes")){var s=o[a];r.push(n(e,s))}})),r},getThemesUsingAssets:function(e){var t=[];return a.forEachTheme((function(n,i){if(i.areAssetsUsed&&"function"==typeof i.areAssetsUsed)try{i.areAssetsUsed(n,e)&&t.push({theme:n,themeController:i})}catch(e){console.warn("ignoring exception from format themeController - please fix themeController.areAssetsUsed(theme, assets).",i)}})),t},updateThemesWithAssets:function(e,i){if(i)return n.all(t.map(e,(function(e){var t=e.theme,n=e.themeController;if(n.updateLinkedAssets&&"function"==typeof n.updateLinkedAssets)return n.updateLinkedAssets(t,i)})))},relinkThemesWithAssets:function(e,i){var o;if(i)return o=i[0]&&!t.isArray(i[0])?t.map(i,(function(e){return[e.old,e.new]})):t.extend([],i),n.all(t.map(e,(function(e){var t=e.theme,n=e.themeController;return n.relinkAssetsWithRoles&&"function"==typeof n.relinkAssetsWithRoles?n.relinkAssetsWithRoles(t,i):n.relinkAssets&&"function"==typeof n.relinkAssets?n.relinkAssets(t,o):void 0})))}};return a}.bind(this))}})}.apply(t,i))||(e.exports=o)},199:function(e,t,n){var i,o;i=[n(3),n(0),n(2),n(1),n(32),n(17)],void 0===(o=function(e,t,i,o,a,r){"use strict";return new(a.extend({typeName:"authoring-context",getProjectName:function(e,t){return e.get("name")||this.getSetting("newDocName")},getConfig:function(){return{syncGroup:"adobe-spark-authoring-contexts",scope:"authoring-context",newDocName:"My Authoring Context",doctype:"application/vnd.adobe.authoringcontext.document+dcx",displayName:"Authoring Context"}},isaProjectFormat:function(){return!1},lazyLoad:function(e){n.e("authoring-context").then(function(t){var i=n(264);this.setStorageImpl(i),e.resolve()}.bind(this).bind(null,n)).catch(n.oe)},usesContentModifiedEtags:function(){return!1},resolveConflict:function(e,t,i,o){return n.e("brand-kit-conflict-resolver").then(function(a){var s=n(288);s.muiStorage=r,s.resolveConflict(e,t,i,o)}.bind(null,n)).catch(n.oe),!0}}))}.apply(t,i))||(e.exports=o)},2523:function(e){e.exports=JSON.parse('[{"name":"Control characters","id":"control-characters","range":["0000","001F"]},{"name":"Basic Latin","id":"basic-latin","range":["0020","007F"]},{"name":"Latin-1 Supplement","id":"latin-1-supplement","range":["0080","00FF"]},{"name":"Latin Extended-A","id":"latin-extended-a","range":["0100","017F"]},{"name":"Latin Extended-B","id":"latin-extended-b","range":["0180","024F"]},{"name":"IPA Extensions","id":"ipa-extensions","range":["0250","02AF"]},{"name":"Spacing Modifier Letters","id":"spacing-modifier-letters","range":["02B0","02FF"]},{"name":"Combining Diacritical Marks","id":"combining-diacritical-marks","range":["0300","036F"]},{"name":"Greek and Coptic","id":"greek-and-coptic","range":["0370","03FF"]},{"name":"Cyrillic","id":"cyrillic","range":["0400","04FF"]},{"name":"Cyrillic Supplement","id":"cyrillic-supplement","range":["0500","052F"]},{"name":"Armenian","id":"armenian","range":["0530","058F"]},{"name":"Hebrew","id":"hebrew","range":["0590","05FF"]},{"name":"Arabic","id":"arabic","range":["0600","06FF"]},{"name":"Syriac","id":"syriac","range":["0700","074F"]},{"name":"Arabic Supplement","id":"arabic-supplement","range":["0750","077F"]},{"name":"Thaana","id":"thaana","range":["0780","07BF"]},{"name":"NKo","id":"nko","range":["07C0","07FF"]},{"name":"Samaritan","id":"samaritan","range":["0800","083F"]},{"name":"Mandaic","id":"mandaic","range":["0840","085F"]},{"name":"Syriac Supplement","id":"syriac-supplement","range":["0860","086F"]},{"name":"Arabic Extended-A","id":"arabic-extended-a","range":["08A0","08FF"]},{"name":"Devanagari","id":"devanagari","range":["0900","097F"]},{"name":"Bengali","id":"bengali","range":["0980","09FF"]},{"name":"Gurmukhi","id":"gurmukhi","range":["0A00","0A7F"]},{"name":"Gujarati","id":"gujarati","range":["0A80","0AFF"]},{"name":"Oriya","id":"oriya","range":["0B00","0B7F"]},{"name":"Tamil","id":"tamil","range":["0B80","0BFF"]},{"name":"Telugu","id":"telugu","range":["0C00","0C7F"]},{"name":"Kannada","id":"kannada","range":["0C80","0CFF"]},{"name":"Malayalam","id":"malayalam","range":["0D00","0D7F"]},{"name":"Sinhala","id":"sinhala","range":["0D80","0DFF"]},{"name":"Thai","id":"thai","range":["0E00","0E7F"]},{"name":"Lao","id":"lao","range":["0E80","0EFF"]},{"name":"Tibetan","id":"tibetan","range":["0F00","0FFF"]},{"name":"Myanmar","id":"myanmar","range":["1000","109F"]},{"name":"Georgian","id":"georgian","range":["10A0","10FF"]},{"name":"Hangul Jamo","id":"hangul-jamo","range":["1100","11FF"]},{"name":"Ethiopic","id":"ethiopic","range":["1200","137F"]},{"name":"Ethiopic Supplement","id":"ethiopic-supplement","range":["1380","139F"]},{"name":"Cherokee","id":"cherokee","range":["13A0","13FF"]},{"name":"Unified Canadian Aboriginal Syllabics","id":"unified-canadian-aboriginal-syllabics","range":["1400","167F"]},{"name":"Ogham","id":"ogham","range":["1680","169F"]},{"name":"Runic","id":"runic","range":["16A0","16FF"]},{"name":"Tagalog","id":"tagalog","range":["1700","171F"]},{"name":"Hanunoo","id":"hanunoo","range":["1720","173F"]},{"name":"Buhid","id":"buhid","range":["1740","175F"]},{"name":"Tagbanwa","id":"tagbanwa","range":["1760","177F"]},{"name":"Khmer","id":"khmer","range":["1780","17FF"]},{"name":"Mongolian","id":"mongolian","range":["1800","18AF"]},{"name":"Unified Canadian Aboriginal Syllabics Extended","id":"unified-canadian-aboriginal-syllabics-extended","range":["18B0","18FF"]},{"name":"Limbu","id":"limbu","range":["1900","194F"]},{"name":"Tai Le","id":"tai-le","range":["1950","197F"]},{"name":"New Tai Lue","id":"new-tai-lue","range":["1980","19DF"]},{"name":"Khmer Symbols","id":"khmer-symbols","range":["19E0","19FF"]},{"name":"Buginese","id":"buginese","range":["1A00","1A1F"]},{"name":"Tai Tham","id":"tai-tham","range":["1A20","1AAF"]},{"name":"Combining Diacritical Marks Extended","id":"combining-diacritical-marks-extended","range":["1AB0","1AFF"]},{"name":"Balinese","id":"balinese","range":["1B00","1B7F"]},{"name":"Sundanese","id":"sundanese","range":["1B80","1BBF"]},{"name":"Batak","id":"batak","range":["1BC0","1BFF"]},{"name":"Lepcha","id":"lepcha","range":["1C00","1C4F"]},{"name":"Ol Chiki","id":"ol-chiki","range":["1C50","1C7F"]},{"name":"Cyrillic Extended C","id":"cyrillic-extended-c","range":["1C80","1C8F"]},{"name":"Sundanese Supplement","id":"sundanese-supplement","range":["1CC0","1CCF"]},{"name":"Vedic Extensions","id":"vedic-extensions","range":["1CD0","1CFF"]},{"name":"Phonetic Extensions","id":"phonetic-extensions","range":["1D00","1D7F"]},{"name":"Phonetic Extensions Supplement","id":"phonetic-extensions-supplement","range":["1D80","1DBF"]},{"name":"Combining Diacritical Marks Supplement","id":"combining-diacritical-marks-supplement","range":["1DC0","1DFF"]},{"name":"Latin Extended Additional","id":"latin-extended-additional","range":["1E00","1EFF"]},{"name":"Greek Extended","id":"greek-extended","range":["1F00","1FFF"]},{"name":"General Punctuation","id":"general-punctuation","range":["2000","206F"]},{"name":"Superscripts and Subscripts","id":"superscripts-and-subscripts","range":["2070","209F"]},{"name":"Currency Symbols","id":"currency-symbols","range":["20A0","20CF"]},{"name":"Combining Diacritical Marks for Symbols","id":"combining-diacritical-marks-for-symbols","range":["20D0","20FF"]},{"name":"Letterlike Symbols","id":"letterlike-symbols","range":["2100","214F"]},{"name":"Number Forms","id":"number-forms","range":["2150","218F"]},{"name":"Arrows","id":"arrows","range":["2190","21FF"]},{"name":"Mathematical Operators","id":"mathematical-operators","range":["2200","22FF"]},{"name":"Miscellaneous Technical","id":"miscellaneous-technical","range":["2300","23FF"]},{"name":"Control Pictures","id":"control-pictures","range":["2400","243F"]},{"name":"Optical Character Recognition","id":"optical-character-recognition","range":["2440","245F"]},{"name":"Enclosed Alphanumerics","id":"enclosed-alphanumerics","range":["2460","24FF"]},{"name":"Box Drawing","id":"box-drawing","range":["2500","257F"]},{"name":"Block Elements","id":"block-elements","range":["2580","259F"]},{"name":"Geometric Shapes","id":"geometric-shapes","range":["25A0","25FF"]},{"name":"Miscellaneous Symbols","id":"miscellaneous-symbols","range":["2600","26FF"]},{"name":"Dingbats","id":"dingbats","range":["2700","27BF"]},{"name":"Miscellaneous Mathematical Symbols-A","id":"miscellaneous-mathematical-symbols-a","range":["27C0","27EF"]},{"name":"Supplemental Arrows-A","id":"supplemental-arrows-a","range":["27F0","27FF"]},{"name":"Braille Patterns","id":"braille-patterns","range":["2800","28FF"]},{"name":"Supplemental Arrows-B","id":"supplemental-arrows-b","range":["2900","297F"]},{"name":"Miscellaneous Mathematical Symbols-B","id":"miscellaneous-mathematical-symbols-b","range":["2980","29FF"]},{"name":"Supplemental Mathematical Operators","id":"supplemental-mathematical-operators","range":["2A00","2AFF"]},{"name":"Miscellaneous Symbols and Arrows","id":"miscellaneous-symbols-and-arrows","range":["2B00","2BFF"]},{"name":"Glagolitic","id":"glagolitic","range":["2C00","2C5F"]},{"name":"Latin Extended-C","id":"latin-extended-c","range":["2C60","2C7F"]},{"name":"Coptic","id":"coptic","range":["2C80","2CFF"]},{"name":"Georgian Supplement","id":"georgian-supplement","range":["2D00","2D2F"]},{"name":"Tifinagh","id":"tifinagh","range":["2D30","2D7F"]},{"name":"Ethiopic Extended","id":"ethiopic-extended","range":["2D80","2DDF"]},{"name":"Cyrillic Extended-A","id":"cyrillic-extended-a","range":["2DE0","2DFF"]},{"name":"Supplemental Punctuation","id":"supplemental-punctuation","range":["2E00","2E7F"]},{"name":"CJK Radicals Supplement","id":"cjk-radicals-supplement","range":["2E80","2EFF"]},{"name":"Kangxi Radicals","id":"kangxi-radicals","range":["2F00","2FDF"]},{"name":"Ideographic Description Characters","id":"ideographic-description-characters","range":["2FF0","2FFF"]},{"name":"CJK Symbols and Punctuation","id":"cjk-symbols-and-punctuation","range":["3000","303F"]},{"name":"Hiragana","id":"hiragana","range":["3040","309F"]},{"name":"Katakana","id":"katakana","range":["30A0","30FF"]},{"name":"Bopomofo","id":"bopomofo","range":["3100","312F"]},{"name":"Hangul Compatibility Jamo","id":"hangul-compatibility-jamo","range":["3130","318F"]},{"name":"Kanbun","id":"kanbun","range":["3190","319F"]},{"name":"Bopomofo Extended","id":"bopomofo-extended","range":["31A0","31BF"]},{"name":"CJK Strokes","id":"cjk-strokes","range":["31C0","31EF"]},{"name":"Katakana Phonetic Extensions","id":"katakana-phonetic-extensions","range":["31F0","31FF"]},{"name":"Enclosed CJK Letters and Months","id":"enclosed-cjk-letters-and-months","range":["3200","32FF"]},{"name":"CJK Compatibility","id":"cjk-compatibility","range":["3300","33FF"]},{"name":"CJK Unified Ideographs Extension A","id":"cjk-unified-ideographs-extension-a","range":["3400","4DBF"]},{"name":"Yijing Hexagram Symbols","id":"yijing-hexagram-symbols","range":["4DC0","4DFF"]},{"name":"CJK Unified Ideographs","id":"cjk-unified-ideographs","range":["4E00","9FFF"]},{"name":"Yi Syllables","id":"yi-syllables","range":["A000","A48F"]},{"name":"Yi Radicals","id":"yi-radicals","range":["A490","A4CF"]},{"name":"Lisu","id":"lisu","range":["A4D0","A4FF"]},{"name":"Vai","id":"vai","range":["A500","A63F"]},{"name":"Cyrillic Extended-B","id":"cyrillic-extended-b","range":["A640","A69F"]},{"name":"Bamum","id":"bamum","range":["A6A0","A6FF"]},{"name":"Modifier Tone Letters","id":"modifier-tone-letters","range":["A700","A71F"]},{"name":"Latin Extended-D","id":"latin-extended-d","range":["A720","A7FF"]},{"name":"Syloti Nagri","id":"syloti-nagri","range":["A800","A82F"]},{"name":"Common Indic Number Forms","id":"common-indic-number-forms","range":["A830","A83F"]},{"name":"Phags-pa","id":"phags-pa","range":["A840","A87F"]},{"name":"Saurashtra","id":"saurashtra","range":["A880","A8DF"]},{"name":"Devanagari Extended","id":"devanagari-extended","range":["A8E0","A8FF"]},{"name":"Kayah Li","id":"kayah-li","range":["A900","A92F"]},{"name":"Rejang","id":"rejang","range":["A930","A95F"]},{"name":"Hangul Jamo Extended-A","id":"hangul-jamo-extended-a","range":["A960","A97F"]},{"name":"Javanese","id":"javanese","range":["A980","A9DF"]},{"name":"Myanmar Extended-B","id":"myanmar-extended-b","range":["A9E0","A9FF"]},{"name":"Cham","id":"cham","range":["AA00","AA5F"]},{"name":"Myanmar Extended-A","id":"myanmar-extended-a","range":["AA60","AA7F"]},{"name":"Tai Viet","id":"tai-viet","range":["AA80","AADF"]},{"name":"Meetei Mayek Extensions","id":"meetei-mayek-extensions","range":["AAE0","AAFF"]},{"name":"Ethiopic Extended-A","id":"ethiopic-extended-a","range":["AB00","AB2F"]},{"name":"Latin Extended-E","id":"latin-extended-e","range":["AB30","AB6F"]},{"name":"Cherokee Supplement","id":"cherokee-supplement","range":["AB70","ABBF"]},{"name":"Meetei Mayek","id":"meetei-mayek","range":["ABC0","ABFF"]},{"name":"Hangul Syllables","id":"hangul-syllables","range":["AC00","D7AF"]},{"name":"Hangul Jamo Extended-B","id":"hangul-jamo-extended-b","range":["D7B0","D7FF"]},{"name":"High Surrogates","id":"high-surrogates","range":["D800","DB7F"]},{"name":"High Private Use Surrogates","id":"high-private-use-surrogates","range":["DB80","DBFF"]},{"name":"Low Surrogates","id":"low-surrogates","range":["DC00","DFFF"]},{"name":"Private Use Area","id":"private-use-area","range":["E000","F8FF"]},{"name":"CJK Compatibility Ideographs","id":"cjk-compatibility-ideographs","range":["F900","FAFF"]},{"name":"Alphabetic Presentation Forms","id":"alphabetic-presentation-forms","range":["FB00","FB4F"]},{"name":"Arabic Presentation Forms-A","id":"arabic-presentation-forms-a","range":["FB50","FDFF"]},{"name":"Variation Selectors","id":"variation-selectors","range":["FE00","FE0F"]},{"name":"Vertical Forms","id":"vertical-forms","range":["FE10","FE1F"]},{"name":"Combining Half Marks","id":"combining-half-marks","range":["FE20","FE2F"]},{"name":"CJK Compatibility Forms","id":"cjk-compatibility-forms","range":["FE30","FE4F"]},{"name":"Small Form Variants","id":"small-form-variants","range":["FE50","FE6F"]},{"name":"Arabic Presentation Forms-B","id":"arabic-presentation-forms-b","range":["FE70","FEFF"]},{"name":"Halfwidth and Fullwidth Forms","id":"halfwidth-and-fullwidth-forms","range":["FF00","FFEF"]},{"name":"Specials","id":"specials","range":["FFF0","FFFF"]},{"name":"Linear B Syllabary","id":"linear-b-syllabary","range":["10000","1007F"]},{"name":"Linear B Ideograms","id":"linear-b-ideograms","range":["10080","100FF"]},{"name":"Aegean Numbers","id":"aegean-numbers","range":["10100","1013F"]},{"name":"Ancient Greek Numbers","id":"ancient-greek-numbers","range":["10140","1018F"]},{"name":"Ancient Symbols","id":"ancient-symbols","range":["10190","101CF"]},{"name":"Phaistos Disc","id":"phaistos-disc","range":["101D0","101FF"]},{"name":"Lycian","id":"lycian","range":["10280","1029F"]},{"name":"Carian","id":"carian","range":["102A0","102DF"]},{"name":"Coptic Epact Numbers","id":"coptic-epact-numbers","range":["102E0","102FF"]},{"name":"Old Italic","id":"old-italic","range":["10300","1032F"]},{"name":"Gothic","id":"gothic","range":["10330","1034F"]},{"name":"Old Permic","id":"old-permic","range":["10350","1037F"]},{"name":"Ugaritic","id":"ugaritic","range":["10380","1039F"]},{"name":"Old Persian","id":"old-persian","range":["103A0","103DF"]},{"name":"Deseret","id":"deseret","range":["10400","1044F"]},{"name":"Shavian","id":"shavian","range":["10450","1047F"]},{"name":"Osmanya","id":"osmanya","range":["10480","104AF"]},{"name":"Osage","id":"osage","range":["104B0","104FF"]},{"name":"Elbasan","id":"elbasan","range":["10500","1052F"]},{"name":"Caucasian Albanian","id":"caucasian-albanian","range":["10530","1056F"]},{"name":"Linear A","id":"linear-a","range":["10600","1077F"]},{"name":"Cypriot Syllabary","id":"cypriot-syllabary","range":["10800","1083F"]},{"name":"Imperial Aramaic","id":"imperial-aramaic","range":["10840","1085F"]},{"name":"Palmyrene","id":"palmyrene","range":["10860","1087F"]},{"name":"Nabataean","id":"nabataean","range":["10880","108AF"]},{"name":"Hatran","id":"hatran","range":["108E0","108FF"]},{"name":"Phoenician","id":"phoenician","range":["10900","1091F"]},{"name":"Lydian","id":"lydian","range":["10920","1093F"]},{"name":"Meroitic Hieroglyphs","id":"meroitic-hieroglyphs","range":["10980","1099F"]},{"name":"Meroitic Cursive","id":"meroitic-cursive","range":["109A0","109FF"]},{"name":"Kharoshthi","id":"kharoshthi","range":["10A00","10A5F"]},{"name":"Old South Arabian","id":"old-south-arabian","range":["10A60","10A7F"]},{"name":"Old North Arabian","id":"old-north-arabian","range":["10A80","10A9F"]},{"name":"Manichaean","id":"manichaean","range":["10AC0","10AFF"]},{"name":"Avestan","id":"avestan","range":["10B00","10B3F"]},{"name":"Inscriptional Parthian","id":"inscriptional-parthian","range":["10B40","10B5F"]},{"name":"Inscriptional Pahlavi","id":"inscriptional-pahlavi","range":["10B60","10B7F"]},{"name":"Psalter Pahlavi","id":"psalter-pahlavi","range":["10B80","10BAF"]},{"name":"Old Turkic","id":"old-turkic","range":["10C00","10C4F"]},{"name":"Old Hungarian","id":"old-hungarian","range":["10C80","10CFF"]},{"name":"Rumi Numeral Symbols","id":"rumi-numeral-symbols","range":["10E60","10E7F"]},{"name":"Brahmi","id":"brahmi","range":["11000","1107F"]},{"name":"Kaithi","id":"kaithi","range":["11080","110CF"]},{"name":"Sora Sompeng","id":"sora-sompeng","range":["110D0","110FF"]},{"name":"Chakma","id":"chakma","range":["11100","1114F"]},{"name":"Mahajani","id":"mahajani","range":["11150","1117F"]},{"name":"Sharada","id":"sharada","range":["11180","111DF"]},{"name":"Sinhala Archaic Numbers","id":"sinhala-archaic-numbers","range":["111E0","111FF"]},{"name":"Khojki","id":"khojki","range":["11200","1124F"]},{"name":"Multani","id":"multani","range":["11280","112AF"]},{"name":"Khudawadi","id":"khudawadi","range":["112B0","112FF"]},{"name":"Grantha","id":"grantha","range":["11300","1137F"]},{"name":"Newa","id":"newa","range":["11400","1147F"]},{"name":"Tirhuta","id":"tirhuta","range":["11480","114DF"]},{"name":"Siddham","id":"siddham","range":["11580","115FF"]},{"name":"Modi","id":"modi","range":["11600","1165F"]},{"name":"Mongolian Supplement","id":"mongolian-supplement","range":["11660","1167F"]},{"name":"Takri","id":"takri","range":["11680","116CF"]},{"name":"Ahom","id":"ahom","range":["11700","1173F"]},{"name":"Warang Citi","id":"warang-citi","range":["118A0","118FF"]},{"name":"Zanabazar Square","id":"zanabazar-square","range":["11A00","11A4F"]},{"name":"Soyombo","id":"soyombo","range":["11A50","11AAF"]},{"name":"Pau Cin Hau","id":"pau-cin-hau","range":["11AC0","11AFF"]},{"name":"Bhaiksuki","id":"bhaiksuki","range":["11C00","11C6F"]},{"name":"Marchen","id":"marchen","range":["11C70","11CBF"]},{"name":"Masaram Gondi","id":"masaram-gondi","range":["11D00","11D5F"]},{"name":"Cuneiform","id":"cuneiform","range":["12000","123FF"]},{"name":"Cuneiform Numbers and Punctuation","id":"cuneiform-numbers-and-punctuation","range":["12400","1247F"]},{"name":"Early Dynastic Cuneiform","id":"early-dynastic-cuneiform","range":["12480","1254F"]},{"name":"Egyptian Hieroglyphs","id":"egyptian-hieroglyphs","range":["13000","1342F"]},{"name":"Anatolian Hieroglyphs","id":"anatolian-hieroglyphs","range":["14400","1467F"]},{"name":"Bamum Supplement","id":"bamum-supplement","range":["16800","16A3F"]},{"name":"Mro","id":"mro","range":["16A40","16A6F"]},{"name":"Bassa Vah","id":"bassa-vah","range":["16AD0","16AFF"]},{"name":"Pahawh Hmong","id":"pahawh-hmong","range":["16B00","16B8F"]},{"name":"Miao","id":"miao","range":["16F00","16F9F"]},{"name":"Ideographic Symbols and Punctuation","id":"ideographic-symbols-and-punctuation","range":["16FE0","16FFF"]},{"name":"Tangut","id":"tangut","range":["17000","187FF"]},{"name":"Tangut Components","id":"tangut-components","range":["18800","18AFF"]},{"name":"Kana Supplement","id":"kana-supplement","range":["1B000","1B0FF"]},{"name":"Kana Extended-A","id":"kana-extended-a","range":["1B100","1B12F"]},{"name":"Nushu","id":"nushu","range":["1B170","1B2FF"]},{"name":"Duployan","id":"duployan","range":["1BC00","1BC9F"]},{"name":"Shorthand Format Controls","id":"shorthand-format-controls","range":["1BCA0","1BCAF"]},{"name":"Byzantine Musical Symbols","id":"byzantine-musical-symbols","range":["1D000","1D0FF"]},{"name":"Musical Symbols","id":"musical-symbols","range":["1D100","1D1FF"]},{"name":"Ancient Greek Musical Notation","id":"ancient-greek-musical-notation","range":["1D200","1D24F"]},{"name":"Tai Xuan Jing Symbols","id":"tai-xuan-jing-symbols","range":["1D300","1D35F"]},{"name":"Counting Rod Numerals","id":"counting-rod-numerals","range":["1D360","1D37F"]},{"name":"Mathematical Alphanumeric Symbols","id":"mathematical-alphanumeric-symbols","range":["1D400","1D7FF"]},{"name":"Sutton SignWriting","id":"sutton-signwriting","range":["1D800","1DAAF"]},{"name":"Glagolitic Supplement","id":"glagolitic-supplement","range":["1E000","1E02F"]},{"name":"Mende Kikakui","id":"mende-kikakui","range":["1E800","1E8DF"]},{"name":"Adlam","id":"adlam","range":["1E900","1E95F"]},{"name":"Arabic Mathematical Alphabetic Symbols","id":"arabic-mathematical-alphabetic-symbols","range":["1EE00","1EEFF"]},{"name":"Mahjong Tiles","id":"mahjong-tiles","range":["1F000","1F02F"]},{"name":"Domino Tiles","id":"domino-tiles","range":["1F030","1F09F"]},{"name":"Playing Cards","id":"playing-cards","range":["1F0A0","1F0FF"]},{"name":"Enclosed Alphanumeric Supplement","id":"enclosed-alphanumeric-supplement","range":["1F100","1F1FF"]},{"name":"Enclosed Ideographic Supplement","id":"enclosed-ideographic-supplement","range":["1F200","1F2FF"]},{"name":"Miscellaneous Symbols and Pictographs","id":"miscellaneous-symbols-and-pictographs","range":["1F300","1F5FF"]},{"name":"Emoticons (Emoji)","id":"emoticons-(emoji)","range":["1F600","1F64F"]},{"name":"Ornamental Dingbats","id":"ornamental-dingbats","range":["1F650","1F67F"]},{"name":"Transport and Map Symbols","id":"transport-and-map-symbols","range":["1F680","1F6FF"]},{"name":"Alchemical Symbols","id":"alchemical-symbols","range":["1F700","1F77F"]},{"name":"Geometric Shapes Extended","id":"geometric-shapes-extended","range":["1F780","1F7FF"]},{"name":"Supplemental Arrows-C","id":"supplemental-arrows-c","range":["1F800","1F8FF"]},{"name":"Supplemental Symbols and Pictographs","id":"supplemental-symbols-and-pictographs","range":["1F900","1F9FF"]},{"name":"CJK Unified Ideographs Extension B","id":"cjk-unified-ideographs-extension-b","range":["20000","2A6DF"]},{"name":"CJK Unified Ideographs Extension C","id":"cjk-unified-ideographs-extension-c","range":["2A700","2B73F"]},{"name":"CJK Unified Ideographs Extension D","id":"cjk-unified-ideographs-extension-d","range":["2B740","2B81F"]},{"name":"CJK Unified Ideographs Extension E","id":"cjk-unified-ideographs-extension-e","range":["2B820","2CEAF"]},{"name":"CJK Unified Ideographs Extension F","id":"cjk-unified-ideographs-extension-f","range":["2CEB0","2EBEF"]},{"name":"CJK Compatibility Ideographs Supplement","id":"cjk-compatibility-ideographs-supplement","range":["2F800","2FA1F"]},{"name":"Tags","id":"tags","range":["E0000","E007F"]},{"name":"Variation Selectors Supplement","id":"variation-selectors-supplement","range":["E0100","E01EF"]}]')},2524:function(e,t,n){var i,o;i=[n(3),n(0),n(1),n(462),n(350)],void 0===(o=function(e,t,n,i,o){"use strict";return i.extend({type:"color",valueProp:"color#data",friendlyName:function(){return this._data.getValue("name")},setPrivate:function(){return this._data.setValue("private",!0)},generateName:function(){this.setName(o.nameThatColor(this.rgb()))},isBaseColor:function(){return t.includes(this.getRoles()||[],"base-color")},isDerived:function(){return t.includes(this.getRoles()||[],"derived")},setRGB:function(e){var t={mode:"RGB",value:e};this._data.setValue("type","application/vnd.adobe.color+json"),this._data.setValue("color#data",t),this._data.setValue("ac#application","spark-web")},setHex:function(e){this.setRGB(o.hexToRgb(e))},getValue:function(){return this.rgb()},rgb:function(){var e=this._getValue();return e?e.value:{r:0,g:0,b:0}},hex:function(){return o.rgbToHex(this.rgb())},hsl:function(){return o.rgbToHsl(this.rgb())},lightened:function(e){return o.lighten(this.rgb(),e)}})}.apply(t,i))||(e.exports=o)},2525:function(e,t,n){var i,o;i=[n(3),n(0),n(1),n(462),n(49)],void 0===(o=function(e,t,n,i,o){"use strict";return i.extend({type:"font",valueProp:"font#data",friendlyName:function(){return this._data.getValue("name")},getFontFaceName:function(e,t){return t||console.warn("NOTE: AuthoringContextFont.getFontFaceName() has been deprecated - use AuthoringContextFont.getFontFace() instead."),o.getFont(e||this.getLookupKey()).then((function(e){return e&&e.face?e.face.metrics.family:""}))},getFontSubgroupName:function(e,t){return t||console.warn("NOTE: AuthoringContextFont.getFontSubgroupName() has been deprecated - use AuthoringContextFont.getFontSubgroup() instead."),o.getFont(e||this.getLookupKey()).then((function(e){return e&&e.face?e.subgroup.name+" "+e.face.name:""}))},getFontFace:function(e){return o.getFont(e||this.getLookupKey()).then((function(e){return e&&e.subgroup&&e.face?e.subgroup.name+" "+e.face.name:""}))},getFontSubgroup:function(e){return o.getFont(e||this.getLookupKey()).then((function(e){return e&&e.subgroup?e.subgroup.name:""}))},getLookupKey:function(){var e=this._getValue();if(e)return e.lookupKey},setLookupKey:function(e){var t=this._getValue();"object"==typeof e&&"tk-synced"===e.type?this._setTypekitSyncedFont(e,t):t.lookupKey=e,this.setValue(t)},_setTypkitSyncedFont:function(e,t){console.warn("set synced font info",e),t.lookupKey=null,t.source="tk-synced"},getCSSName:function(e){return o.getFont(e||this.getLookupKey()).then((function(e){return e?e.subgroup.cssName:""}))},getInfo:function(e){return n.all([this.getFontFaceName(e,!0),this.getFontSubgroupName(e,!0),this.getCSSName(e),this.getFontStyles(e),this.getFontFace(e),this.getFontSubgroup(e)]).spread(function(t,n,i,o,a,r){return{acFont:this,id:e||this.getId(),lookupKey:e||this.getLookupKey(),faceName:t,subgroupName:n,cssName:i,fontStyle:o.style,fontWeight:o.weight,face:a,subgroup:r}}.bind(this))},getFontStyles:function(e){return o.getFont(e||this.getLookupKey()).then((function(e){if(e&&e.face){var t=e.face.typekitKey.split("");return{style:{i:"italic",n:"normal"}[t[0]],weight:{1:100,2:200,3:300,4:400,5:500,6:600,7:700,8:800,9:900}[t[1]]}}}))}})}.apply(t,i))||(e.exports=o)},2526:function(e,t,n){n(0);var i,o,a,r=n(2527),s=n(1),c=!1;try{c=!!window}catch(e){}e.exports&&!c||(i=n(5),o=i.cps,a=i.key);e.exports=function(e,t){return r.extend({host:o,endPoints:{resource:"/api/v2/resources/:resourcePath",resourceS3:"/api/v2/resources/:resourcePath/\\:S3",resourceMetadata:"/api/v2/resources/:resourcePath/\\:metadata",alias:"/api/v2/"+e+"/alias",asset:"/api/v2/"+e+"/assets/:assetId",assets:"/api/v2/"+e+"/assets",health:"/api/v2/health",videoEmbed:"/api/v2/"+e+"/assets/:asset_id/video/embed",website:"/api/v2/"+e+"/assets/:asset_id/website",site:"/content/2/site/:assetId/:itemPath",like:"/api/v2/"+e+"/assets/:assetId/likes",unlike:"/api/v2/"+e+"/assets/:assetId/likes",report:"/api/v2/"+e+"/assets/:assetId/report",artwork:"/api/v2/"+e+"/assets/:assetId/artwork",original:"/api/v2/"+e+"/assets/:assetId/original",originalForPath:"/api/v2/"+e+"/assets/:assetId/original/:path",originalForPathAndVersion:"/api/v2/"+e+"/assets/:assetId/original/:path/version/:version",serverCopy:"/api/v2/resources/:resourcePath/\\:copy"},protocol:"https:",defaultParams:{api_key:a},getResourceMetadata:function(e,t){return this.request({method:"GET",url:this.url("resourceMetadata",{},e),token:t})},checkAsset:function(e){return this.request({method:"GET",url:this.url("asset",{},e)}).then((function(e){return 200==e.statusCode}))},getAsset:function(e){return this.request({method:"GET",url:this.url("asset",{},e)})},getOriginalForPath:function(e,t,n){var i;return i=n?this.url("originalForPathAndVersion",{},e,t,n):this.url("originalForPath",{},e,t),this.request({method:"GET",url:i})},getMetadata:function(e){return this.request({method:"GET",url:this.url("asset",{},e)}).then((function(e){return e.body}))},checkResource:function(e,t){return this.request({method:"GET",url:this.url("resourceS3",{},e),token:t}).then((function(e){return 200==e.statusCode}))},uploadResource:function(e,n,i,o,a){var r={"Content-Type":n};o&&(r["If-Match"]="*");var s={method:"PUT",url:this.url("resource",{},e),body:i,headers:r,token:a};return"application/json"==n&&(s.json=!0),this.request(s).then((function(e){return t?e:e.body}))},publishAsset:function(e,n,i,o,a,r){var s,c,u;return i?(c="PUT",u=this.url("asset",{},i),s=o):(c="POST",u=this.url("assets"),s={resource_path:e,resource_type:n,metadata:o}),this.request({method:c,url:u,json:!0,body:s,token:a,serviceToken:r}).then((function(e){if(t)return e;var n=e.headers.Location||e.headers.location;if(n){var o=n.replace(/\/*$/,"").split("/");i=o[o.length-1]}return i}))},updateMetadata:function(e,t){return this.publishAsset(void 0,void 0,e,t)},serverSideCopy:function(e,t){if(!t||!t.length)return s.resolve([]);var n=s.defer(),o=function(e){this.request({method:"GET",url:e+"?api_key="+i.key}).then((function(t){var i=t.body;"in_progress"==i.status||"queued"==i.status?setTimeout((function(){o(e)}),500):"done"==i.status?n.resolve(i.outputs):"failed"==i.status?n.reject(new Error("CP server side copy failed with error code: "+i.error_code)):n.reject(new Error("CP server side copy returned illegal status: "+i.status+" : url:"+t.responseURL))})).catch((function(e){n.reject(new Error("CP server side copy failed with error: "+e.message+" "+e.stack))}))}.bind(this);return this.request({method:"POST",url:this.url("serverCopy",{},e),json:!0,body:{copy:{files:t}}}).then((function(e){var t=e.headers.Location||e.headers.location;o(t)})),n.promise},updateArtwork:function(e,t,n){return this.request({method:"PUT",url:this.url("artwork",{},e),token:n,json:!0,body:{resource_path:t}})},reserveAlias:function(e){return this.request({method:"POST",url:this.url("alias",{}),token:e}).then((function(e){if(console.log({type:"pageServerPublish",message:"alias was not passed in meaning we need to reserve one. got: "+e.body.alias}),200==e.statusCode)return e.body.alias;throw new Error("CP came back with "+e.statusCode+" "+e.body)}))}})}},2527:function(e,t,n){var i,o=n(0),a=n(1);function r(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var s=n(2528),c=!1;try{c=!!window}catch(e){}if(e.exports&&!c)i=function(e){return a.resolve(e)};else{var u=n(7);i=function(){return u.getAccessToken()}}var d={methods:{setHost:function(e){this.host=e},setDefaultParams:function(e){this.defaultParams=e},setProtocol:function(e){this.protocol=e},url:function(e,t){var n=Array.prototype.slice.call(arguments);if(e=this.endPoints[e]){var i,a=2,r=!1,s=e.replace(/[^\\]{1}\:([^\/]*)/g,(function(e,t){if("string"==typeof(i=n[a++])||"number"==typeof i)return"/"+i;r=!0}));if(s=s.replace(/\\\:/,":"),a>2&&a!=n.length)throw new Error("URL helper must be called with same number of path params to match endpoint string");if(r)throw new Error("URL helper must be called with string arguments only");t=o.extend({},this.defaultParams,t||{});var c="";for(var u in a=0,t)t.hasOwnProperty(u)&&(c+=(a?"&":"?")+u+"="+t[u],a++);return(this.protocol||"http:")+"//"+this.host+s+c}},request:function(e){var t=o.extend({},e),n=o.extend({},t.headers),c=r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r();n["X-Request-Id"]=c,t.json&&(n["Content-Type"]="application/json",t.body=JSON.stringify(t.body)),delete t.json;t.method,t.url;return i(t.token).then(function(e){return t.serviceToken?(n["X-User-Token"]=e,n.Authorization=t.serviceToken):n.Authorization=e,delete t.token,delete t.serviceToken,t.headers=n,function(e){var t=a.defer();return s(e,(function(e,n){e?t.reject(e):t.resolve(n)})),t.promise}(t)}.bind(this)).then((function(e){var t;try{t=JSON.parse(e.body)}catch(n){t=e.body}return e.body=t,!e.headers&&e.getAllResponseHeaders&&(e.headers=function(e){var t={};if(!e)return t;for(var n=(e=e.replace(/^(\r?\n)*/,"")).split("\r\n"),i=0;i<n.length;i++){var o=n[i],a=o.indexOf(": ");if(a>0){var r=o.substring(0,a),s=o.substring(a+2);t[r]=s}}return t}(e.getAllResponseHeaders())),e}))}},mixin:function(e){return e.prototype=o.extend(e.prototype,d.methods),e},extend:function(e){return o.extend(e,d.methods)}};e.exports=d},2528:function(e,t,n){var i,o,a;o=[],void 0===(a="function"==typeof(i=function(){var e=XMLHttpRequest;if(!e)throw new Error("missing XMLHttpRequest");function t(a,r){if("function"!=typeof r)throw new Error("Bad callback given: "+r);if(!a)throw new Error("No options given");var s=a.onResponse;if((a="string"==typeof a?{uri:a}:JSON.parse(JSON.stringify(a))).onResponse=s,a.verbose&&(t.log=function(){var e,t,n={},a=["trace","debug","info","warn","error"];for(t=0;t<a.length;t++)n[e=a[t]]=i,"undefined"!=typeof console&&console&&console[e]&&(n[e]=o(console,e));return n}()),a.url&&(a.uri=a.url,delete a.url),!a.uri&&""!==a.uri)throw new Error("options.uri is a required argument");if("string"!=typeof a.uri)throw new Error("options.uri must be a string");for(var c=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],u=0;u<c.length;u++)if(a[c[u]])throw new Error("options."+c[u]+" is not supported");if(a.callback=r,a.method=a.method||"GET",a.headers=a.headers||{},a.body=a.body||null,a.timeout=a.timeout||t.DEFAULT_TIMEOUT,a.headers.host)throw new Error("Options.headers.host is not supported");a.json&&(a.headers.accept=a.headers.accept||"application/json","GET"!==a.method&&(a.headers["content-type"]="application/json"),"boolean"!=typeof a.json?a.body=JSON.stringify(a.json):"string"!=typeof a.body&&(a.body=JSON.stringify(a.body)));var d=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")};if(a.qs){var l="string"==typeof a.qs?a.qs:d(a.qs);-1!==a.uri.indexOf("?")?a.uri=a.uri+"&"+l:a.uri=a.uri+"?"+l}if(a.form){if("string"==typeof a.form)throw"form name unsupported";if("POST"===a.method){var h=(a.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(a.headers["content-type"]=h,h){case"application/x-www-form-urlencoded":a.body=d(a.form).replace(/%20/g,"+");break;case"multipart/form-data":var g=function(e){var t={};t.boundry="-------------------------------"+Math.floor(1e9*Math.random());var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push("--"+t.boundry+'\nContent-Disposition: form-data; name="'+i+'"\n\n'+e[i]+"\n");return n.push("--"+t.boundry+"--"),t.body=n.join(""),t.length=t.body.length,t.type="multipart/form-data; boundary="+t.boundry,t}(a.form);a.body=g.body,a.headers["content-type"]=g.type;break;default:throw new Error("unsupported encoding:"+h)}}}return a.onResponse=a.onResponse||i,!0===a.onResponse&&(a.onResponse=r,a.callback=i),!a.headers.authorization&&a.auth&&(a.headers.authorization="Basic "+function(e){var t,n,i,o,a,r,s,c,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=0,l=0,h="",g=[];if(!e)return e;do{t=e.charCodeAt(d++),n=e.charCodeAt(d++),i=e.charCodeAt(d++),o=(c=t<<16|n<<8|i)>>18&63,a=c>>12&63,r=c>>6&63,s=63&c,g[l++]=u.charAt(o)+u.charAt(a)+u.charAt(r)+u.charAt(s)}while(d<e.length);switch(h=g.join(""),e.length%3){case 1:h=h.slice(0,-2)+"==";break;case 2:h=h.slice(0,-1)+"="}return h}(a.auth.username+":"+a.auth.password)),function(i){var o=new e,a=!1,r=function(e){var t,n=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{t=location.href}catch(e){(t=document.createElement("a")).href="",t=t.href}var i=n.exec(t.toLowerCase())||[],o=n.exec(e.toLowerCase());return!(!o||o[1]==i[1]&&o[2]==i[2]&&(o[3]||("http:"===o[1]?80:443))==(i[3]||("http:"===i[1]?80:443)))}(i.uri),s="withCredentials"in o;if(n+=1,o.seq_id=n,o.id=n+": "+i.method+" "+i.uri,o._id=o.id,r&&!s){var c=new Error("Browser does not support cross-origin request: "+i.uri);return c.cors="unsupported",i.callback(c,o)}o.timeoutTimer=setTimeout((function(){a=!0;var e=new Error("ETIMEDOUT");return e.code="ETIMEDOUT",e.duration=i.timeout,t.log.error("Timeout",{id:o._id,milliseconds:i.timeout}),i.callback(e,o)}),i.timeout);var u={response:!1,loading:!1,end:!1};return o.onreadystatechange=function(n){if(a)return t.log.debug("Ignoring timed out state change",{state:o.readyState,id:o.id});if(t.log.debug("State change",{state:o.readyState,id:o.id,timed_out:a}),o.readyState===e.OPENED)for(var r in t.log.debug("Request started",{id:o.id}),i.headers)o.setRequestHeader(r,i.headers[r]);else o.readyState===e.HEADERS_RECEIVED?d():o.readyState===e.LOADING?(d(),l()):o.readyState===e.DONE&&(d(),l(),function(){if(!u.end){if(u.end=!0,t.log.debug("Request done",{id:o.id}),o.body=o.responseText,i.json)try{o.body=JSON.parse(o.responseText)}catch(e){return i.callback(e,o)}i.callback(null,o,o.body)}}())},o.open(i.method,i.uri,!0),r&&(o.withCredentials=!!i.withCredentials),o.send(i.body),o;function d(){if(!u.response){if(u.response=!0,t.log.debug("Got response",{id:o.id,status:o.status}),clearTimeout(o.timeoutTimer),o.statusCode=o.status,r&&0==o.statusCode){var e=new Error("CORS request rejected: "+i.uri);return e.cors="rejected",u.loading=!0,u.end=!0,i.callback(e,o)}i.onResponse(null,o)}}function l(){u.loading||(u.loading=!0,t.log.debug("Response body loading",{id:o.id}))}}(a)}t.log={trace:i,debug:i,info:i,warn:i,error:i};var n=0;function i(){}function o(e,t){return function(n,i){return"object"==typeof i&&(n+=" "+JSON.stringify(i)),e[t].call(e,n)}}return t.withCredentials=!1,t.DEFAULT_TIMEOUT=18e4,t.defaults=function(e,n){var i=function(t){return function(n,i){for(var o in n="string"==typeof n?{uri:n}:JSON.parse(JSON.stringify(n)),e)void 0===n[o]&&(n[o]=e[o]);return t(n,i)}},o=i(t);return o.get=i(t.get),o.post=i(t.post),o.put=i(t.put),o.head=i(t.head),o},["get","put","post","head"].forEach((function(e){var n=e.toUpperCase();t[e.toLowerCase()]=function(e){"string"==typeof e?e={method:n,uri:e}:(e=JSON.parse(JSON.stringify(e))).method=n;var i=[e].concat(Array.prototype.slice.apply(arguments,[1]));return t.apply(this,i)}})),t.couch=function(e,n){return"string"==typeof e&&(e={uri:e}),e.json=!0,e.body&&(e.json=e.body),delete e.body,n=n||i,t(e,(function(e,t,i){if(e)return n(e,t,i);if((t.statusCode<200||t.statusCode>299)&&i.error){for(var o in e=new Error("CouchDB error: "+(i.error.reason||i.error.error)),i)e[o]=i[o];return n(e,t,i)}return n(e,t,i)}))},t})?i.apply(t,o):i)||(e.exports=a)},2529:function(e,t,n){var i,o;i=[n(3),n(0),n(1),n(462),n(350)],void 0===(o=function(e,t,n,i,o){"use strict";return i.extend({type:"logo",valueProp:void 0,setContext:function(e){this._context=e},getHrefAsync:function(e,t){t=t||"image/png";var i=this._context,o=this.getData();if(i){var a=i.composite.getChildWithMap("logos."+o.getValue("path")+".!image");if(a)return i.composite.getImageComponentHref(a,e,t)}return n.resolve(null)},load:function(e,t){var i=n.defer();return this.getHrefAsync(e,t).then(function(e){var t=new Image;t.onload=function(){i.resolve(e)},t.onerror=function(e){i.reject(e)},e?t.src=e:(console.warn("href for logo "+this.getId()+" could not be found"),i.resolve(void 0))}.bind(this)).catch((function(e){i.reject(e)})),i.promise}})}.apply(t,i))||(e.exports=o)},264:function(e,t,n){var i,o;i=[n(0),n(1),n(46)],void 0===(o=function(e,t,n){return new(n.extend({_startingCreateDoc:function(){this.loadDocumentPromise=null}}))}.apply(t,i))||(e.exports=o)},267:function(e,t,n){var i,o;i=[n(3),n(0),n(1),n(2),n(17),n(9),n(7),n(1634),n(199),n(264),n(39)],void 0===(o=function(e,t,n,i,o,a,r,s,c,u,d){"use strict";return new(i.Model.extend({initialize:function(){this._factories=[],this._pendingPromises=[],this.authoringContextFactoryCreate=this.authoringContextFactoryCreate.bind(this)},setGlobalActiveContext:function(e){try{window.localStorage&&(e?window.localStorage.setItem("ac-active-id-"+r.getProfile().userId,e):window.localStorage.removeItem("ac-active-id-"+r.getProfile().userId))}catch(t){this._backupActiveContextId=e}},getGlobalActiveContext:function(){var e;try{window.localStorage&&(e=window.localStorage.getItem("ac-active-id-"+r.getProfile().userId))}catch(t){e=this._backupActiveContextId}return e?this.getContextById(e):this.getDefaultContext()},addAuthoringContextFactory:function(e){this._factories.push(e)},authoringContextFactoryCreate:function(e){var n;return t.each(this._factories,function(t){t.supportsComposite(e)&&(n=t.create())}.bind(this)),n||(n=new s),n.setComposite(e),n},getContextList:function(e){return d.load().then(function(n){return c.load().then(function(){return n.ACPSparkController.listAuthoringContexts(this.authoringContextFactoryCreate).then(function(n){var i=[];t.each(n,(function(t){!t||!t.composite||"INCOMING"===t.composite.getCollaboration()&&e||i.push(t)}));var o=t.filter(i,(function(e){return e.activated()})),r=o&&o.length;return a.trackEvent("brandsLoaded",{numActivatedBrands:r},"organizer"),i}.bind(this))}.bind(this))}.bind(this))},sortContextList:function(e){return e.sort((function(e,t){return e.isDefault()?-1:t.isDefault()?1:e.getName().localeCompare(t.getName())})),e},operationPending:function(e){this._pendingPromises.push(e)},getPendingPromises:function(){return this._pendingPromises},getActivatedContextsByType:function(e,n){return this.getContextList(n).then(function(e){var n=[];return t.each(e,function(e){e.activated()&&n.push(e)}.bind(this)),n}.bind(this))},getContextsByType:function(e,n,i){return this.getContextList(n).then(function(n){var o=[];return t.each(n,function(t){t.getType()===e&&o.push(t)}.bind(this)),i&&this.sortContextList(o),o}.bind(this))},getDefaultContext:function(e){return this.getContextsByType(e,!0).then((function(e){var n=t.find(e,(function(e){return e.isDefault()}));return n?n.upgrade():null}))},setDefaultContext:function(e){var i=e.getType();return this.getContextsByType(i,!0).then((function(i){return n.all(t.map(i,(function(e){return e.composite.getDCXRoot().setValue("ac#default",!1),e.save()}))).then((function(){return e.composite.getDCXRoot().setValue("ac#default",!0),e.save()}))}))},createContext:function(e,t){return u.createDocument({}).then(function(n){var i,o=n.getDCXRoot();return n.setName(e),o.setValue("ac#type",t),o.setValue("ac#version",s.prototype.getACVersion()),(i=this.authoringContextFactoryCreate(n)).save().then(function(){return i}.bind(this)).then((function(){return d.load().then((function(e){return e.SparkStorageLoader.invalidateAuthoringContextCache().then((function(){return window.marvel.events.trigger("authoring-context-added",i),i}))}))}))}.bind(this))},deleteContext:function(e){return e.delete().then(function(){return window.marvel.events.trigger("authoring-context-deleted",e),n.resolve()}.bind(this))},getContextById:function(e){return e?this.getContextList().then(function(i){var o;return t.each(i,function(t){t.getId()!==e&&t.getURN()!==e||(o=t)}.bind(this)),o?o.upgrade():n.resolve(null)}.bind(this)):n.resolve(null)},getActiveContext:function(e){if(e){var i=e.getMyApp();if(i){var o=i.getAuthoringContextId(e);return o?this.getContextList().then(function(i){var a=null;return t.each(i,function(e){e.getId()!==o&&e.getURN()!==o||(a=e)}.bind(this)),a||(window.marvel.logger.warn("failed to find active AuthoringContext for "+e.get("id")+" with AC.id == "+o),n.resolve(null))}.bind(this)):n.resolve(null)}return window.marvel.logger.warn("[AuthoringContextController] null app in getActiveContext doc# "+e.get("id")),n.resolve(null)}return window.marvel.logger.warn("[AuthoringContextController] null doc in getActiveContext"),n.resolve(null)},setActiveContext:function(e,t){if(e&&e.belongsToUser()){var i=null;return e&&(i=e.getId()),t.getMyApp().setAuthoringContextId(t,i)}return n.resolve(null)},setLastPublishedContext:function(e,t){var n=null;return e&&(n=e.getId()),t.getMyApp().setLastPublishedAuthoringContextId(t,n)},deleteAllUnactivatedContexts:function(){return this.getContextList(!0).then(function(e){return n.all(t.reduce(e,(function(e,t){return t.activated()||e.push(t.delete()),e}),[]))}.bind(this))}}))}.apply(t,i))||(e.exports=o)},276:function(e,t,n){var i,o;i=[n(3),n(0),n(1),n(2),n(11),n(859),n(20),n(8),n(5),n(1634),n(267),n(23),n(2526),n(431),n(59),n(350),n(49),n(382),n(15),n(2529)],void 0===(o=function(e,t,n,i,o,a,r,s,c,u,d,l,h,g,f,m,p,b,y,v){"use strict";var C,F=new o({color:"#0000ff",name:"brand-kit"}),w=c.brandedChromeCommunity,k=h(w),N=["chrome-preloader-logo","chrome-header-logo","chrome-footer-logo"],A=["primary-logo","generated-logo","chrome-header-logo","chrome-footer-logo","chrome-preloader-logo","post-stamp","outro-logo"],S=["headerCTAEnabled","footerCTAEnabled","headerCTA","footerCTA","headerCTAURL","footerCTAURL","headerCTAButtonStyle","footerCTAButtonStyle","facebookURL","twitterURL","instagramURL"],x={page:3,video:3,post:0},R={page:3,video:3,post:23},K={page:3,video:3,post:23};return C=u.extend({initialize:function(){u.prototype.initialize.apply(this,arguments)},getDefaultName:function(){var e=window.adobeIMS.getUserProfile().first_name||"";return e?e+"'s Brand":"My Brand"},getSetupPercentDone:function(){return n.all([this.getLogoWithUniqueRole("primary-logo"),this.getColorWithUniqueRole("base-color"),this.getFontWithUniqueRole("headline-font")]).spread(function(e,t,n){return(!!e+!!t+!!n)/3}.bind(this))},deleteAuthoringContextLogo:function(e){return this.deleteLogo(e.getData())},deleteLogo:function(e){return this.deleteNamedImageAsset(e,l.LOGOS_PARENT)},getLogos:function(){return this.composite.acquireNestedChildren(l.LOGOS_PARENT,!0).then(function(e){return e||[]}.bind(this))},getLogosSync:function(){return this.composite.acquireNestedChildrenSync(l.LOGOS_PARENT)},convertLogoToAuthoringContextLogo:function(e){var t=new v;return t.setContext(this),t.setData(e),t},getAuthoringContextLogos:function(){return this.composite.acquireNestedChildren(l.LOGOS_PARENT,!0).then(function(e){return t.map(e,function(e){return this.convertLogoToAuthoringContextLogo(e)}.bind(this))}.bind(this))},getLogoHref:function(e,t,i){return i=i||"image/png",this.getAssetWithUniqueRole(l.LOGOS_PARENT,t||"primary-logo").then(function(t){return t?this.hrefForImage(l.LOGOS_PARENT,t,e,i||"image/png"):n.resolve(null)}.bind(this))},getThumbnailURL:function(e){return this.getLogoHref(e||200)},_removeLogoWithRole:function(e){var t,n,i=this.getLogoWithRoleSync(e);i&&(t=l.LOGOS_PARENT+"."+i.getValue("path")+".!image",(n=this.composite.getChildWithMap(t))&&(this.composite.getDCXComposite().current.removeComponent(n),this.save(),console.warn("Removed the component with "+e)))},hasLogoWithRole:function(e){var t,n=this.getLogoWithRoleSync(e);return!(!n||(t=l.LOGOS_PARENT+"."+n.getValue("path")+".!image",!this.composite.getChildWithMap(t)))},getLogoWithRoleSync:function(e){var n=this.composite.acquireNestedChildrenSync(l.LOGOS_PARENT);return t.find(n,function(t){return this.hasRole(t,e)}.bind(this))},getLogoWithUniqueRole:function(e){return this.getAssetWithUniqueRole("logos",e).then(function(e){if(e){var t=new v;return t.setContext(this),t.setData(e),t}return null}.bind(this))},getChromeInfo:function(){var e,i=[];return this.composite.getSharedCloudCollectionId().then(function(t){e=t;for(var o=[],a=0,r=N.length;a<r;a++){var s=N[a];o.push(this.getAssetWithUniqueRole(l.LOGOS_PARENT,s))}return i=[this.getColorWithUniqueRole("chrome-text-color"),this.getColorWithUniqueRole("chrome-footer-color"),this.getColorWithUniqueRole("chrome-social-icons-color"),this.getColorWithUniqueRole("chrome-background-color"),this.getColorWithUniqueRole("chrome-header-cta-background-color"),this.getColorWithUniqueRole("chrome-footer-background-color"),this.getColorWithUniqueRole("chrome-header-cta-color")],n.all(i.concat(o))}.bind(this)).then(function(o){for(var a={name:this.getName(),logos:[]},r=this.composite.getDCXComposite().current,s=[],c=i.length,u=function(e,t,n){return t.getImageComponentHref(n,500,"image/png").then((function(t){return a[e+"-href"]=t,t}))},d=0,l=N.length;d<l;d++){var h=o[d+c];if(h){var g=r.getComponentsOf(h)[0],f=t.extend({},h._data.components[0]),m=N[d];f.absolutePath=e+"/"+f.id,f.name=N[d],a.logos.push(f),s.push(u(m,this.composite,g))}}for(d=0,l=S.length;d<l;d++){var p=S[d];a[p]=this.getViewerPageInfo(p)}var b=o[0],y=o[1],v=o[2],C=o[3],F=o[4],w=o[5],k=o[6];return b&&(a["chrome-text-color"]=b.hex()),y&&(a["chrome-footer-color"]=y.hex()),v&&(a["chrome-social-icons-color"]=v.hex()),C&&(a["chrome-background-color"]=C.hex()),F&&(a["chrome-header-cta-background-color"]=F.hex()),w&&(a["chrome-footer-background-color"]=w.hex()),k&&(a["chrome-header-cta-color"]=k.hex()),n.allSettled(s).then((function(){return a}))}.bind(this))},getChromeChecksum:function(){var e,n="",i=function(e,t){t&&(n.length&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(t))},o=function(t){return t.name==e};return this.getChromeInfo().then(function(r){for(var s=0,c=N.length;s<c;s++){e=N[s];var u=t.find(r.logos,o);u&&i(e,u.etag)}for(s=0,c=S.length;s<c;s++){var d=S[s];i(d,r[d])}return i("chrome-text-color",r["chrome-text-color"]),i("chrome-footer-color",r["chrome-footer-color"]),i("chrome-social-icons-color",r["chrome-social-icons-color"]),i("chrome-background-color",r["chrome-background-color"]),i("chrome-header-cta-background-color",r["chrome-header-cta-background-color"]),i("chrome-footer-background-color",r["chrome-footer-background-color"]),(new a).update(n).digest("hex")}.bind(this))},changesSinceLastPublish:function(){var e=this.composite.getDCXRoot().getValue("cp#assetId");return e?n.all([k.getMetadata(e),this.getChromeChecksum()]).spread((function(t,n){var i=t&&t.custom?t.custom.checksum:void 0,o=t.version;if("string"!=typeof o&&void 0!==o)throw new Error("CP did not return a valid version");return{assetId:e,version:o,checksum:n,changes:n!=i}})):n.resolve({changes:!0})},publish:function(e){var i,o,a,r,s=this.composite.getDCXComposite().id,c=s+"/manifest",u=[],d=function(e){return e.name==r};return this.getChromeInfo().then(function(e){a=e;for(var n=0,i=N.length;n<i;n++){r=N[n];var o=t.find(a.logos,d);o&&o.type&&o.absolutePath&&o.id&&u.push({content_type:o.type,source:o.absolutePath,destination:o.id})}return k.serverSideCopy(s,u)}.bind(this)).then(function(e){for(var i,o=[],s=function(e){return e.path==i},u=0,l=N.length;u<l;u++){r=N[u];var h=t.find(a.logos,d);if(h){i=h.id;var g=t.find(e,s);o.push({name:r,id:g.path,path:g.path,version:g.version,type:h.type,state:"unmodified",etag:h.etag})}}delete a.logos;var f={"manifest-format-version":6,name:this.getName(),type:"application/vnd.adobe.sparkchrome.document+dcx",state:"unmodified",id:this.getId(),components:o,"authctx#chromeinfo":a};return n.all([k.checkResource(c).then((function(e){return k.uploadResource(c,"application/json",f,e)})),this.getChromeChecksum()])}.bind(this)).spread(function(t,n){return i=t.version,o=n,k.publishAsset(s,"application/vnd.adobe.sparkchrome.document+dcx",e,{main_resource:{resource_path:"manifest",resource_version:i}})}.bind(this)).then(function(t){return!e&&t&&(e=t),this.composite.pull()}.bind(this)).then(function(){this.composite.getDCXRoot();return this.composite.saveChanges((function(t){t.setValue("cp#assetId",e)})).then((function(){return{assetId:e,checksum:o,version:i}}))}.bind(this))},_generateLogoFromTitle:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),i=this.getName(),o=g.getTextWidthDOM(i,"333px Lato");t.width=o,t.height=400,n.fillStyle=e?"#ffffff":"#000000",n.font="333px Lato",n.textAlign="center",n.textBaseline="middle",n.fillText(i,o/2,200);var a=t.toDataURL("image/png");return f(a)},generateLogoFromTitle:function(e,t,i){var o=this._generateLogoFromTitle(),a=this._generateLogoFromTitle(!0);return n.all([this.uploadImageAsset("{new}",l.LOGOS_PARENT,o,void 0,e,void 0,i),this.uploadImageAsset("{new}",l.LOGOS_PARENT,a,void 0,t,void 0,i)])},updateLogoFromTitle:function(e,t){var n=this._generateLogoFromTitle(t);return this.uploadImageAsset(e,l.LOGOS_PARENT,n)},updateLogo:function(e,t){return this.getLogoWithUniqueRole(e).then(function(e){var n=e.getData().path;if(!t){var i=this._generateLogoFromTitle();t=i[1]}return this.uploadImageAsset(n,l.LOGOS_PARENT,t,void 0,void 0,l.MAX_LOGO_SIZE)}.bind(this)).then(function(){return this.getLogoWithUniqueRole(e)}.bind(this)).then(function(e){return e}.bind(this))},applyLogoToThemeThumbnail:function(e,t,i,o,a){return this.getLogoWithUniqueRole("primary-logo").then((function(e){var t=e.getValue(o,"image/png"),i=e.getValue(a,"image/png"),r=n.defer(),s=n.defer(),c=new Image,u=new Image;return c.onload=function(){r.resolve(c)},c.src=t,u.onload=function(){s.resolve(u)},u.src=i,n.all([r.promise,s.promise])})).spread((function(n,r){var s,c=n.width,u=n.height;r.width,r.height;s=c<=o&&u<=a?n:r,e.drawImage(s,t,i)}))},generateStamp:function(e,t,i){var o=this;return t=t||"{new}",p.inject().then((function(a){var r=n.defer(),s=function(n){var a=o.getName().toUpperCase(),s=document.createElement("canvas"),c=s.getContext("2d"),u=150,d="700 "+u+"px "+n,h=g.getTextWidthDOM(a,d),m=h+180,p=240,b=1;m>1024&&(b=1024/m,d="700 "+(u=Math.floor(150*b))+"px proxima-nova",m=1024,p=Math.floor(p*b),h=g.getTextWidthDOM(a,d)),s.width=m,s.height=p,c.imageSmoothingEnabled=!1,c.fillStyle="rgba(255, 255, 255, 0.6)",c.fillRect(0,0,m,p),c.globalCompositeOperation="destination-out";var y=(m-h)/2,v=p/2;c.font=d,c.fillStyle="#000",c.textBaseline="middle",c.fillText(a,y,v),c.globalCompositeOperation="source-over",c.font=d,c.textBaseline="middle",c.fillStyle="rgba(0,0,0,0.3)",c.fillText(a,y,v);var C=f(s.toDataURL("image/png"));o.uploadImageAsset(t,l.LOGOS_PARENT,C,"generated-stamp",e,void 0,i).then((function(e){r.resolve(e)})).catch((function(e){console.warn("Error uploading stamp",e),r.reject(e)}))};return-1===document.documentElement.className.search(/wf-proximanova-n7-active/)?(window.marvel.logger.warn("[brand setup] unexpected: Stamp detected that Proxima Nova was not loaded, attempting to load via TypeKitPreview"),a.load([{id:"vcsm",variations:["n7"],css_name:"proxima-nova",name:"Proxima Nova"}],{active:function(){s("proxima-nova")},inactive:function(e,t){window.marvel.logger.error("Error generating stamp inactive",{fontFamily:e,fontDescription:t}),r.reject(new Error("Error generating stamp inactive"))},fontinactive:function(e,t){var n="Error generating stamp fontinactive";window.marvel.logger.error(n,{fontFamily:e,fontDescription:t}),r.reject(new Error(n))}})):s("proxima-nova"),r.promise}))},getClientCommunityPlatform:function(){return h},fullUpdate:function(e){var i=n.defer(),o={},a=[];t.each(this.getCustomFonts(!0),function(n){var i=n.getMetrics();if(!i||!i.version||i.version<this.CURRENT_FONT_METRICS_VERSION){F.warn("Brand font ("+n.friendlyName()+") had an outdated version number ("+i.version+" < "+this.CURRENT_FONT_METRICS_VERSION+"). Recalculating metrics.");var r,s=n.cssName(),c=n.friendlyName();a.push(n.getFileAsBlob().then((function(e){return b.extractFontInfo(e)})).then((function(e){return r=e,n.loadFont()})).then(function(){return b.generateMetricsAsync(c,s,r).then(function(e){e.version=this.CURRENT_FONT_METRICS_VERSION,n.getValue().metrics=e,F.warn("Metrics recalculation for brand font ("+n.friendlyName()+") completed.")}.bind(this)).catch((function(e){var t="Metrics recalculation for brand font ("+n.friendlyName()+") failed: "+e;throw e.message=t,e}))}.bind(this)).then((function(){var i=e.getThemesUsingAssets([n]);t.each(i,(function(e){var t=e.theme;o[t.id]?o[t.id].assets.push(n):o[t.id]={theme:e,assets:[n]}}))})))}}.bind(this));var r=[];return n.all(a).then(function(){return n.all(t.map(o,(function(t){return r.push(t.theme),e.updateThemesWithAssets([t.theme],t.assets)})))}.bind(this)).then(function(){return this.updateThemeThumbnails(r)}.bind(this)).then(function(){return this.save()}.bind(this)).then(function(){i.resolve()}.bind(this)).catch((function(e){F.warn(e),i.reject(e)})),i.promise},isFullUpdateNeeded:function(){var e=!1;return t.each(this.getCustomFonts(!0),function(t){var n=t.getMetrics();if(!n||!n.version||n.version<this.CURRENT_FONT_METRICS_VERSION)return e=!0,!1}.bind(this)),e},validateAndRepair:function(){var e=[];return this.activated()&&(this.hasLogoWithRole("video-watermark")||e.push(this.generateStamp(["video-watermark","generated-stamp"]))),n.allSettled(e).then(function(){return this}.bind(this))},resetBrand:function(){var e=this.getLogoWithRoleSync("generated-stamp");e&&this.composite.removeChild(e);var t=this.getLogoWithRoleSync("generated-logo");t&&this.composite.removeChild(t),(t=this.getLogoWithRoleSync("generated-logo-inverted"))&&this.composite.removeChild(t);var n=this.composite.getChildWithMap("viewerpage");n&&this.composite.removeChild(n);var i=this.composite.getChildWithMap("videooutro");i&&this.composite.removeChild(i);var o=this.composite.getChildWithMap("themes");return o&&this.composite.removeChild(o),this.deactivate(),this.save()},applyWhiteLogoRoleIfNecessary:function(e){this.getLogosSync();return m.colorsFromImage(e.getHrefAsync(600,"image/png"),5,!0).then(function(t){1===t.length&&m.getLuminosity(m.hexToRgb(t[0]))>248?this.addRole(e.getData(),"white-logo"):this.removeRole(e.getData(),"white-logo")}.bind(this))},setup:function(e,n){Date.now();return window.marvel.logger.info("[brand setup] generating stamp"),this.generateStamp(["video-watermark","generated-stamp"],void 0,!0).then(function(){if(e)return window.marvel.logger.info("[brand setup] no logo found - generating logo"),this.generateLogoFromTitle(A,["generated-logo-inverted","chrome-footer-logo"],!0)}.bind(this)).then(function(){var e=this.convertLogoToAuthoringContextLogo(this.getLogoWithRoleSync("primary-logo"));return this.applyWhiteLogoRoleIfNecessary(e)}.bind(this)).then(function(){window.marvel.logger.info("[brand setup] setting viewer page metadata");var e=y.getString("brand-viewer-page-cta-placeholder");return this.setViewerPageInfo({ctaLabel:e,headerCTA:e,footerCTA:e,ctaEnabled:!1,headerCTAEnabled:!1,footerCTAEnabled:!1},void 0,!0)}.bind(this)).then(function(){return window.marvel.logger.info("[brand setup] setting video outro info"),this.setOutroInfo({message:y.getString("brand-outro-message-placeholder")},void 0,!0)}.bind(this)).then(function(){return window.marvel.logger.info("[brand setup] starting theme/template generation"),this.generateThemes(n).catch((function(e){if(e.resetBrand)throw window.marvel.logger.error("[brand setup] found resetBrand error",e),e;return window.marvel.logger.error("[brand setup] error generating themes",e),null}))}.bind(this)).then(function(){t.each(Object.keys(r.apps),function(e,n){var i=r.apps[e].typeName,o="enable-brand-kit-"+i+"-themes";if(s.hasFeature(o)){var a=this.composite.acquireNestedChildrenSync("themes");if((a=t.filter(a,(function(e){return e.getValue("ac#format")==i}))).length<x[i]){var c=new Error("Too few "+i+" themes/templates. Attempted to generate "+K[i]+". Would have been ok to only have "+x[i]+". Only ended up with "+a.length);throw c.resetBrand=!0,c}a.length<K[i]&&window.marvel.logger.warn("[brand setup] There was an error in generating "+(K[i]-a.length)+" "+i+" themes/templates. User was allowed to continue because they were successful in generating at least "+x[i]+" of them.")}}.bind(this))}.bind(this)).then(function(){return this.activate(),window.marvel.events.trigger("brand-activated",this),this.recordEntitlmentIfInterested(),this.save()}.bind(this))},generateThemes:function(e){return n.allSettled(t.map(Object.keys(r.apps),function(i,o){var a=r.apps[i],c=a.typeName,u="enable-brand-kit-"+c+"-themes";if("post"!==c&&s.hasAny("enable-brand-kit-in-progress",u))return a.getThemeController(this).then(function(i){try{var o=i.getNumberOfGeneratedThemes?i.getNumberOfGeneratedThemes():void 0;return o||(o="number"==typeof R[c]?n.resolve(R[c]):n.resolve(-1)),o.then(function(o){return K[c]=o,window.marvel.logger.info("[brand setup] generating "+c+" themes/templates"),i.addGeneratedThemes&&"function"==typeof i.addGeneratedThemes?i.addGeneratedThemes(this):i.getGeneratedThemes&&"function"==typeof i.getGeneratedThemes?i.getGeneratedThemes(this).then(function(o){return n.allSettled(t.map(o,function(t){return this.createTheme(c,(function(e){e.setValue("theme#data",t)}),(function(t,n){return e&&e(),i.generateThemeRendition(t,n)}),!0)}.bind(this)))}.bind(this)):void 0}.bind(this))}catch(e){window.marvel.logger.error("[brand setup] error generating themes/templates: "+e.message,e)}}.bind(this))}.bind(this))).then(function(e){t.each(e,(function(e){var t=e&&e.reason;if("fulfilled"!==e.state&&t&&t.resetBrand)throw t;"fulfilled"!==e.state&&t&&window.marvel.logger.warn("[brand setup] Unexpected error in generating themes/templates: "+t.message,t)}))}.bind(this))}}),d.addAuthoringContextFactory({supportsComposite:function(e){return!0},create:function(){return new C}}),C}.apply(t,i))||(e.exports=o)},32:function(e,t,n){var i,o;i=[n(3),n(0),n(2),n(1),n(5),n(8),n(9),n(23),n(15),n(125),n(18)],void 0===(o=function(e,t,n,i,o,a,r,s,c,u,d){"use strict";return n.Model.extend({defaultCfg:{syncGroup:"",scope:"",newDocName:"Untitled",community:"",doctype:"",legacyName:"",displayName:""},registeredName:null,deferredLoading:null,initialize:function(){},typeName:null,getConfig:function(){},getAppTypeID:function(){return this.getSetting("scope")},isaProjectFormat:function(){return!0},getDisplayName:function(e){var t=this.getSetting("displayName");return e?c.getString("product-name")+" "+t:t},isEnabled:function(){var e=this.getSetting("enabledFlagName");return!e||a.hasFeature(e)},supportsCollaboration:function(){return!0},requiresDocumentLocking:function(e){return this.supportsCollaboration()},supportsDownload:function(){return!0},appSupportsEditorSearch:function(){return!1},supportsDirectDownload:function(){return"post"===this.typeName},supportsAsyncPublish:function(){return!1},getSetting:function(e){var t=this.getConfig()[e];return void 0===t&&(t=this.defaultCfg[e]),t},getCPCommunity:function(){return this.getConfig().community},isDocPublished:function(e){return!!this.getCPAlias(e)},generateCPProjectId:function(e){return e.get("id")},setCPProjectId:function(e,t){e.saveChanges(function(e){e.setValue("cp#projectId",t)}.bind(this))},getCPProjectId:function(e){return e.getDCXRoot().getValue("cp#projectId")},getCPAlias:function(e){return e.getDCXRoot().getValue("cp#shortId")},setCPAlias:function(e,t){return e.saveChanges((function(e){e.setValue("cp#shortId",t)}))},getCPAssetId:function(e){return e.getDCXRoot().getValue("cp#assetId")},setCPAssetId:function(e,t){return e.saveChanges((function(e){e.setValue("cp#assetId",t)}))},getDocContentETag:function(e){return console.error("ERROR: Apps must implement getDocContentETag in appImpl"),""},getPublishedContentETag:function(e){return e.getDCXRoot().getValue("cp#publishedEtag")},setPublishedContentETag:function(e,t){return e.saveChanges(function(n){n.setValue("cp#publishedEtag",t||this.getDocContentETag(e))}.bind(this))},usesContentModifiedEtags:function(){return!0},isBrowserSupported:function(){return!0},getUnsupportedBrowserMessage:function(){return""},hasContentBeenUpdatedSincePublish:function(e,t){i.defer();var n=this.getDocContentETag(e);if(n){var o=this.getPublishedContentETag(e);return!o||n!==o}return e.getContentModifiedDate({preferCpContentModified:!0})-new Date(t)>6e4},setProjectName:function(e,t){console.error("ERROR: Apps must implement setProjectName in appImpl")},getProjectName:function(e,t){return this!==e.getMyPrimaryApp()?e.getMyPrimaryApp().getProjectName(e,t):(console.error("ERROR: Apps must implement getProjectName in appImpl"),"")},checkDocCompatibility:function(e,t){return i.resolve()},getLicensableResources:function(e,n){return n=n||{},this.getImageComponentsInfoForDoc(e).then(function(e){return t.isUndefined(n.licensed)?t.filter(e,this.licensingRelevant.bind(this)):n.licensed?t.filter(e,this._isInfoComponentLicensed.bind(this)):t.filter(e,function(e){return this.licensingRelevant(e)&&this._isInfoComponentUnlicensed(e)}.bind(this))}.bind(this))},batchCheckLicenses:function(e){var t=a.hasFeature("user-flag-image-source-stock");return this.getImageComponentsInfoForDoc(e).then(function(e){var n=e.reduce(function(e,n){var i=n.data.licenseType||n.data.license&&n.data.license.type;if(i&&i.match(/^royalty_free/)){if(!t)throw new Error("User blocked from stock");if(i.match(/^royalty_free_(standard|extended)$/)){var o=n.data.assetID||n.data.license.asset_id||n.data.license.image_id;o&&e.push(o)}}return e}.bind(this),[]);return n.length>0?u.batchGetItemsInfo(n,{params:["is_licensed","id"]}):i.resolve([])}.bind(this)).then((function(e){return window.marvel.logger.traceflow("stock-license-check","batchCheckLicenses:"+JSON.stringify(e)),!e.find((function(e){return""===e.is_licensed}))})).catch((function(e){return window.marvel.logger.warn("batchCheckLicenses - caught exception:",{message:e&&e.message,stack:e&&e.stack}),!1}))},getImageMetadataForAnalytics:function(e){if("post"==this.typeName)return{};var n={google:0,dropbox:0,dooplo:0,facebook:0,stock:0,creativeCloud:0,lightroom:0,uploaded:0};return this.getImageComponentsInfoForDoc(e).then(function(e){var i=!1,o=!1;return t.each(e,function(e){var t,a;e&&e.data&&e.data.srcName&&(t=e.data.srcName,a=n[t],n[t]=a+1),this.licensingRelevant(e)&&(this._isInfoComponentLicensed(e)?o=!0:i=!0)}.bind(this)),{contextualData13:"hasLicensedImages:"+o,contextualData14:"hasUnlicensedImages:"+i,contextualData15:"hasGoogleImages:"+!!n.google,contextualData16:"hasDropboxImages:"+!!n.dropbox,contextualData17:"hasDooploImages:"+!!n.dooplo,contextualData18:"hasFacebookImages:"+!!n.facebook,contextualData19:"hasStockImages:"+!!n.stock,contextualData20:"hasCCImages:"+!!n.creativeCloud,contextualData21:"hasLightroomImages:"+!!n.lightroom,contextualData22:"hasUploadedImages:"+!!n.uploaded}}.bind(this))},licensingRelevant:function(e){return!t.isEmpty(e.data.license)&&"Adobe Stock"===e.data.license.source_name||"Adobe Stock"===e.data.srcName||"stock"===e.data.srcName},_isInfoComponentLicensed:function(e){return!(!e.data||t.isEmpty(e.data.license))&&"royalty_free"!==(t.isObject(e.data.license)?e.data.license.type:e.data.license)},_isInfoComponentUnlicensed:function(e){return!this._isInfoComponentLicensed(e)},getImageComponentsInfoForDoc:function(e){return e.getImageComponents()},lazyLoad:function(e){},load:function(){return this.deferredLoading||(this.deferredLoading=i.defer(),this.lazyLoad(this.deferredLoading)),this.deferredLoading.promise},loadForShare:function(e,t){},loadDesignView:function(e,n){this.load().then(function(){var i,o=this.getStorageImpl();n.showPreview?(i=new this.viewCls,e.renderSubView(i,o,n)):o.createDocument(n).then(function(t){i=new this.viewCls,e.renderSubView(i,o,n)}.bind(this),function(i){if(console.warn("Failed to create the document, can't init design view: ",i),"NO_COMPOSITE"!==i.code&&"NOT_COMPATIBLE"!==i.code&&"USER_CANCELED"!==i.code)e.errorState(),t.delay(function(){this.loadDesignView(e,n)}.bind(this),5e3);else{var o=c.getString("organizer-error-not-found");i.msg=i.usermsg||o,window.marvel.events.trigger("mrvl-must-reload",i)}}.bind(this))}.bind(this))},cancelEditingSession:function(e){return i.resolve()},userIsActive:function(){this._onUserActive?this._onUserActive():window.marvel.logger.traceflow("baton-timeout","appImpl.userIsActive is a no op. Project is not shared.")},beginLongUserActivity:function(){this._onBeginLongUserActivity?this._onBeginLongUserActivity():window.marvel.logger.traceflow("baton-timeout","applImpl.beginLongUserActivity is a no op. Project is not shared.")},endLongUserActivity:function(e){this._onEndLongUserActivty?this._onEndLongUserActivty(e):window.marvel.logger.traceflow("baton-timeout","appImpl.endLongUserActivity is a no op. Project is not shared.")},wrapLongUserActivity:function(e,t){window.marvel.logger.traceflow("baton-timeout","wrapLongUserActivity start for "+e),this.beginLongUserActivity(),t.finally(function(){window.marvel.logger.traceflow("baton-timeout","wrapLongUserActivity end for "+e),this.endLongUserActivity()}.bind(this))},isCollaborationEnabled:function(){return!!this._isCollaborationEnabled},onEditorActive:function(e,n,i){this._isCollaborationEnabled=!0,this._onUserActive=t.throttle(e,1e3,{leading:!0,trailing:!1}),this._onBeginLongUserActivity=n,this._onEndLongUserActivty=i,window.addEventListener("touchstart",this._onUserActive,!0),window.addEventListener("mousedown",this._onUserActive,!0),window.addEventListener("pointerdown",this._onUserActive,!0),window.addEventListener("keydown",this._onUserActive,!0),window.addEventListener("scroll",this._onUserActive,!0),window.addEventListener("resize",this._onUserActive,!0)},offEditorActive:function(e){this._onBeginLongUserActivity=null,this._onEndLongUserActivty=null,window.removeEventListener("touchstart",this._onUserActive,!0),window.removeEventListener("mousedown",this._onUserActive,!0),window.removeEventListener("pointerdown",this._onUserActive,!0),window.removeEventListener("keydown",this._onUserActive,!0),window.removeEventListener("scroll",this._onUserActive,!0),window.removeEventListener("resize",this._onUserActive,!0),this._onUserActive=null},setAppViewImplCls:function(e){this.viewCls=e},setPublishImpl:function(e){this.publishImpl=e},getPublishImpl:function(){return this.publishImpl},setStorageImpl:function(e){this.storageImpl=e,e.getSetting=this.getSetting.bind(this),e.initSyncGroup()},getStorageImpl:function(){return this.storageImpl},resetDocPublishData:function(e,n){var o=e.getMyApp(),a=[o.setCPAlias(e,null),o.setCPAssetId(e,null)];i.allSettled(a).then((function(e){var i=[];t.each(e,(function(e){"fulfilled"!==e.state&&i.push(e.reason)})),0===i.length?n.resolve():n.reject(i)}))},clearDataForDocCreatedByDupe:function(e){e.clearRootDataWithPrefix("cp#")},handleBrowserUnsupported:function(t,n){var o=i.defer(),a=e('<div data-auto="browser-unsupported-message"/>').html(this.getUnsupportedBrowserMessage()),s=navigator.userAgent||"N/A";return r.trackEvent("unsupportedBrowserMsgShown",{contextString:t,userAgent:s,projectType:this.getAppTypeID()},n),d.showAlert("Darn, you need to switch browsers",a,{closeDefer:o,okText:"Ok, got it"}).then(function(){o.resolve()}.bind(this)),o.promise},requestAppCreateNew:function(e,t,n){var o=i.defer();return this.isEnabled()?this.isBrowserSupported()?((n=n||{}).contextString=e,n.projectType=this.getAppTypeID(),window.marvel._isInApp?(r.trackEvent("projectCreationBegin",n,t),marvel.events.trigger("show-interstitial",{typeName:this.typeName,afterShowingDefer:o}),o.promise.then(function(){marvel.navigate("design/"+this.typeName+"/new",{trigger:!0})}.bind(this)).done()):r.trackLink("projectCreationBegin",n,t,function(){window.location.href=c.getLocalizedSparkPath("/sp/design/"+this.typeName+"/new")}.bind(this)),!0):(this.handleBrowserUnsupported(),!1):(alert(this.getDisplayName()+" is coming soon."),!1)},hasLicensedResources:function(e){return this.getImageComponentsInfoForDoc(e).then(function(e){return!!t.find(e,function(e){return this._isInfoComponentLicensed(e)}.bind(this))}.bind(this))},updateLicensedResources:function(e,t){return console.warn("TBD: update images in mrvlDoc."),i.resolve()},appSupportsUpdateLicensedResources:function(e){return!1},unlicenseResources:function(e){return console.warn("TBD: unlicese images in mrvlDoc"),i.resolve()},getAuthoringContextId:function(e){return e.getDCXRoot().getValue("authctx#ctxid")},setAuthoringContextId:function(e,t,n){return e.belongsToUser()?n?(e.getDCXRoot().setValue("authctx#ctxid",t),i.resolve()):e.saveChanges(function(e){e.setValue("authctx#ctxid",t)}.bind(this)):(marvel.logger.warn("AuthoringContext.setAuthoringContextId error: attempted to set authctx#ctxid for a project that is an incoming collaboration"),i.resolve())},getAuthoringContextUrn:function(e){return e.getDCXRoot().getValue("authctx#ctxurn")},setAuthoringContextUrn:function(e,t,n){return e.belongsToUser()?n?(e.getDCXRoot().setValue("authctx#ctxurn",t),i.resolve()):e.pull().then(function(){return e.saveChanges(function(e){e.setValue("authctx#ctxurn",t)}.bind(this))}.bind(this)):(marvel.logger.warn("AuthoringContext.setAuthoringContextUrn error: attempted to set authctx#ctxurn for a project that is an incoming collaboration"),i.resolve())},isBranded:function(e){var t=!!e.getDCXRoot().getValue("authctx#uses-branded-elements");return i.resolve(t)},hasPremiumIngredients:function(e){if("post"===this.typeName){var n=e.getDCXRoot().getValue("theo#font-sources");return n&&n.length&&t.includes(n,"typekit-premium")?i.resolve(!0):i.resolve(!1)}return i.resolve(!1)},premiumIsRequired:function(e){return i.all(this.isBranded(e),this.hasPremiumIngredients(e)).spread((function(e,t){return e||t}))},getAuthoringContextThemeId:function(e){return e.getDCXRoot().getValue("authctx#themeid")},setAuthoringContextThemeId:function(e,t,n){return n?(e.getDCXRoot().setValue("authctx#themeid",t),i.resolve()):e.saveChanges(function(e){e.setValue("authctx#themeid",t)}.bind(this))},stripBranding:function(e,t){return(a.hasFeature("enable-multi-brand")?i.resolve():this.setAuthoringContextId(e,null,!0)).then(function(){return this.setAuthoringContextThemeId(e,null,!0).then(function(){return t?(e.getDCXRoot().setValue("authctx#uses-branded-elements",!1),i.resolve()):e.saveChanges(function(e){e.setValue("authctx#uses-branded-elements",!1)}.bind(this))}.bind(this))}.bind(this))},rebrandProject:function(e,t,n){return this.stripBranding(e,n).then(function(){var i=null;return t&&(i=t.getId()),this.setAuthoringContextId(e,i,n)}.bind(this))},beforeCollaboration:function(e){return i.resolve()},hasUploadedFonts:function(e){return this._hasFontSource(e,"user-uploaded")},_hasFontSource:function(e,n){return this.getFontsUsed?this.getFontsUsed(e).then((function(e){return!!t.find(e||[],(function(e){return e&&e.source===n}))})):this.includesUploadedFonts&&"user-uploaded"===n?i.resolve(this.includesUploadedFonts(e)):i.resolve(!1)},getLastPublishedAuthoringContextId:function(e){return e.getDCXRoot().getValue("authctx#lastPublishedAuthctxid")},setLastPublishedAuthoringContextId:function(e,t){return e.saveChanges(function(e){e.setValue("authctx#lastPublishedAuthctxid",t)}.bind(this))},isaThemeEditor:function(){return this.isaProjectFormat()},getThemeController:function(e){return i.resolve({initTheme:function(e,t){},renderCover:function(e,t){},areAssetsUsed:function(e,t){},updateLinkedAssets:function(e,t){},relinkAsset:function(e,t){},getNumberOfGeneratedThemes:function(){return i.resolve(-1)},getGeneratedThemes:function(){return i.resolve([])},generateThemeRendition:function(e,t,n){t.fillStyle="#000000",t.fillRect(0,0,t.canvas.width,t.canvas.height)},canResolveConflict:function(e,t,n,o){return i.resolve(!1)},resolveAuthoringContextConflict:function(e,t,n,o,a){return i.resolve()}})},getThemeEditorView:function(){return i.resolve((function(){return this.render=function(){},this.setElement=function(){},this}))},getGeneratedThemes:function(e){return i.resolve([])},generateThemeRendition:function(e,t,n){t.fillStyle="#000000",t.fillRect(0,0,t.canvas.width,t.canvas.height)}})}.apply(t,i))||(e.exports=o)},400:function(e,t,n){var i,o;i=[n(3),n(0),n(1),n(49)],void 0===(o=function(e,t,i,o){"use strict";var a={},r=0,s=function(){--r<0&&(r=0),r>0?e("html").addClass("ac-wf-loading"):e("html").removeClass("ac-wf-loading")};return{loadFont:function(c,u){var d,l,h,g;return++r>0?e("html").addClass("ac-wf-loading"):e("html").removeClass("ac-wf-loading"),d=t.isString(c)?c:(l=c).lookupKey(),a[d]?a[d]:(g=l?i.resolve(l):o.getFontRegistry().then((function(e){if(e.facesByKey[d]){var t=i.defer();return Promise.resolve().then(function(i){var o=new(n(124));o.setFontDataFromSparkFontDefn(e.facesByKey[d]),t.resolve(o)}.bind(null,n)).catch(n.oe),t.promise}var o="loadFont failed find face defn for "+d;return console.warn(o),i.reject(o)})),h=i.defer(),a[d]=h.promise,g.then(function(e){return"spark-provided"!==e.source()||o.USE_SPARKFONTS_PREVIEW_API&&e.tkPreviewId()?"tk-synced"===e.source()||"spark-provided"===e.source()?o.inject().then((function(){setTimeout((function(){h.resolve(e)}),3e3);var t={id:e.tkPreviewId(),variations:e.tkVariation(),css_name:e.cssName(),name:e.friendlyName()};return window.TypekitPreview.load([t],{active:function(){h.resolve(e)},inactive:function(e,t){var n="error loading typekit preview font "+e+" and "+t;console.warn(n),h.reject(n)},fontinactive:function(e,t){var n="error-inactive loading typekit preview font "+e+" and "+t;console.warn(n),h.reject(n)}}),!0})):"user-uploaded"==e.source()?this._loadUploadedFont(e).then((function(){h.resolve(e)}),(function(e){h.reject(e)})):(console.warn("ATTEMPT TO LOAD FONT FACE WITH UNKNOW SOURCE "+e.source()),void h.reject("Unknown font source")):o.inject().then((function(){h.resolve(e)}))}.bind(this)).done(),h.promise.finally(s),a[d])},_loadUploadedFont:function(n){var o,a="cls-"+n.cssName().replace(" ","-").replace(/\"/g,"")+"-"+n.fontWeight()+"-"+n.fontStyle(),r=document.head.querySelectorAll("style."+a)[0],s="font-css-"+a;if(!r&&(r=this._createStyleBlock(a),window.localStorage)){try{o=window.localStorage.getItem(s)}catch(e){}var c,u;return o?(r.innerHTML=o,c=i.defer(),(u=e("<div class='font-loading-measure'>AbcdeFghijklmnoPqrstuvWxyz</div>")).css({position:"fixed",visibility:"hidden",top:"-1000px",left:"-1000px","font-size":"30px","font-style":n.fontStyle(),"font-weight":n.fontWeight()}),e("body").append(u),n.$css(u),t.delay((function(){u.remove(),c.resolve()}),500),c.promise):this._loadFontAjax(n).then((function(o){return n.getCSSFontFaceAsync(!0,o).then(function(o){r.innerHTML=o;try{window.localStorage.setItem(s,o)}catch(e){}return c=i.defer(),(u=e("<div class='font-loading-measure'>AbcdeFghijklmnoPqrstuvWxyz</div>")).css({position:"fixed",visibility:"hidden",top:"-1000px",left:"-1000px","font-size":"30px","font-style":n.fontStyle(),"font-weight":n.fontWeight()}),e("body").append(u),n.$css(u),t.delay((function(){u.remove(),c.resolve()}),500),c.promise}.bind(this))}),function(e){return n.getCSSFontFaceAsync().then(function(e){r.innerHTML=e}.bind(this))}.bind(this))}return i.resolve()},_loadFontAjax:function(t){var n=i.defer();return t.getHrefAsync(void 0,!0).then(function(t){e.ajax({url:t,type:"GET",mimeType:"text/plain; charset=x-user-defined"}).done(function(e,t,i){var o="data:"+(i.getResponseHeader("content-type")||"application/x-font-opentype")+";base64,"+this._base64Encode(e);n.resolve(o)}.bind(this)).fail((function(e,t,i){console.warn("ERROR loading font file: ",i),n.reject(i)}))}.bind(this)).catch((function(e){n.reject(e)})).done(),n.promise},_base64Encode:function(e){for(var t,n,i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="",r=0,s=e.length;r<s;){if(t=255&e.charCodeAt(r++),r==s){a+=o.charAt(t>>2),a+=o.charAt((3&t)<<4),a+="==";break}if(n=e.charCodeAt(r++),r==s){a+=o.charAt(t>>2),a+=o.charAt((3&t)<<4|(240&n)>>4),a+=o.charAt((15&n)<<2),a+="=";break}i=e.charCodeAt(r++),a+=o.charAt(t>>2),a+=o.charAt((3&t)<<4|(240&n)>>4),a+=o.charAt((15&n)<<2|(192&i)>>6),a+=o.charAt(63&i)}return a},_createStyleBlock:function(e){var t=document.createElement("style");return t.type="text/css",t.className=e,document.getElementsByTagName("head")[0].appendChild(t),t}}}.apply(t,i))||(e.exports=o)},431:function(e,t,n){var i,o;i=[n(3),n(59)],void 0===(o=function(e,t){return{getTextWidthDOM:function(t,n){var i=e("<span>"+t.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</span>").css({font:n,float:"left","white-space":"nowrap"}).css({visibility:"hidden"}).appendTo(e("body")),o=i.width();return i.remove(),o},getContentDimensions:function(e,t,n,i,o){var a=this.getLines(e,t,i,n);return{width:Math.max.apply(void 0,a.map((function(e){return e.width}))),height:a.length*o}},swapFontSize:function(e,t){return t.replace(/([0-9\-\.]*)px/,e+"px")},autoSizeText:function(e,t,n,i,o,a,r,s,c){var u=t,d=r*u,l=a*u,h=1;for(1!=(s=s||1)&&(u*=h=s)<10&&(h=(u=10)/t);u&&u>10;){var g={width:o,height:c||l},f=this.getContentDimensions(n,e,this.swapFontSize(u,i),o,d),m=f.width>0?f.width:1,p=f.height>0?f.height:1,b=g.width,y=g.height,v=Math.min(b/m,y/p)||1;if(v>=1||m-b<=1&&p-y<=1)break;(u*=v)<10&&(v=(u=10)/t),h*=v,d=r*u,l=a*u}return{fontSize:u,scale:h}},getLines:function(e,t,n,i){var o=(t=t.toString()).split(" "),a=[],r=o[0],s=n;if(e.font=i,1==o.length)return[{text:r,width:this.getTextWidthDOM(r,i)}];for(var c=1;c<o.length;c++){var u=o[c];if(this.getTextWidthDOM(r+" "+u,i)<s?r+=" "+u:(a.push({text:r,width:this.getTextWidthDOM(r,i)}),r=u),c===o.length-1){a.push({text:r,width:this.getTextWidthDOM(r,i)});break}}return a},downsampleImage:function(e,n,i){var o=window.URL.createObjectURL(e),a=new Image;a.onload=function(){var o=a.width,r=a.height/o;if(o<=n)return i(e);var s=document.createElement("canvas");s.width=n,s.height=n*r,s.getContext("2d").drawImage(a,0,0,n,n*r);var c=s.toDataURL("image/png"),u=t(c);i(u)},a.onerror=function(){i(e)},a.src=o}}}.apply(t,i))||(e.exports=o)},451:function(e,t,n){var i,o;i=[n(3),n(0),n(1),n(2)],void 0===(o=function(e,t,n,i){"use strict";var o;return o=i.Collection.extend({setAC:function(e){this._ac=e},initialize:function(e,t){var n=i.Collection.prototype.initialize.call(this,e,t);return t&&t.feel&&(this._feel=t.feel),n},getFeel:function(){return this._feel},add:function(e,n){var o=i.Collection.prototype.add.call(this,e,n);return t.isArray(e)||(e=[e]),n&&n.genericRoles&&t.each(e,function(e){e._genericRoles=n.genericRoles}.bind(this)),n&&n.uniqueRoles&&t.each(e,function(e){e._uniqueRoles=n.uniqueRoles}.bind(this)),o},getPropFromFirst:function(e){var t=this.at(0);if(t[e])return"function"==typeof t[e]?t[e]():t.getData().getValue(e)},getCSSFontFaceAsync:function(e){var t="",i=[];return this.each((function(n){i.push(n.getCSSFontFaceAsync(e).then((function(e){t+=e})))})),n.allSettled(i).then((function(){return t}))},loadFonts:function(){var e=new o,n=new o;if(this.each((function(t){t.isSparkFont()?e.add(t):n.add(t)})),e.length&&e.each((function(e){e.loadFont()})),n.length){var i=n.getPropFromFirst("cssName");n.getCSSFontFaceAsync().then((function(e){var n=document.createElement("style");n.type="text/css",n.innerHTML=e,n.className=i;var o=document.head.querySelectorAll("style."+i);o&&t.each(o,(function(e){e.parentNode.removeChild(e)})),document.getElementsByTagName("head")[0].appendChild(n)}))}},getFontWithRole:function(e){return this.find((function(n){return n.hasRole&&"function"==typeof n.hasRole?n.hasRole(e):n._uniqueRoles&&!!t.find(n._uniqueRoles,(function(t){return t==e}))||n._genericRoles&&!!t.find(n._genericRoles,(function(t){return t==e}))}))}})}.apply(t,i))||(e.exports=o)},46:function(e,t,n){var i,o;i=[n(3),n(0),n(2),n(1),n(17),n(9),n(23),n(5),n(11),n(117),n(7),n(128),n(39)],void 0===(o=function(e,t,n,i,o,a,r,s,c,u,d,l,h){"use strict";var g=new c({color:"firebrick",name:"App Storage"});return n.Model.extend({seedNewDoc:function(e){},initialize:function(){this.initPromise=o.storageReady()},initSyncGroup:function(){this.initPromise=o.storageReady()},setSaveThumbOnLoad:function(){this._saveThumbOnLoad=!0},saveThumbOnLoad:function(){var e=this._saveThumbOnLoad;return this._saveThumbOnLoad=!1,e},_startingCreateDoc:function(){},releaseBatonLock:function(){return l.releaseBatonAndCloseSession(this.currentDoc)},_createDoc:function(e){this.currentDoc=null,this._startingCreateDoc(),this.initPromise.then(function(t){this.createDocFromConfig(t,e,this.creationDefer),e.assetId&&(this.rootObjectId=e.assetId)}.bind(this),function(e){this.creationDefer.reject(e)}.bind(this)).catch(function(e){this.creationDefer.reject(e)}.bind(this)).done()},createDocFromConfig:function(e,t,n){t.assetUrn?this._createDocLoad(t,n):this._createDocNewACP(t,n)},_createDocLoad:function(e,t){o.syncEnter();var n=this.getSetting("syncGroup");h.load().then(function(t){return t.ACPSparkController.getCompositeDoc(e.assetUrn).then(function(e){return e.getMyApp().checkDocCompatibility(e,"opening").then(function(){return this.currentDoc=e,i.resolve()}.bind(this))}.bind(this))}.bind(this)).then(function(){a.setCurrentProjectId(e.assetId);var i=a.getProductName()||n;a.trackEvent("editor:loadedProject",{contextData:["projectId"]},i+":editor"),o.setSyncMode(o.MODE_EDITOR,this.currentDoc),o.syncLeave(),marvel.events.trigger("loaded-composite-doc",this.currentDoc),r.augmentLoadDoc(this.currentDoc,e),t.resolve(this.currentDoc)}.bind(this)).catch(function(e){this.currentDoc=null,t.reject(e)}.bind(this))},_createDocNew:function(e,t,n){return this._createDocNewACP(t,n)},_createDocNewACP:function(e,t){var n=this.getSetting("syncGroup"),i=o.dcx.newEmptyComposite(this.getSetting("newDocName"),this.getSetting("doctype"));return this.currentDoc=new u({name:i.current.name,id:i.id,syncGroupName:n,compositeObj:i}),o.setSyncMode(o.MODE_EDITOR,this.currentDoc),this._setProjectContexts(this.currentDoc,e),r.augmentLoadDoc(this.currentDoc,e),r.augmentNewDoc(this.currentDoc,e).then(function(){return this.seedNewDoc(this.currentDoc),t.resolve(this.currentDoc),!0}.bind(this))},_setProjectContexts:function(e,n){if(n&&n.hasOwnProperty("projectContext")&&t.isObject(n.projectContext)){var i=e.getDCXRoot();t.each(n.projectContext,function(e,t){i.setValue("projectContext#"+t,e),"useCaseId"===t&&this._saveLastUsedUseCaseSession(e)}.bind(this))}},getProjectContexts:function(e,n){if(!(e=e||this.currentDoc))return{};var i,o=e.getDCXRoot();return n?i=t.reduce(n,(function(e,n){var i=o.getValue("projectContext#"+n);return t.isUndefined(i)||(e[n]=i),e}),{}):(i={},t.each(o._data,(function(e,t){0===t.indexOf("projectContext#")&&(i[t.split("projectContext#")[1]]=e)}))),t.each(i,(function(e,t){if("string"==typeof e&&0===e.indexOf("object:"))try{e=JSON.parse(e.substring(7)),i[t]=e}catch(e){g.warn("could not parse projectContext subobject:"+t,e)}})),i},_saveLaunchConfigSession:function(e){if(window.sessionStorage)try{sessionStorage.setItem("launch_config_tmp",JSON.stringify(e))}catch(e){g.error("error while saving launch config",e)}},_getAndClearLaunchConfigFromSession:function(){var e;try{if(!window.sessionStorage)return null;var t=sessionStorage.getItem("launch_config_tmp")||void 0;t&&(e=JSON.parse(t),sessionStorage.removeItem("launch_config_tmp"))}catch(e){g.error("error while getting launch config",e)}return e},_saveLastUsedUseCaseSession:function(e){if(window.sessionStorage)try{sessionStorage.setItem("last_used_usecase",JSON.stringify(e))}catch(e){g.error("error while saving launch config",e)}},createDocument:function(e){return this.creationDefer=i.defer(),o.setSyncMode(o.MODE_DISABLED),this.currentDoc?o.waitForQuiet(this.currentDoc).then(function(){this._createDoc(e)}.bind(this)):this._createDoc(e),this.creationDefer.promise},waitForQuiet:function(e){return(e=e||this.currentDoc)?o.waitForQuiet(e):i.resolve()},loadDocument:function(){return this.creationDefer.promise},storageManager:function(){return o},editorUnloadFinished:function(){this.currentDoc=null},getImage:function(t,n,o,a){if(!(a=a||this.currentDoc))return console.error("no doc for getImage",{pathOrComponent:t,query:n,buster:o}),i.reject(new Error("no doc for getImage:"+t));var r,s=a.getDCXComposite();if(!(r="string"==typeof t?s.current.getComponentWithAbsolutePath(t):t))return i.resolve(null);var c=new i.defer;return a.getImageComponentHref(r,n.size).then(function(t){var n=0;!function i(){var o=document.createElement("img"),a=function(e,t,o){n<2?i():r(o,t,"Image not accepting URL")},r=function(e,t,n){var i=n,o=1;"Image not accepting URL"!==n&&(o=e.status),c.reject({message:i,status:o})};o.onload=function(){var e=t.replace(new RegExp("^.*image_assets/[^/]*/"+s.id+"/"),"");c.resolve({path:e,size:{width:o.width,height:o.height},img:this})},o.onerror=function(){e.get(t).success(a).error(r)},n++,o.src=t}()}.bind(this)).catch(function(e){window.marvel.logger.error("app-storage-base caught error loading an image",e),c.reject(e)}.bind(this)).done(),c.promise},getPreviewHrefAsync:function(e){var t=(e=e||this.currentDoc).getMyApp().getPreviewComponent(e);return t?e.getImageComponentHref(t):i.resolve("")}})}.apply(t,i))||(e.exports=o)},462:function(e,t,n){var i,o;i=[n(3),n(0),n(1),n(2)],void 0===(o=function(e,t,n,i){"use strict";return i.Model.extend({valueProp:"ac#value",getRoles:function(){return this._data.getValue("ac#roles")||[]},setRoles:function(e){this._data.setValue("ac#roles",e)},hasRole:function(e){var n=this.getRoles();return t.includes(n,e)},hasAnyRole:function(e){var n=this.getRoles();return!!t.find(n,(function(n){return t.includes(e,n)}))},addRole:function(e){var n=this.getRoles();t.includes(n,e)||(n.push(e),this.setRoles(n))},removeRole:function(e){var n=this.getRoles();n=t.without(n,e),this.setRoles(n)},setAC:function(e){this._ac=e},setData:function(e){this._data=e},getData:function(){return this._data},getId:function(){return this._data.id},setValue:function(e){this._data.setValue(this.valueProp,e)},_getValue:function(){return this._data.getValue(this.valueProp)},getValue:function(){return this._getValue()},getValueProp:function(e,t){var n=this.getValue();return n&&n[e]?n[e]:t||""},setName:function(e){this._data.setValue("name",e)},getName:function(){return this._data.getValue("name")}})}.apply(t,i))||(e.exports=o)},554:function(e,t,n){var i;i=function(e){"use strict";var t,n=(t=document.createElement("canvas").getContext("2d"),(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),i=function(e,t,i){i||(i=n);var o=document.createElement("canvas");return o.width=e*i,o.height=t*i,o.style.width=e+"px",o.style.height=t+"px",o.getContext("2d").setTransform(i,0,0,i,0,0),o},o=function(t,n){var i=e("<span>"+t.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</span>").css({font:n,float:"left","white-space":"nowrap"}).css({visibility:"hidden"}).appendTo(e("body")),o=i.width();return i.remove(),o},a=function(e,t,n){var a=n.size||24,r=n.weight||"400",s=n.style||"normal",c=n.lineHeight||1.5,u=n.padding||0,d=n.color||"#35414C",l=s+" "+r+" "+a+"px "+e,h=s+" "+r+" 8px "+e,g=8*c,f=o(t,h),m=i(f,g,0),p=m.getContext("2d");m.height=g,m.width=f,p.font=h,p.fillStyle=d,p.textBaseline="middle",p.fillText(t,0,g/2),p.fillRect(0,0,10,10);for(var b=p.getImageData(0,0,f,g).data,y=0,v=0,C=b.length/2,F=!1,w=0,k=b.length;w<k;)b[w],b[w+1],b[w+2],0!=b[w+3]&&y++,(w+=4)>=C&&!F&&(F=!0,v=y,y=0);var N=v/y,A=a*c+2*u,S=o(t,l)+2*u,x=A/2;return N>1.8&&N<2?x+=.1*a:N>=2&&(x+=.18*a),p=(m=i(S,A)).getContext("2d"),m.height=A,m.width=S,p.font=l,p.fillStyle=d,p.textBaseline="middle",p.fillText(t,u,x),m.whiteSpaceRatio=N,m};return{generateCanvas:a,generateDataURL:function(){var e=a.apply(this,arguments);return e.toDataURL()}}},e.exports=i(n(3))},556:function(e,t,n){var i,o;i=[n(3),n(0),n(1),n(462),n(124),n(400),n(49),n(557)],void 0===(o=function(e,t,n,i,o,a,r,s){"use strict";var c=["headline-font","body-font","body-font-bold","body-font-italic","body-font-bold-italic"];return i.extend({type:"font",valueProp:"font#data",isDefn:function(){return!1},getHrefAsync:function(e,t){return this._ac._hrefForCustomFontAsync(this.getData(),e)},getFileAsBlob:function(e,t){var i=n.defer();return this.getHrefAsync(e,t).then(function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){4==this.readyState&&200==this.status&&i.resolve(this.response)},t.onerror=function(e){i.reject(e)},t.open("GET",e),t.responseType="blob",t.send()}.bind(this)).catch((function(e){i.reject(e)})).done(),i.promise},getRenditionHrefAsync:function(e,t,n){var i="face-rendition";return t?i="family-rendition":n&&(i="rendition"),this._ac._hrefForCustomFontRenditionAsync(this.getData(),i).then(function(t){return e&&t&&(t=t.indexOf("/assets/")>0?t.replace(/^https?\:\/\/[^\/]+\/image_assets\/[^\/]+\/[^\/]+\/(.*)$/,"$1"):t.replace(/^https?\:\/\/[^\/]+\/image_assets\/[^\/]+\/(.*)$/,"$1")),t}.bind(this))},friendlyName:function(e){var t;if(this.isSparkFont()){var n=s.faces[this.lookupKey()];t=n.subgroupName+" "+n.name}else t=this._data.getValue("name")||"Undefined";return e?-1!=t.search(/^clarendon/i)||-1!=t.search(/^raleway/i)||-1!=t.search(/^wanderlust/i)?t.split(" ")[0]:t.split(" ").slice(0,2).join(" "):t},setUniqueBodyFontRole:function(e){this._ac.getCustomFontSubgroup(this.subgroupName()).each((function(t){t.removeRole(e)})),this.addRole(e)},subgroupName:function(){return this.isSparkFont()?s.faces[this.lookupKey()].subgroupName:this.getValueProp("subgroupName")},faceName:function(){return this.isSparkFont()?s.faces[this.lookupKey()].name:this.getValueProp("faceName")},setFontFromDefn:function(e,t,n){n=n||this.getData(),t=t||this.getValue(),"tk-synced"==e._fontData.source?(t.source=e.source(),t.lookupKey=e.lookupKey(),t.subgroupName=e.subgroupName(),t.cssName=e.cssName(),t.weight=e.fontWeight(),t.style=e.fontStyle(),t.tkPreviewId=e.tkPreviewId(),t.tkVariation=e.tkVariation(),t.tkSubgroupKitId=e.tkSubgroupKitId(),n.setValue("name",e.friendlyName())):(t.source=e.source(),t.lookupKey=e.lookupKey())},setLookupKey:function(e){var t=this._getValue();"object"==typeof e&&"tk-synced"===e.type?this._setTypekitSyncedFont(e,t):t.lookupKey=e,this.setValue(t)},createFont:function(e,t){var n=this._ac.composite.acquireNestedMapSync("all-fonts"),i=this._ac.composite.addChildPath(void 0,void 0,n),o={};return i.setValue("type","application/vnd.adobe.element.custom-font+dcx"),i.setValue("ac#application","spark-web"),i.setValue("ac#roles",t),this.setFontFromDefn(e,o,i),this._data=i,i.setValue("font#data",o),i.setValue(this.valueProp,o),i},createFromElement:function(e,t){var n=e.getValue(this.valueProp).lookupKey,i=new o;i.setFontDataFromSparkFontDefn(t.facesByKey[n]),this._data=this.createFont(i,e.getValue("ac#roles"))},source:function(){return this.getValueProp("source")},isCustomFont:function(){return"user-uploaded"==this.source()},isSparkFont:function(){return"spark-provided"==this.source()},isFauxFont:function(){return"faux-font"==this.source()},isBodyFont:function(){return this.hasAnyRole(["body-font-italic","body-font-bold-italic","is-body-font-italic","is-body-font-bold-italic","body-font","body-font-bold","is-body-font","is-body-font-bold"])},getMetricsAsync:function(){return this.isCustomFont()?n.resolve(this.getMetrics()):this.getMetricsFromRegistry()},getMetrics:function(){return this.getValueProp("metrics")},getMetricsFromRegistry:function(){return r.getFontRegistry().then(function(e){return e.facesByKey[this.lookupKey()].face.metrics}.bind(this))},lookupKey:function(){return this.isCustomFont()&&this._data?"custom-"+this._data.path:this.getValueProp("lookupKey")},uiKey:function(){return"custom-"+this.getId()},tkPreviewId:function(){var e=this.getValueProp("tkPreviewId");if(!e&&this.isSparkFont()){var t=s.faces[this.lookupKey()];e=s.subgroups[t.subgroupName].typekitPreviewId}return e},tkVariation:function(){var e=this.getValueProp("tkVariation");!e&&this.isSparkFont()&&(e=s.faces[this.lookupKey()].typekitKey);return e},tkSubgroupKitId:function(){var e=this.getValueProp("tkSubgroupKitId");if(!e&&this.isSparkFont()){var t=s.faces[this.lookupKey()];e=s.subgroups[t.subgroupName].typekitSubgroupKitId}return e},cssName:function(){if(this.isSparkFont()){var e=s.faces[this.lookupKey()];return s.subgroups[e.subgroupName].cssName}return this.getValueProp("cssName")||'"'+this.friendlyName()+'"'},cssNameForPreview:function(){var e=this.cssName();return"tk-synced"===this.source()&&(e=this.tkPreviewId()),e},fontStyle:function(){if(this.isSparkFont()){if(!this.getValueProp("fontStyle")){return{n:"normal",i:"italic"}[this.tkVariation().split("")[0]]}}else if(this.isCustomFont()||this.isFauxFont()){if(this.hasRole("body-font-italic")||this.hasRole("body-font-bold-italic")||this.hasRole("is-body-font-italic")||this.hasRole("is-body-font-bold-italic"))return"italic";if(this.hasRole("body-font")||this.hasRole("body-font-bold")||this.hasRole("is-body-font")||this.hasRole("is-body-font-bold"))return"normal";var e=this.getMetrics();if(e&&e.style)return e.style}return this.getValueProp("fontStyle","normal")},fontWeight:function(){if(this.isSparkFont()){if(!this.getValueProp("fontWeight")){var e=this.tkVariation().split(""),t=parseInt(e[1]);return t<1&&(t=1),t>9&&(t=9),100*t}}else if(this.isCustomFont()||this.isFauxFont()){if(this.hasRole("body-font")||this.hasRole("body-font-italic")||this.hasRole("is-body-font")||this.hasRole("is-body-font-italic"))return 400;if(this.hasRole("body-font-bold")||this.hasRole("body-font-bold-italic")||this.hasRole("is-body-font-bold")||this.hasRole("is-body-font-bold-italic"))return 700;var n=this.getMetrics();if(n&&n.weight)return n.weight}return this.getValueProp("fontWeight","normal")},getCSSFontFaceAsync:function(e,t){var n=this.cssName();return n||(n=this.friendlyName().toLowerCase()),this.getHrefAsync().then(function(i){return(t=t||i)?(e&&(t=t.indexOf("/assets/")>0?t.replace(/https?\:\/\/[^\/]*\/image_assets\/[^\/]*\/[^\/]*\/(.*)$/,"$1"):t.replace(/https?\:\/\/[^\/]*\/image_assets\/[^\/]*\/(.*)$/,"$1")),"@font-face { font-family: "+n+";font-weight:"+this.fontWeight()+";font-style:"+this.fontStyle()+';src: url("'+t+'"); }'):void 0}.bind(this))},loadFont:function(){var e=this.source();return"user-uploaded"==e?a.loadFont(this,this._ac):"spark-provided"==e?a.loadFont(this.lookupKey(),this._ac):n.resolve()},$loadFontCSS:function(e,n,i,o){var a=!1;n=n||18,t.delay((function(){a||e.addClass("font-loading")}),50),this.loadFont().finally(function(){a=!0;var t=r.getFontNormalized(n,this.getMetrics());e.css("font-size",t.size+"px"),i&&e.css("line-height",1.94*n+t.vshift+"px"),o&&e.css("height",1.94*n+t.vshift+"px"),this.$css(e,",adobe-clean,sans-serif"),e.removeClass("font-loading")}.bind(this)).done()},$cssRendition:function(e,t,n,i){o.prototype.$cssRendition.call(this,e,t,n,i)},$css:function(t,n){var i=this.cssName();n=n||"","tk-synced"!==this.source()&&"spark-provided"!==this.source()||(i=i||this.tkPreviewId()),(t=e(t)).css({"font-family":i+n,"font-style":this.fontStyle(),"font-weight":this.fontWeight()})},createOrUpdateFontFiles:function(e){return this._ac.createOrUpdateFontFiles(this.getData(),e)},generateRenditions:function(){return this._ac.generateFontRenditions(this)},getUniqueRole:function(){return this.getUniqueRoles()[0]},getUniqueRoles:function(){var e=this.getRoles();return t.intersection(e,c)},getTOUAName:function(){return this.subgroupName()+" "+this.faceName()},isInstallable:function(){var e=this.getMetrics().fsType,t=this.getTOUAName();try{var n=Number.parseInt(e),i=15&n;if(0===i)return window.marvel.logger.traceflow("brand-kit","verifyFonts fsType="+n+"  licenseType=0 so no upload is required"),!0;window.marvel.logger.traceflow("brand-kit","verifyFonts fsType="+i+" so font upload is required for "+t)}catch(e){window.marvel.logger.warn("BrandKitWrapper failed verifying font license",e)}return!1}})}.apply(t,i))||(e.exports=o)},557:function(e){e.exports=JSON.parse('{"subgroups":{"Acumin Pro Semi Condensed":{"subgroupName":"Acumin Pro Semi Condensed","cssName":"acumin-pro-semi-condensed","typekitPreviewId":"zhgz","typekitSubgroupKitId":"oed0yfm","paragraphRecommended":true,"faces":[{"typekitKey":"n3","name":"Light","lookupKey":"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d","weight":"300","style":"","subgroupName":"Acumin Pro Semi Condensed"},{"typekitKey":"i3","name":"Light Italic","lookupKey":"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d23b74c91cf9a8b","weight":"300","style":"italic","subgroupName":"Acumin Pro Semi Condensed"},{"typekitKey":"n6","name":"Semibold","lookupKey":"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925c","weight":"600","style":"","subgroupName":"Acumin Pro Semi Condensed"},{"typekitKey":"i6","name":"Semibold Italic","lookupKey":"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925cd0ea87899a41d2","weight":"600","style":"italic","subgroupName":"Acumin Pro Semi Condensed"}]},"Adobe Caslon Pro":{"subgroupName":"Adobe Caslon Pro","cssName":"adobe-caslon-pro","typekitPreviewId":"hmqz","typekitSubgroupKitId":"qhv3iqj","paragraphRecommended":true,"faces":[{"typekitKey":"n4","name":"Regular","lookupKey":"258adb9224315b712345eb03b2d30e94fe7d81b3c5ebdc76","weight":"400","style":"","subgroupName":"Adobe Caslon Pro"},{"typekitKey":"i4","name":"Italic","lookupKey":"258adb9224315b712345eb03b2d30e94fe6690b5dceede","weight":"400","style":"italic","subgroupName":"Adobe Caslon Pro"},{"typekitKey":"n6","name":"Semibold","lookupKey":"258adb9224315b712345eb03b2d30e94fe7c81b9d9e5d26870","weight":"600","style":"","subgroupName":"Adobe Caslon Pro"},{"typekitKey":"i6","name":"Semibold Italic","lookupKey":"258adb9224315b712345eb03b2d30e94fe7c81b9d9e5d26870e97c629f857060","weight":"600","style":"italic","subgroupName":"Adobe Caslon Pro"},{"typekitKey":"n7","name":"Bold","lookupKey":"258adb9224315b712345eb03b2d30e94fe6d8bb8d4","weight":"700","style":"","subgroupName":"Adobe Caslon Pro"},{"typekitKey":"i7","name":"Bold Italic","lookupKey":"258adb9224315b712345eb03b2d30e94fe6d8bb8d4a7f47075a55c75","weight":"700","style":"italic","subgroupName":"Adobe Caslon Pro"}]},"Azo Sans":{"subgroupName":"Azo Sans","cssName":"azo-sans-web","typekitPreviewId":"lyqy","typekitSubgroupKitId":"ppn2tqp","paragraphRecommended":false,"faces":[{"typekitKey":"n3","name":"Light","lookupKey":"2594dbd0127076637d65ed0afaf7","weight":"300","style":"","subgroupName":"Azo Sans"},{"typekitKey":"i3","name":"Light Italic","lookupKey":"2594dbd0127076637d65ed0afaf75cb2a74e88bdd3","weight":"300","style":"italic","subgroupName":"Azo Sans"},{"typekitKey":"n7","name":"Bold","lookupKey":"2594dbd0127076637d6beb01f6","weight":"700","style":"","subgroupName":"Azo Sans"},{"typekitKey":"i7","name":"Bold Italic","lookupKey":"2594dbd0127076637d6beb01f6a3358fb2438db7","weight":"700","style":"italic","subgroupName":"Azo Sans"}]},"Bellfort Script":{"subgroupName":"Bellfort Script","cssName":"spark-bellfort-script","typekitPreviewId":false,"typekitSubgroupKitId":"vpr2ezi","paragraphRecommended":false,"faces":[{"typekitKey":"n3","name":"Light","lookupKey":"268bd89c277e6a64707ae71ffbf308d69f4683bcc4","weight":"300","style":"","subgroupName":"Bellfort Script"},{"typekitKey":"n4","name":"Regular","lookupKey":"268bd89c277e6a64707ae71ffbf308d6814a83a1dce6cf","weight":"400","style":"","subgroupName":"Bellfort Script"}]},"Calluna":{"subgroupName":"Calluna","cssName":"calluna","typekitPreviewId":"vybr","typekitSubgroupKitId":"pwy8yyx","paragraphRecommended":true,"faces":[{"typekitKey":"n4","name":"Regular","lookupKey":"278fd89c347f793d024ce318fee20e","weight":"400","style":"","subgroupName":"Calluna"},{"typekitKey":"i4","name":"Italic","lookupKey":"278fd89c347f793d195de501fbe0","weight":"400","style":"italic","subgroupName":"Calluna"},{"typekitKey":"n7","name":"Bold","lookupKey":"278fd89c347f793d1246e809","weight":"700","style":"","subgroupName":"Calluna"},{"typekitKey":"i7","name":"Bold Italic","lookupKey":"278fd89c347f793d1246e809b2ca089abf4687","weight":"700","style":"italic","subgroupName":"Calluna"}]},"Clarendon Text Pro":{"subgroupName":"Clarendon Text Pro","cssName":"clarendon-text-pro","typekitPreviewId":"kctd","typekitSubgroupKitId":"tes3lrh","paragraphRecommended":false,"faces":[{"typekitKey":"n4","name":"Regular","lookupKey":"2782d582247f7c7f3e09d008eaf75caba140c986d5e0c86875bb","weight":"400","style":"","subgroupName":"Clarendon Text Pro"},{"typekitKey":"i4","name":"Italic","lookupKey":"2782d582247f7c7f3e09d008eaf75caba140c99dc4e6d16d77","weight":"400","style":"italic","subgroupName":"Clarendon Text Pro"},{"typekitKey":"n7","name":"Bold","lookupKey":"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9","weight":"700","style":"","subgroupName":"Clarendon Text Pro"},{"typekitKey":"i7","name":"Bold Italic","lookupKey":"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9245dbd547a978a","weight":"700","style":"italic","subgroupName":"Clarendon Text Pro"}]},"Courier Std":{"subgroupName":"Courier Std","cssName":"courier-std","typekitPreviewId":"jxcp","typekitSubgroupKitId":"oeu5sen","paragraphRecommended":false,"faces":[{"typekitKey":"n4","name":"Regular","lookupKey":"2781c18228746a30035de040c0e61b8ebf4e96","weight":"400","style":"","subgroupName":"Courier Std"},{"typekitKey":"n7","name":"Bold","lookupKey":"2781c18228746a30035de040d0ec109f","weight":"700","style":"","subgroupName":"Courier Std"}]},"Didot Headline":{"subgroupName":"Didot Headline","cssName":"spark-didot-headline","typekitPreviewId":false,"typekitSubgroupKitId":"gkw8jcv","paragraphRecommended":false,"faces":[{"typekitKey":"n4","name":"Regular","lookupKey":"2087d09f35315075314de804fce651a9b64891b8d1f5","weight":"400","style":"","subgroupName":"Didot Headline"},{"typekitKey":"n6","name":"Demi","lookupKey":"2087d09f35315075314de804fce651bfb6428d","weight":"600","style":"","subgroupName":"Didot Headline"},{"typekitKey":"n7","name":"Bold","lookupKey":"2087d09f35315075314de804fce651b9bc4380","weight":"700","style":"","subgroupName":"Didot Headline"}]},"Futura PT":{"subgroupName":"Futura PT","cssName":"futura-pt","typekitPreviewId":"ftnk","typekitSubgroupKitId":"icc1sfj","paragraphRecommended":false,"faces":[{"typekitKey":"n5","name":"Medium","lookupKey":"229bc085337038400404c908f6ea0996","weight":"500","subgroupName":"Futura PT"},{"typekitKey":"n7","name":"Heavy","lookupKey":"229bc085337038400404cc08f3f505","weight":"700","style":"","subgroupName":"Futura PT"}]},"Lato":{"subgroupName":"Lato","cssName":"lato","typekitPreviewId":"jxfv","typekitSubgroupKitId":"oea2wtv","paragraphRecommended":true,"faces":[{"typekitKey":"n3","name":"Light","lookupKey":"288fc09f6c5d7177385d","weight":"300","subgroupName":"Lato"},{"typekitKey":"n4","name":"Regular","lookupKey":"288fc09f6c437d772545e51f","weight":"400","subgroupName":"Lato"},{"typekitKey":"i4","name":"Italic","lookupKey":"288fc09f6c586c713c40e7","weight":"400","style":"italic","subgroupName":"Lato"},{"typekitKey":"n7","name":"Bold","lookupKey":"288fc09f6c53777c34","weight":"700","subgroupName":"Lato"},{"typekitKey":"i9","name":"Black Italic","lookupKey":"288fc09f6c5374713342a424e6e21092b0","weight":"900","style":"italic","subgroupName":"Lato"}]},"Local Brewery":{"subgroupName":"Local Brewery","cssName":"spark-local-brewery","typekitPreviewId":false,"typekitSubgroupKitId":"vfd3hup","paragraphRecommended":false,"faces":[{"typekitKey":"n7","name":"Bold","lookupKey":"2881d7912d315a62355ee11febae3e94bf4b","weight":"700","style":"","subgroupName":"Local Brewery"}]},"Local Brewery Four":{"subgroupName":"Local Brewery Four","cssName":"spark-local-brewery-four","typekitPreviewId":false,"typekitSubgroupKitId":"txs8zsv","paragraphRecommended":false,"faces":[{"typekitKey":"n4","name":"Regular","lookupKey":"2881d7912d315a62355ee11feba33a94a65dc986d5e0c86875bb","weight":"400","subgroupName":"Local Brewery Four"}]},"LTC Bodoni 175":{"subgroupName":"LTC Bodoni 175","cssName":"ltc-bodoni-175","typekitPreviewId":"mrnw","typekitSubgroupKitId":"meq2xke","paragraphRecommended":false,"faces":[{"typekitKey":"n4","name":"Regular","lookupKey":"28baf7d0037e7c7f3e40a45ca5b651a9b64891b8d1f5","weight":"400","style":"","subgroupName":"LTC Bodoni 175"},{"typekitKey":"i4","name":"Italic","lookupKey":"28baf7d0037e7c7f3e40a45ca5b651b2a74e88bdd3","weight":"400","style":"italic","subgroupName":"LTC Bodoni 175"}]},"Museo Sans Rounded":{"subgroupName":"Museo Sans Rounded","cssName":"museo-sans-rounded","typekitPreviewId":"dtgx","typekitSubgroupKitId":"iuk5brd","paragraphRecommended":false,"faces":[{"typekitKey":"n5","name":"500","lookupKey":"299bc7952e314b713e5aa43ffdf6129fb64bc9e180b7","weight":"500","style":"","subgroupName":"Museo Sans Rounded"},{"typekitKey":"n7","name":"700","lookupKey":"299bc7952e314b713e5aa43ffdf6129fb64bc9e380b7","weight":"700","style":"","subgroupName":"Museo Sans Rounded"}]},"Museo Slab":{"subgroupName":"Museo Slab","cssName":"museo-slab","typekitPreviewId":"llxb","typekitSubgroupKitId":"gom8xuo","paragraphRecommended":true,"faces":[{"typekitKey":"n3","name":"300","lookupKey":"299bc7952e314b7c314ba95ea2b3","weight":"300","style":"","subgroupName":"Museo Slab"},{"typekitKey":"i3","name":"300 Italic","lookupKey":"299bc7952e314b7c314ba95ea2b35cb2a74e88bdd3","weight":"300","style":"italic","subgroupName":"Museo Slab"},{"typekitKey":"n7","name":"700","lookupKey":"299bc7952e314b7c314ba95aa2b3","weight":"700","style":"","subgroupName":"Museo Slab"},{"typekitKey":"i7","name":"700 Italic","lookupKey":"299bc7952e314b7c314ba95aa2b35cb2a74e88bdd3","weight":"700","style":"italic","subgroupName":"Museo Slab"},{"typekitKey":"n9","name":"1000","lookupKey":"299bc7952e314b7c314ba95ca2b34c","weight":"900","style":"","subgroupName":"Museo Slab"}]},"Proxima Nova":{"subgroupName":"Proxima Nova","cssName":"proxima-nova","typekitPreviewId":"vcsm","typekitSubgroupKitId":"yfs6lii","paragraphRecommended":true,"faces":[{"typekitKey":"n1","name":"Thin","lookupKey":"349cdb88287c79301e46f20cbfd71492bd","weight":"100","style":"","subgroupName":"Proxima Nova"},{"typekitKey":"i1","name":"Thin Italic","lookupKey":"349cdb88287c79301e46f20cbfd71492bd0fada0d1ebd467","weight":"100","style":"italic","subgroupName":"Proxima Nova"},{"typekitKey":"n3","name":"Light","lookupKey":"349cdb88287c79301e46f20cbfcf159cbb5b","weight":"300","style":"","subgroupName":"Proxima Nova"},{"typekitKey":"i3","name":"Light Italic","lookupKey":"349cdb88287c79301e46f20cbfcf159cbb5bc49dc4e6d16d77","weight":"300","style":"italic","subgroupName":"Proxima Nova"},{"typekitKey":"n4","name":"Regular","lookupKey":"349cdb88287c79301e46f20cbfd1199ca64385a6","weight":"400","style":"","subgroupName":"Proxima Nova"},{"typekitKey":"i4","name":"Regular Italic","lookupKey":"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056","weight":"400","style":"italic","subgroupName":"Proxima Nova"},{"typekitKey":"n5","name":"Medium","lookupKey":"349cdb88287c79301e46f20cbfce199fba5a89","weight":"500","style":"","subgroupName":"Proxima Nova"},{"typekitKey":"i5","name":"Medium Italic","lookupKey":"349cdb88287c79301e46f20cbfce199fba5a89f4f9f3dc687daa","weight":"500","style":"italic","subgroupName":"Proxima Nova"},{"typekitKey":"n6","name":"Semibold","lookupKey":"349cdb88287c79301e46f20cbfd01996ba4d8bb8d4","weight":"600","style":"","subgroupName":"Proxima Nova"},{"typekitKey":"i6","name":"Semibold Italic","lookupKey":"349cdb88287c79301e46f20cbfd01996ba4d8bb8d4a7f47075a55c75","weight":"600","style":"italic","subgroupName":"Proxima Nova"},{"typekitKey":"n7","name":"Bold","lookupKey":"349cdb88287c79301e46f20cbfc11397b7","weight":"700","style":"","subgroupName":"Proxima Nova"},{"typekitKey":"i7","name":"Bold Italic","lookupKey":"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467","weight":"700","style":"italic","subgroupName":"Proxima Nova"},{"typekitKey":"n8","name":"Extrabold","lookupKey":"349cdb88287c79301e46f20cbfc6048fa14e86bbdce3","weight":"800","style":"","subgroupName":"Proxima Nova"},{"typekitKey":"i8","name":"Extrabold Italic","lookupKey":"349cdb88287c79301e46f20cbfc6048fa14e86bbdce39d4d60a8597f9d","weight":"800","style":"italic","subgroupName":"Proxima Nova"},{"typekitKey":"n9","name":"Black","lookupKey":"349cdb88287c79301e46f20cbfc1109ab044","weight":"900","style":"","subgroupName":"Proxima Nova"},{"typekitKey":"i9","name":"Black Italic","lookupKey":"349cdb88287c79301e46f20cbfc1109ab044c49dc4e6d16d77","weight":"900","style":"italic","subgroupName":"Proxima Nova"}]},"PT Sans":{"subgroupName":"PT Sans","cssName":"pt-sans","typekitPreviewId":"lllr","typekitSubgroupKitId":"sys1rxz","paragraphRecommended":true,"faces":[{"typekitKey":"n4","name":"Regular","lookupKey":"34ba94a3207f6b3d024ce318fee20e","weight":"400","style":"","subgroupName":"PT Sans"},{"typekitKey":"i4","name":"Italic","lookupKey":"34ba94a3207f6b3d195de501fbe0","weight":"400","style":"italic","subgroupName":"PT Sans"},{"typekitKey":"n7","name":"Bold","lookupKey":"34ba94a3207f6b3d1246e809","weight":"700","style":"","subgroupName":"PT Sans"},{"typekitKey":"i7","name":"Bold Italic","lookupKey":"34ba94a3207f6b3d1246e809b2ca089abf4687","weight":"700","style":"italic","subgroupName":"PT Sans"}]},"PT Sans Narrow":{"subgroupName":"PT Sans Narrow","cssName":"pt-sans-narrow","typekitPreviewId":"rmcr","typekitSubgroupKitId":"xfq6xbo","paragraphRecommended":false,"faces":[{"typekitKey":"n4","name":"Regular","lookupKey":"34ba94a3207f6b301e48f61ffdf451a9b64891b8d1f5","weight":"400","style":"","subgroupName":"PT Sans Narrow"},{"typekitKey":"n7","name":"Bold","lookupKey":"34ba94a3207f6b301e48f61ffdf451b9bc4380","weight":"700","style":"","subgroupName":"PT Sans Narrow"}]},"PT Serif":{"subgroupName":"PT Serif","cssName":"pt-serif","typekitPreviewId":"xcqq","typekitSubgroupKitId":"lyd0hdu","paragraphRecommended":true,"faces":[{"typekitKey":"n4","name":"Regular","lookupKey":"34ba94a3246371767d7be10ae7ef1d89","weight":"400","style":"","subgroupName":"PT Serif"},{"typekitKey":"i4","name":"Italic","lookupKey":"34ba94a3246371767d60f00cfeea1f","weight":"400","style":"italic","subgroupName":"PT Serif"},{"typekitKey":"n7","name":"Bold","lookupKey":"34ba94a3246371767d6beb01f6","weight":"700","style":"","subgroupName":"PT Serif"},{"typekitKey":"i7","name":"Bold Italic","lookupKey":"34ba94a3246371767d6beb01f6a3358fb2438db7","weight":"700","style":"italic","subgroupName":"PT Serif"}]},"Voltage":{"subgroupName":"Voltage","cssName":"spark-voltage","typekitPreviewId":false,"typekitSubgroupKitId":"cjx2klj","paragraphRecommended":false,"faces":[{"typekitKey":"n3","name":"Light","lookupKey":"3281d88420767d3d1c40e305e6","weight":"300","style":"","subgroupName":"Voltage"},{"typekitKey":"n4","name":"Regular","lookupKey":"3281d88420767d3d024ce318fee20e","weight":"400","style":"","subgroupName":"Voltage"},{"typekitKey":"n7","name":"Bold","lookupKey":"3281d88420767d3d1246e809","weight":"700","style":"","subgroupName":"Voltage"}]},"Wanderlust Shine":{"subgroupName":"Wanderlust Shine","cssName":"spark-wanderlust-shine","typekitPreviewId":false,"typekitSubgroupKitId":"etu6mud","paragraphRecommended":false,"faces":[{"typekitKey":"n4","name":"Regular","lookupKey":"338fda9424637465235da43efaea129efe7d81b3c5ebdc76","weight":"400","subgroupName":"Wanderlust Shine"}]},"Raleway":{"subgroupName":"Raleway","cssName":"raleway","typekitPreviewId":"nqdy","typekitSubgroupKitId":"mce7zxv","paragraphRecommended":false,"faces":[{"typekitKey":"n4","name":"Regular","lookupKey":"368fd8953670613d024ce318fee20e","weight":"400","subgroupName":"Raleway"},{"typekitKey":"n9","name":"Heavy","lookupKey":"368fd8953670613d184ce51beb","weight":"900","subgroupName":"Raleway"}]}},"faces":{"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d":{"typekitKey":"n3","name":"Light","lookupKey":"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d","weight":"300","style":"","subgroupName":"Acumin Pro Semi Condensed"},"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d23b74c91cf9a8b":{"typekitKey":"i3","name":"Light Italic","lookupKey":"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4797f99816d23b74c91cf9a8b","weight":"300","style":"italic","subgroupName":"Acumin Pro Semi Condensed"},"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925c":{"typekitKey":"n6","name":"Semibold","lookupKey":"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925c","weight":"600","style":"","subgroupName":"Acumin Pro Semi Condensed"},"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925cd0ea87899a41d2":{"typekitKey":"i6","name":"Semibold Italic","lookupKey":"258dc19d287f38402246a43ef7ee15db90408ab0d5e9ce6170e4667393807b6c925cd0ea87899a41d2","weight":"600","style":"italic","subgroupName":"Acumin Pro Semi Condensed"},"258adb9224315b712345eb03b2d30e94fe7d81b3c5ebdc76":{"typekitKey":"n4","name":"Regular","lookupKey":"258adb9224315b712345eb03b2d30e94fe7d81b3c5ebdc76","weight":"400","style":"","subgroupName":"Adobe Caslon Pro"},"258adb9224315b712345eb03b2d30e94fe6690b5dceede":{"typekitKey":"i4","name":"Italic","lookupKey":"258adb9224315b712345eb03b2d30e94fe6690b5dceede","weight":"400","style":"italic","subgroupName":"Adobe Caslon Pro"},"258adb9224315b712345eb03b2d30e94fe7c81b9d9e5d26870":{"typekitKey":"n6","name":"Semibold","lookupKey":"258adb9224315b712345eb03b2d30e94fe7c81b9d9e5d26870","weight":"600","style":"","subgroupName":"Adobe Caslon Pro"},"258adb9224315b712345eb03b2d30e94fe7c81b9d9e5d26870e97c629f857060":{"typekitKey":"i6","name":"Semibold Italic","lookupKey":"258adb9224315b712345eb03b2d30e94fe7c81b9d9e5d26870e97c629f857060","weight":"600","style":"italic","subgroupName":"Adobe Caslon Pro"},"258adb9224315b712345eb03b2d30e94fe6d8bb8d4":{"typekitKey":"n7","name":"Bold","lookupKey":"258adb9224315b712345eb03b2d30e94fe6d8bb8d4","weight":"700","style":"","subgroupName":"Adobe Caslon Pro"},"258adb9224315b712345eb03b2d30e94fe6d8bb8d4a7f47075a55c75":{"typekitKey":"i7","name":"Bold Italic","lookupKey":"258adb9224315b712345eb03b2d30e94fe6d8bb8d4a7f47075a55c75","weight":"700","style":"italic","subgroupName":"Adobe Caslon Pro"},"2594dbd0127076637d65ed0afaf7":{"typekitKey":"n3","name":"Light","lookupKey":"2594dbd0127076637d65ed0afaf7","weight":"300","style":"","subgroupName":"Azo Sans"},"2594dbd0127076637d65ed0afaf75cb2a74e88bdd3":{"typekitKey":"i3","name":"Light Italic","lookupKey":"2594dbd0127076637d65ed0afaf75cb2a74e88bdd3","weight":"300","style":"italic","subgroupName":"Azo Sans"},"2594dbd0127076637d6beb01f6":{"typekitKey":"n7","name":"Bold","lookupKey":"2594dbd0127076637d6beb01f6","weight":"700","style":"","subgroupName":"Azo Sans"},"2594dbd0127076637d6beb01f6a3358fb2438db7":{"typekitKey":"i7","name":"Bold Italic","lookupKey":"2594dbd0127076637d6beb01f6a3358fb2438db7","weight":"700","style":"italic","subgroupName":"Azo Sans"},"268bd89c277e6a64707ae71ffbf308d69f4683bcc4":{"typekitKey":"n3","name":"Light","lookupKey":"268bd89c277e6a64707ae71ffbf308d69f4683bcc4","weight":"300","style":"","subgroupName":"Bellfort Script"},"268bd89c277e6a64707ae71ffbf308d6814a83a1dce6cf":{"typekitKey":"n4","name":"Regular","lookupKey":"268bd89c277e6a64707ae71ffbf308d6814a83a1dce6cf","weight":"400","style":"","subgroupName":"Bellfort Script"},"278fd89c347f793d024ce318fee20e":{"typekitKey":"n4","name":"Regular","lookupKey":"278fd89c347f793d024ce318fee20e","weight":"400","style":"","subgroupName":"Calluna"},"278fd89c347f793d195de501fbe0":{"typekitKey":"i4","name":"Italic","lookupKey":"278fd89c347f793d195de501fbe0","weight":"400","style":"italic","subgroupName":"Calluna"},"278fd89c347f793d1246e809":{"typekitKey":"n7","name":"Bold","lookupKey":"278fd89c347f793d1246e809","weight":"700","style":"","subgroupName":"Calluna"},"278fd89c347f793d1246e809b2ca089abf4687":{"typekitKey":"i7","name":"Bold Italic","lookupKey":"278fd89c347f793d1246e809b2ca089abf4687","weight":"700","style":"italic","subgroupName":"Calluna"},"2782d582247f7c7f3e09d008eaf75caba140c986d5e0c86875bb":{"typekitKey":"n4","name":"Regular","lookupKey":"2782d582247f7c7f3e09d008eaf75caba140c986d5e0c86875bb","weight":"400","style":"","subgroupName":"Clarendon Text Pro"},"2782d582247f7c7f3e09d008eaf75caba140c99dc4e6d16d77":{"typekitKey":"i4","name":"Italic","lookupKey":"2782d582247f7c7f3e09d008eaf75caba140c99dc4e6d16d77","weight":"400","style":"italic","subgroupName":"Clarendon Text Pro"},"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9":{"typekitKey":"n7","name":"Bold","lookupKey":"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9","weight":"700","style":"","subgroupName":"Clarendon Text Pro"},"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9245dbd547a978a":{"typekitKey":"i7","name":"Bold Italic","lookupKey":"2782d582247f7c7f3e09d008eaf75caba140c996dfebd9245dbd547a978a","weight":"700","style":"italic","subgroupName":"Clarendon Text Pro"},"2781c18228746a30035de040c0e61b8ebf4e96":{"typekitKey":"n4","name":"Regular","lookupKey":"2781c18228746a30035de040c0e61b8ebf4e96","weight":"400","style":"","subgroupName":"Courier Std"},"2781c18228746a30035de040d0ec109f":{"typekitKey":"n7","name":"Bold","lookupKey":"2781c18228746a30035de040d0ec109f","weight":"700","style":"","subgroupName":"Courier Std"},"2087d09f35315075314de804fce651a9b64891b8d1f5":{"typekitKey":"n4","name":"Regular","lookupKey":"2087d09f35315075314de804fce651a9b64891b8d1f5","weight":"400","style":"","subgroupName":"Didot Headline"},"2087d09f35315075314de804fce651bfb6428d":{"typekitKey":"n6","name":"Demi","lookupKey":"2087d09f35315075314de804fce651bfb6428d","weight":"600","style":"","subgroupName":"Didot Headline"},"2087d09f35315075314de804fce651b9bc4380":{"typekitKey":"n7","name":"Bold","lookupKey":"2087d09f35315075314de804fce651b9bc4380","weight":"700","style":"","subgroupName":"Didot Headline"},"229bc085337038400404c908f6ea0996":{"typekitKey":"n5","name":"Medium","lookupKey":"229bc085337038400404c908f6ea0996","weight":"500","subgroupName":"Futura PT"},"229bc085337038400404cc08f3f505":{"typekitKey":"n7","name":"Heavy","lookupKey":"229bc085337038400404cc08f3f505","weight":"700","style":"","subgroupName":"Futura PT"},"288fc09f6c5d7177385d":{"typekitKey":"n3","name":"Light","lookupKey":"288fc09f6c5d7177385d","weight":"300","subgroupName":"Lato"},"288fc09f6c437d772545e51f":{"typekitKey":"n4","name":"Regular","lookupKey":"288fc09f6c437d772545e51f","weight":"400","subgroupName":"Lato"},"288fc09f6c586c713c40e7":{"typekitKey":"i4","name":"Italic","lookupKey":"288fc09f6c586c713c40e7","weight":"400","style":"italic","subgroupName":"Lato"},"288fc09f6c53777c34":{"typekitKey":"n7","name":"Bold","lookupKey":"288fc09f6c53777c34","weight":"700","subgroupName":"Lato"},"288fc09f6c5374713342a424e6e21092b0":{"typekitKey":"i9","name":"Black Italic","lookupKey":"288fc09f6c5374713342a424e6e21092b0","weight":"900","style":"italic","subgroupName":"Lato"},"2881d7912d315a62355ee11febae3e94bf4b":{"typekitKey":"n7","name":"Bold","lookupKey":"2881d7912d315a62355ee11febae3e94bf4b","weight":"700","style":"","subgroupName":"Local Brewery"},"2881d7912d315a62355ee11feba33a94a65dc986d5e0c86875bb":{"typekitKey":"n4","name":"Regular","lookupKey":"2881d7912d315a62355ee11feba33a94a65dc986d5e0c86875bb","weight":"400","subgroupName":"Local Brewery Four"},"28baf7d0037e7c7f3e40a45ca5b651a9b64891b8d1f5":{"typekitKey":"n4","name":"Regular","lookupKey":"28baf7d0037e7c7f3e40a45ca5b651a9b64891b8d1f5","weight":"400","style":"","subgroupName":"LTC Bodoni 175"},"28baf7d0037e7c7f3e40a45ca5b651b2a74e88bdd3":{"typekitKey":"i4","name":"Italic","lookupKey":"28baf7d0037e7c7f3e40a45ca5b651b2a74e88bdd3","weight":"400","style":"italic","subgroupName":"LTC Bodoni 175"},"299bc7952e314b713e5aa43ffdf6129fb64bc9e180b7":{"typekitKey":"n5","name":"500","lookupKey":"299bc7952e314b713e5aa43ffdf6129fb64bc9e180b7","weight":"500","style":"","subgroupName":"Museo Sans Rounded"},"299bc7952e314b713e5aa43ffdf6129fb64bc9e380b7":{"typekitKey":"n7","name":"700","lookupKey":"299bc7952e314b713e5aa43ffdf6129fb64bc9e380b7","weight":"700","style":"","subgroupName":"Museo Sans Rounded"},"299bc7952e314b7c314ba95ea2b3":{"typekitKey":"n3","name":"300","lookupKey":"299bc7952e314b7c314ba95ea2b3","weight":"300","style":"","subgroupName":"Museo Slab"},"299bc7952e314b7c314ba95ea2b35cb2a74e88bdd3":{"typekitKey":"i3","name":"300 Italic","lookupKey":"299bc7952e314b7c314ba95ea2b35cb2a74e88bdd3","weight":"300","style":"italic","subgroupName":"Museo Slab"},"299bc7952e314b7c314ba95aa2b3":{"typekitKey":"n7","name":"700","lookupKey":"299bc7952e314b7c314ba95aa2b3","weight":"700","style":"","subgroupName":"Museo Slab"},"299bc7952e314b7c314ba95aa2b35cb2a74e88bdd3":{"typekitKey":"i7","name":"700 Italic","lookupKey":"299bc7952e314b7c314ba95aa2b35cb2a74e88bdd3","weight":"700","style":"italic","subgroupName":"Museo Slab"},"299bc7952e314b7c314ba95ca2b34c":{"typekitKey":"n9","name":"1000","lookupKey":"299bc7952e314b7c314ba95ca2b34c","weight":"900","style":"","subgroupName":"Museo Slab"},"349cdb88287c79301e46f20cbfd71492bd":{"typekitKey":"n1","name":"Thin","lookupKey":"349cdb88287c79301e46f20cbfd71492bd","weight":"100","style":"","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfd71492bd0fada0d1ebd467":{"typekitKey":"i1","name":"Thin Italic","lookupKey":"349cdb88287c79301e46f20cbfd71492bd0fada0d1ebd467","weight":"100","style":"italic","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfcf159cbb5b":{"typekitKey":"n3","name":"Light","lookupKey":"349cdb88287c79301e46f20cbfcf159cbb5b","weight":"300","style":"","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfcf159cbb5bc49dc4e6d16d77":{"typekitKey":"i3","name":"Light Italic","lookupKey":"349cdb88287c79301e46f20cbfcf159cbb5bc49dc4e6d16d77","weight":"300","style":"italic","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfd1199ca64385a6":{"typekitKey":"n4","name":"Regular","lookupKey":"349cdb88287c79301e46f20cbfd1199ca64385a6","weight":"400","style":"","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056":{"typekitKey":"i4","name":"Regular Italic","lookupKey":"349cdb88287c79301e46f20cbfd1199ca64385a690cec96578a056","weight":"400","style":"italic","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfce199fba5a89":{"typekitKey":"n5","name":"Medium","lookupKey":"349cdb88287c79301e46f20cbfce199fba5a89","weight":"500","style":"","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfce199fba5a89f4f9f3dc687daa":{"typekitKey":"i5","name":"Medium Italic","lookupKey":"349cdb88287c79301e46f20cbfce199fba5a89f4f9f3dc687daa","weight":"500","style":"italic","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfd01996ba4d8bb8d4":{"typekitKey":"n6","name":"Semibold","lookupKey":"349cdb88287c79301e46f20cbfd01996ba4d8bb8d4","weight":"600","style":"","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfd01996ba4d8bb8d4a7f47075a55c75":{"typekitKey":"i6","name":"Semibold Italic","lookupKey":"349cdb88287c79301e46f20cbfd01996ba4d8bb8d4a7f47075a55c75","weight":"600","style":"italic","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfc11397b7":{"typekitKey":"n7","name":"Bold","lookupKey":"349cdb88287c79301e46f20cbfc11397b7","weight":"700","style":"","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467":{"typekitKey":"i7","name":"Bold Italic","lookupKey":"349cdb88287c79301e46f20cbfc11397b70fada0d1ebd467","weight":"700","style":"italic","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfc6048fa14e86bbdce3":{"typekitKey":"n8","name":"Extrabold","lookupKey":"349cdb88287c79301e46f20cbfc6048fa14e86bbdce3","weight":"800","style":"","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfc6048fa14e86bbdce39d4d60a8597f9d":{"typekitKey":"i8","name":"Extrabold Italic","lookupKey":"349cdb88287c79301e46f20cbfc6048fa14e86bbdce39d4d60a8597f9d","weight":"800","style":"italic","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfc1109ab044":{"typekitKey":"n9","name":"Black","lookupKey":"349cdb88287c79301e46f20cbfc1109ab044","weight":"900","style":"","subgroupName":"Proxima Nova"},"349cdb88287c79301e46f20cbfc1109ab044c49dc4e6d16d77":{"typekitKey":"i9","name":"Black Italic","lookupKey":"349cdb88287c79301e46f20cbfc1109ab044c49dc4e6d16d77","weight":"900","style":"italic","subgroupName":"Proxima Nova"},"34ba94a3207f6b3d024ce318fee20e":{"typekitKey":"n4","name":"Regular","lookupKey":"34ba94a3207f6b3d024ce318fee20e","weight":"400","style":"","subgroupName":"PT Sans"},"34ba94a3207f6b3d195de501fbe0":{"typekitKey":"i4","name":"Italic","lookupKey":"34ba94a3207f6b3d195de501fbe0","weight":"400","style":"italic","subgroupName":"PT Sans"},"34ba94a3207f6b3d1246e809":{"typekitKey":"n7","name":"Bold","lookupKey":"34ba94a3207f6b3d1246e809","weight":"700","style":"","subgroupName":"PT Sans"},"34ba94a3207f6b3d1246e809b2ca089abf4687":{"typekitKey":"i7","name":"Bold Italic","lookupKey":"34ba94a3207f6b3d1246e809b2ca089abf4687","weight":"700","style":"italic","subgroupName":"PT Sans"},"34ba94a3207f6b301e48f61ffdf451a9b64891b8d1f5":{"typekitKey":"n4","name":"Regular","lookupKey":"34ba94a3207f6b301e48f61ffdf451a9b64891b8d1f5","weight":"400","style":"","subgroupName":"PT Sans Narrow"},"34ba94a3207f6b301e48f61ffdf451b9bc4380":{"typekitKey":"n7","name":"Bold","lookupKey":"34ba94a3207f6b301e48f61ffdf451b9bc4380","weight":"700","style":"","subgroupName":"PT Sans Narrow"},"34ba94a3246371767d7be10ae7ef1d89":{"typekitKey":"n4","name":"Regular","lookupKey":"34ba94a3246371767d7be10ae7ef1d89","weight":"400","style":"","subgroupName":"PT Serif"},"34ba94a3246371767d60f00cfeea1f":{"typekitKey":"i4","name":"Italic","lookupKey":"34ba94a3246371767d60f00cfeea1f","weight":"400","style":"italic","subgroupName":"PT Serif"},"34ba94a3246371767d6beb01f6":{"typekitKey":"n7","name":"Bold","lookupKey":"34ba94a3246371767d6beb01f6","weight":"700","style":"","subgroupName":"PT Serif"},"34ba94a3246371767d6beb01f6a3358fb2438db7":{"typekitKey":"i7","name":"Bold Italic","lookupKey":"34ba94a3246371767d6beb01f6a3358fb2438db7","weight":"700","style":"italic","subgroupName":"PT Serif"},"3281d88420767d3d1c40e305e6":{"typekitKey":"n3","name":"Light","lookupKey":"3281d88420767d3d1c40e305e6","weight":"300","style":"","subgroupName":"Voltage"},"3281d88420767d3d024ce318fee20e":{"typekitKey":"n4","name":"Regular","lookupKey":"3281d88420767d3d024ce318fee20e","weight":"400","style":"","subgroupName":"Voltage"},"3281d88420767d3d1246e809":{"typekitKey":"n7","name":"Bold","lookupKey":"3281d88420767d3d1246e809","weight":"700","style":"","subgroupName":"Voltage"},"338fda9424637465235da43efaea129efe7d81b3c5ebdc76":{"typekitKey":"n4","name":"Regular","lookupKey":"338fda9424637465235da43efaea129efe7d81b3c5ebdc76","weight":"400","subgroupName":"Wanderlust Shine"},"368fd8953670613d024ce318fee20e":{"typekitKey":"n4","name":"Regular","lookupKey":"368fd8953670613d024ce318fee20e","weight":"400","subgroupName":"Raleway"},"368fd8953670613d184ce51beb":{"typekitKey":"n9","name":"Heavy","lookupKey":"368fd8953670613d184ce51beb","weight":"900","subgroupName":"Raleway"}}}')},860:function(e,t){},861:function(e,t){}}]);
//# sourceMappingURL=brand-kit-controller-c8bfd57d.js.map