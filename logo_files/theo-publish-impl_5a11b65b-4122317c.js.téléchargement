(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[64],{"1geK":function(e,n,t){"use strict";t.r(n);var r=t("UFvF"),o=t.n(r),a=t("ApVh"),l=t.n(a),i=t("Uwho"),s=t.n(i),d=t("MGCh"),c=t.n(d),u=t("wHG3");const{GraphTransportUtils:f}=u.PixiJSApp,g=c.a.channel("web-animation-snapi"),p="https://".concat(s.a.postsnapi),b="ginger_snap1";class m extends Error{constructor(){var e,n,t;super(...arguments),t=void 0,(n="response")in(e=this)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}}const h=new class{getEtag(e){const n="https://".concat(s.a.ss,"/assets/adobe-theo/").concat(e,"/manifest"),t=o.a.defer();return l.a.ajax({type:"GET",url:n,headers:{"x-api-key":s.a.key},success:function(n,r,o){return g.info("snapi: get etag succeeded [projectId: ".concat(e,"]")),t.resolve(o.getResponseHeader("ETag"))},error:function(n,r,o){return g.error("snapi: error - fail to get etag, [projectId: ".concat(e,"], [message: ").concat(r,"], [error: ").concat(o,"], [response: ").concat(JSON.stringify(n,null,2),"]")),t.reject(n)}}),t.promise}pollUntilReady(e,n,t,r,a,i,s){if(!t){const n=new Error("called without full xhr");return g.error("snapi: error - polling 1 [requestId: ".concat(i,"], [error:").concat(n,"]")),e.reject(n)}if(200===t.status){let t;if("object"==typeof n)t=n;else try{t=JSON.parse(n.replace(/^[^{]*/,""))}catch(n){return g.error("snapi: error - polling 2 [requestId: ".concat(i,"], [error:").concat(n,"]")),e.reject(n)}if(t["error-response"]){const n=new m("poll returned error from server: "+JSON.stringify(t));return g.error("snapi: error - polling 3 [requestId: ".concat(i,"], [error: ").concat(n,"]")),n.response=t,e.reject(n)}return e.resolve(t)}if(202!==t.status){const n=new Error("unexpected status in poll "+t.status);return g.error("snapi: error - polling 4 [requestId: ".concat(i,"], [status: ").concat(t.status,"], [error: ").concat(n,"]")),e.reject(n)}let d;if(n.href)d=n;else try{d=JSON.parse(n)}catch(n){return g.error("snapi: error - polling 5 [requestId: ".concat(i,"], [error: ").concat(n,"]")),e.reject(n)}if(!d||!d.href){const n=new Error("publish failed: "+t.response);return g.error("snapi: error - polling 6 [requestId: ".concat(i,"], [error: ").concat(n,"]")),e.reject(n)}let c,u=d.progress;try{c=t.getResponseHeader("retry-after"),isNaN(c)&&(c=5)}catch(e){c=5}r&&"function"==typeof s&&s("progress",u,a);const f=d.href,h=this;return o.a.delay(1e3*c).then((function(){l.a.ajax({url:p+"/"+f,type:"GET",headers:{"x-api-key":b,"x-request-id":i},success:function(n,t,o){i!==o.getResponseHeader("x-request-id")&&g.warn("snapi: warn - polling 7 [message: x-request-id mismatch] [expected:".concat(i,", got:").concat(o.getResponseHeader("x-request-id"),"]")),g.info("snapi: polling... [requestId:".concat(i,"], [response: ").concat(JSON.stringify(n,null,2),"]")),h.pollUntilReady(e,n,o,r,a,i,s)},error:function(n,t,r){return g.error("snapi: error - polling 8 [href: ".concat(f,"], [requestId: ").concat(i,"], [message: ").concat(t,"], [error: ").concat(r,"], [response:").concat(JSON.stringify(n,null,2),"]")),e.reject(n)}})})),e.promise}sendPgmPublishRequestImpl(e,n,t,r,a){const i=this;return this.getEtag(n).then((function(s){const d=o.a.defer();return l.a.ajax({type:"POST",url:e,dataType:"json",headers:{"Content-Type":"application/json","x-project-etag":s,"x-api-key":b},data:JSON.stringify(t),success:function(e,t,o){const l=o.getResponseHeader("x-request-id");g.info("snapi: about to poll [requestId:".concat(l,"], ").concat(JSON.stringify(e,null,2))),a&&(a.value=l),i.pollUntilReady(d,e,o,!0,n,l,r)},error:function(n,t,r){return g.error("snapi: error - send pgm publish failed, response: ".concat(JSON.stringify(n,null,2),", message: ").concat(t,", error: ").concat(r,", snapiUrl: ").concat(e)),d.reject(n)}}),d.promise}))}getPgmGraphForPublish(e){if(!e)return null;e.generateKeyFrames();const n=e.getGraph(!0);if(n.duration<=0)return g.warn("Zero PGM duration"),null;const t=f.convertAllLocalCompositeToExternalCC(n,e.documentId());return t||null}sendPgmPublishRequestForUpload(e,n,t,r,o){const a="".concat(p,"/project/").concat(e,"/pgmpublish?invocation_mode=async&partial=1&pubType=1&cpDest=").concat(n);return this.sendPgmPublishRequestImpl(a,e,t,o,r)}sendPgmPublishRequestForDownload(e,n){const t="".concat(p,"/project/").concat(e,"/pgmpublish?invocation_mode=async&partial=3&pubType=1");return this.sendPgmPublishRequestImpl(t,e,n,null,null)}getPublishRequestBody(e){const n=e.publishTitle||"",t=e.authorFull||"",r=!e.isPublic;return{metadata:{title:n,custom:{author:t,sub_title:"",removeBranding:!!e.removeBranding},sub_category_ids:["other"],category_id:"theos",undiscoverable:r},update:!1,options:{withoutBranding:!!e.removeBranding}}}};n.default=h},"2PxR":function(e,n,t){"use strict";t.r(n),t.d(n,"IMAGE_SOURCES",(function(){return s})),t.d(n,"getImageMediaMetadata",(function(){return d}));var r=t("UzQk"),o=t.n(r);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}let s;function d(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t={};if(e){let n="unknown",r="unknown",o={};e.source&&e.source.name&&(e.source.name===s.STOCK?n="adobestock":e.source.name===s.UNSPLASH||e.source.name===s.PIXABAY||e.source.name===s.NOUN?n="dooplo":e.source.name===s.CCL&&(n="ccl"),e.source.name===s.NOUN?r=e.id:e.source.name===s.CCL?r=e.assetID:e.image_id?r=e.image_id.toString():e.id&&(r=e.id),e.source.name===s.CCL&&(o.ccl={created_date:e.created_date,modified_date:e.modified_date,library_id:e.albumId,library_name:e.albumName})),t={source:n,search:e.searchText,rootProperties:l({license:{asset_id:r,owner:e.owner?e.owner.name:"unknown",photo_name:e.title,source_name:e.source?e.source.name:"unknown",source_url:e.context?e.context.href:"unknown",tags:e.tags instanceof Array?e.tags.join(","):"",type:e.license?e.license.short_name:"unknown"}},o)}}const r=o.a.MediaMetadata.fromProperties(t);return r&&n&&(r.designIntent=o.a.MediaMetadata.DESIGNINTENT_LOGO),r}!function(e){e.STOCK="Adobe Stock",e.UNSPLASH="Unsplash",e.PIXABAY="pixabay",e.NOUN="The Noun Project",e.CCL="Creative Cloud Libraries"}(s||(s={}))},"2qlM":function(e,n,t){var r;void 0===(r=function(){return["A loving heart is the truest wisdom","Be curious, not judgmental","Whatever satisfies the soul is truth","Always do what you are afraid to do","To be great is to be misunderstood","Things do not change; we change","Today a reader, tomorrow a leader","Experience is the teacher of all things","If music be the food of love, play on","Beauty is not caused. It is","To find yourself, think for yourself","We came forth to rebehold the stars","What you think, you become","Love is not consolation. It is light","You cannot find peace by avoiding life","Know your own happiness","Genius is eternal patience","Simplicity is the ultimate sophistication","Wherever you go, go with all your heart","Hold on to what is good","Stories are a communal currency of humanity","Be the best you can be"]}.apply(n,[]))||(e.exports=r)},"3wXR":function(e,n,t){var r;void 0===(r=(()=>[[{red:255,green:255,blue:255,roles:null,id:null},{red:0,green:0,blue:0,roles:null,id:null}],[{red:191,green:191,blue:191,roles:null,id:null},{red:255,green:255,blue:255,roles:null,id:null}],[{red:64,green:64,blue:64,roles:null,id:null},{red:242,green:242,blue:242,roles:null,id:null}],[{red:0,green:0,blue:0,roles:null,id:null},{red:217,green:217,blue:217,roles:null,id:null}],[{red:150,green:224,blue:239,roles:null,id:null},{red:23,green:37,blue:61,roles:null,id:null}],[{red:52,green:208,blue:239,roles:null,id:null},{red:255,green:255,blue:255,roles:null,id:null}],[{red:0,green:163,blue:207,roles:null,id:null},{red:215,green:231,blue:250,roles:null,id:null}],[{red:0,green:135,blue:162,roles:null,id:null},{red:191,green:211,blue:221,roles:null,id:null}],[{red:153,green:216,blue:255,roles:null,id:null},{red:53,green:100,blue:162,roles:null,id:null}],[{red:28,green:173,blue:255,roles:null,id:null},{red:255,green:255,blue:255,roles:null,id:null}],[{red:0,green:121,blue:198,roles:null,id:null},{red:195,green:200,blue:213,roles:null,id:null}],[{red:0,green:101,blue:163,roles:null,id:null},{red:191,green:220,blue:221,roles:null,id:null}],[{red:204,green:210,blue:237,roles:null,id:null},{red:16,green:8,blue:78,roles:null,id:null}],[{red:102,green:124,blue:224,roles:null,id:null},{red:227,green:187,blue:239,roles:null,id:null}],[{red:32,green:68,blue:224,roles:null,id:null},{red:255,green:255,blue:255,roles:null,id:null}],[{red:21,green:47,blue:163,roles:null,id:null},{red:196,green:199,blue:203,roles:null,id:null}],[{red:211,green:150,blue:237,roles:null,id:null},{red:34,green:34,blue:34,roles:null,id:null}],[{red:182,green:81,blue:225,roles:null,id:null},{red:158,green:173,blue:235,roles:null,id:null}],[{red:140,green:32,blue:186,roles:null,id:null},{red:255,green:149,blue:202,roles:null,id:null}],[{red:93,green:20,blue:124,roles:null,id:null},{red:255,green:255,blue:255,roles:null,id:null}],[{red:252,green:197,blue:226,roles:null,id:null},{red:103,green:95,blue:110,roles:null,id:null}],[{red:249,green:119,blue:188,roles:null,id:null},{red:60,green:54,blue:54,roles:null,id:null}],[{red:234,green:24,blue:137,roles:null,id:null},{red:255,green:255,blue:255,roles:null,id:null}],[{red:156,green:7,blue:87,roles:null,id:null},{red:248,green:199,blue:193,roles:null,id:null}],[{red:255,green:202,blue:194,roles:null,id:null},{red:209,green:76,blue:122,roles:null,id:null}],[{red:255,green:131,blue:112,roles:null,id:null},{red:43,green:31,blue:31,roles:null,id:null}],[{red:248,green:67,blue:79,roles:null,id:null},{red:244,green:231,blue:231,roles:null,id:null}],[{red:163,green:22,blue:0,roles:null,id:null},{red:227,green:186,blue:201,roles:null,id:null}],[{red:255,green:213,blue:173,roles:null,id:null},{red:209,green:76,blue:76,roles:null,id:null}],[{red:255,green:171,blue:92,roles:null,id:null},{red:75,green:67,blue:54,roles:null,id:null}],[{red:255,green:125,blue:0,roles:null,id:null},{red:255,green:255,blue:255,roles:null,id:null}],[{red:175,green:85,blue:0,roles:null,id:null},{red:232,green:208,blue:190,roles:null,id:null}],[{red:255,green:226,blue:173,roles:null,id:null},{red:165,green:125,blue:50,roles:null,id:null}],[{red:255,green:198,blue:92,roles:null,id:null},{red:0,green:0,blue:0,roles:null,id:null}],[{red:255,green:165,blue:0,roles:null,id:null},{red:239,green:237,blue:225,roles:null,id:null}],[{red:165,green:110,blue:6,roles:null,id:null},{red:255,green:213,blue:106,roles:null,id:null}],[{red:255,green:240,blue:173,roles:null,id:null},{red:216,green:173,blue:173,roles:null,id:null}],[{red:255,green:229,blue:112,roles:null,id:null},{red:247,green:172,blue:117,roles:null,id:null}],[{red:255,green:207,blue:0,roles:null,id:null},{red:100,green:89,blue:68,roles:null,id:null}],[{red:172,green:139,blue:78,roles:null,id:null},{red:244,green:242,blue:237,roles:null,id:null}],[{red:255,green:254,blue:173,roles:null,id:null},{red:216,green:170,blue:68,roles:null,id:null}],[{red:255,green:253,blue:112,roles:null,id:null},{red:139,green:91,blue:26,roles:null,id:null}],[{red:244,green:239,blue:33,roles:null,id:null},{red:0,green:0,blue:0,roles:null,id:null}],[{red:79,green:84,blue:65,roles:null,id:null},{red:226,green:232,blue:221,roles:null,id:null}],[{red:215,green:247,blue:161,roles:null,id:null},{red:80,green:159,blue:119,roles:null,id:null}],[{red:146,green:204,blue:47,roles:null,id:null},{red:255,green:255,blue:255,roles:null,id:null}],[{red:108,green:196,blue:21,roles:null,id:null},{red:243,green:245,blue:185,roles:null,id:null}],[{red:80,green:159,blue:74,roles:null,id:null},{red:251,green:238,blue:195,roles:null,id:null}],[{red:162,green:242,blue:189,roles:null,id:null},{red:82,green:150,blue:170,roles:null,id:null}],[{red:107,green:214,blue:142,roles:null,id:null},{red:46,green:63,blue:64,roles:null,id:null}],[{red:37,green:213,blue:95,roles:null,id:null},{red:236,green:242,blue:244,roles:null,id:null}],[{red:60,green:92,blue:71,roles:null,id:null},{red:126,green:214,blue:174,roles:null,id:null}]]).apply(n,[]))||(e.exports=r)},"4bnO":function(e,n,t){var r,o;r=[t("UFvF")],void 0===(o=function(e){return function(n,t){var r="/api/post/v1/proxy?url="+encodeURIComponent(n),o=e.defer(),a=new XMLHttpRequest;return a.open("GET",r,!0),a.responseType="arraybuffer",a.onload=function(){var e=new Uint8Array(this.response);if(t){var n=new Blob([e],{type:t});o.resolve(n)}else{var a=new XMLHttpRequest;a.open("HEAD",r),a.onload=function(){var n=this.getResponseHeader("Content-Type"),t=new Blob([e],{type:n||"image/jpeg"});o.resolve(t)},a.onerror=function(){var n=new Blob([e],{type:"image/jpeg"});o.resolve(n)},a.send()}},a.onerror=function(){o.reject()},a.send(),o.promise}}.apply(n,r))||(e.exports=o)},"4hMT":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return g}));var r=t("UzQk"),o=t("bBG2"),a=t("QX4k"),l=t("MGCh"),i=t.n(l),s=t("UNP3"),d=t("WpJZ");function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const u=t("UFvF"),f=i.a.channel("export-analytics-manager");class g{constructor(){c(this,"document",void 0),c(this,"remixParentMetadataPromise",void 0),c(this,"remixParentAnalyticsMetadata",{})}static getCpAssetMetadata(e,n){if(!e||!n)return u(null);return new a.default({cpServiceDomain:n}).getAssetMetadataWithRetry(e)}static getRemixParentMetadataForAnalytics(e,n,t){return t?u({tags:null,templateType:"brand",id:e}):e?g.getCpAssetMetadata(e,n):u({})}static extractTemplateAnalyticsFromCpAssetMetadata(e){const n=e||{};let t;return t=n.tags?n.tags.includes("remixpaid")?"paid":"free":n.templateType||"none",{tagNames:n.tags?"[".concat(n.tags.join(", "),"]"):"[]",templateType:t,templateId:n.id?n.id:"none"}}static getDesignMetadataForExport(e){if(!e)return{originalSize:"unknown",exportSize:"unknown",hasResized:"unknown",designIngredientId:"unknown",color:"unknown",layout:"unknown",includesPaidAdobeFonts:"unknown",contentCountsString:"unknown",extendedContentCountsString:"unknown",designFilter:"unknown",hasVariationTemplate:"unknown",hasAnimation:"unknown",animationStyle:"unknown",fontSizeString:"unknown"};const n=e.firstPage.originalSizeID.toLowerCase(),t=e.firstPage.sizeID.toLowerCase(),o=n===r.FormaPage.DEFAULT_ORIGINAL_SIZE_ID.toLowerCase()?"unknown":n!==t,a=r.TheoDocumentUtils.getAllDesignIngredientIDsAndTypes(e),l=a.length?a[0].id:void 0,i=e.firstPage.colorLibrary.paletteID||void 0,s=r.TheoDocumentUtils.getAppliedLayoutId(e)||void 0,d=r.TheoDocumentUtils.getFontSourceUsage(e).indexOf(Object(r.describeFontSource)(r.FontSource.TYPEKIT_PREMIUM))>-1,c=r.TheoDocumentUtils.getContentCountsString(e),u=r.TheoDocumentUtils.getExtendedContentCountsString(e),f=r.TheoDocumentUtils.getAppliedVariationTemplateId(e),p=r.MotionUtils.getCurrentAnimationStyle(e);let b="false",m="unknown";return m&&(m=r.AnimationLibrary.determineAnalyticName(p),b="true"),{originalSize:n,exportSize:t,hasResized:o,designIngredientId:l,color:i,layout:s,includesPaidAdobeFonts:d,contentCountsString:c,extendedContentCountsString:u,fontSizeString:g.getFontSizeString(e),hasAnimation:b,animationStyle:m,designFilter:f||void 0,hasVariationTemplate:!!f}}static getFontSizeString(e){const n=r.TypeLockupUtils.sizesInDocument(e,void 0,!0).map(n=>r.TextFacade.toUserFontSize(n,e.firstPage));let t;if(n&&n.length){const e=Math.min(...n).toFixed(1),r=Math.max(...n).toFixed(1);t="fontSizeMin:".concat(e,";fontSizeMax:").concat(r)}return t}static sendExportAnalyticsAndMetadata(e,n,t){const a=r.TheoDocumentUtils.getFontSourceUsage(e);o.default.publish("exportFontUsage",{contextualData1:"fontSource:[".concat(a.join(", "),"]")});const l=Object(d.getAllStringForFormaUsedWheelSuggestions)(e);l.length>0&&o.default.publish("lockupStyleCaptured",{contextualData1:"styleString:".concat(l),contextualData2:"location:ShareExport"}),Object(s.reportNounProjectIds)(e,n,t);const i=r.TheoDocumentUtils.getMetadataEvents(e,!1);for(let e=0;e<i.length;e++){const n=i[e];o.default.publish("shareMetadata",{"document:metadata":n[0],"document:metadata2":n[1],"document:metadata3":n[2],"document:metadata4":n[3]})}}static finalizeAnalyticsForExportCompleted(e,n){const t=g.getDesignMetadataForExport(n);return Object.assign({},e,t)}setDocument(e){this.document=e}getRemixParentCPMetadata(e,n,t){return this.remixParentMetadataPromise?this.remixParentMetadataPromise:this.remixParentMetadataPromise=g.getRemixParentMetadataForAnalytics(e,n,t).then(e=>{const n=g.extractTemplateAnalyticsFromCpAssetMetadata(e);return this.remixParentAnalyticsMetadata=n,n}).catch(e=>(f.warn("Failed to get parent CP metadata",e),this.remixParentAnalyticsMetadata=g.extractTemplateAnalyticsFromCpAssetMetadata(null),u.reject(e)))}getMetadataForExportAnalytics(e,n){return this.getRemixParentCPMetadata(e,"cc-api-cp.adobe.io",n).then(e=>{const n=g.extractTemplateAnalyticsFromCpAssetMetadata(e);return g.finalizeAnalyticsForExportCompleted(n,this.document)}).catch(e=>(f.error("getMetadataForExportAnalytics: error while fetching metadata from CP",e),u(!1)))}sendExportMetadataForDownload(e,n,t){g.sendExportAnalyticsAndMetadata(e,n,t);const r=g.finalizeAnalyticsForExportCompleted(this.remixParentAnalyticsMetadata,e);window.marvel.events.trigger("send-theo-editor-download-button-export-analytics",r)}}},"8DU0":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return l}));var r=t("ApVh"),o=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}class l{static getSetting(e){return new Promise((n,t)=>{l.hasSetting(e)?n(l.settings[e]):l.getSettings().then(t=>{l.settings=t,n(l.settings[e])}).catch(e=>{t(e)})})}static setSetting(e,n){if(!e||void 0===n)return Promise.reject();l.settings[e]=n;const t=l.apiEndPoint+encodeURIComponent(e),r={headers:{"Content-Type":"application/json;charset=UTF-8"},method:"PUT",body:JSON.stringify({value:n})};return fetch(t,r)}static hasSetting(e){return void 0!==l.settings[e]}static getSettings(){return l.getSettingsPromise&&l.promiseResolved?l.getSettingsPromise:(l.getSettingsPromise=new Promise((e,n)=>{o.a.getAccessToken().then(()=>{fetch(l.apiEndPoint).then(t=>{if(t.ok)e(t.json()),l.promiseResolved=!0;else{const e=new Error(t.statusText);n(e)}}).catch(e=>{n(e)})})}),l.getSettingsPromise)}}a(l,"apiEndPoint","/api/post/v1/usersettings/"),a(l,"getSettingsPromise",void 0),a(l,"settings",{}),a(l,"promiseResolved",!1)},"92tI":function(e,n,t){var r,o;r=[t("xeH2"),t("YLtl"),t("UFvF"),t("MGCh"),t("UzQk"),t("bBG2")],void 0===(o=function(e,n,t,r,o,a){const l=a.default,i={};let s=null;const d=r.channel("post-text-styles-service-wrapper"),c={};return i.setCoreWrapper=function(e){s=e},i.eraseTextStyleCache=function(){Object.keys(c).forEach(e=>delete c[e])},i.getTextStyleSuggestionAtIndex=function(e){const n="key".concat(e);return c[n]||{}},i.applyTextStyleSuggestion=function(e,n){const r=s.getSelectedForma();if(r&&r.isTypeLockup()){const t=c["key".concat(e)]||{},{style:a}=t,d=Date.now();return s.doAction(new o.ApplyTextStyleSuggestionAction(a,r,n,!0)).then((function(n){l.publish("styleEvaluatorUsed",{contextualData1:"WheelPerformance",contextualData2:"".concat(Date.now()-d)}),n&&n.style&&i.updateTextStyleSuggestionAtIndex(e,n.style,"style from ApplyTextStyleSuggestionAction")}))}return t.resolve(!1)},i.resetStyleSuggestions=function(e,n,t,r,o){if(d.info("Clearing style suggestions cache."),r){const n=Date.now();t.postTextStylesServiceInterface.resetStyleSuggestions(e).then(()=>{l.publish("textStylesServiceUsed",{contextualData1:"PromiseResolvedTime",contextualData2:"".concat(Date.now()-n)})})}if(o){const e=Date.now();t.postTextStylesServiceInterface.resetEmphasisSuggestions(n).then(()=>{l.publish("textEmphasisServiceUsed",{contextualData1:"PromiseResolvedTime",contextualData2:"".concat(Date.now()-e)})})}return Promise.resolve().then(()=>d.info("Wheel ready!"))},i.nextEmphasis=function(e){const n=s.getSelectedForma();s.doAction(new o.ApplyNextTextEmphasisSuggestionAction(n,e))},i.getEmphasisLoggingInfo=function(e){return e.postTextStylesServiceInterface.getNLPInformtionForCurrentEmphasized()},i.updateTextStyleSuggestionAtIndex=function(e,n,t,r){const o="key".concat(e);o in c?d.info("Updating style at index: ".concat(e,": ").concat(t)):d.info("Adding new style at index: ".concat(e,": ").concat(t)),c[o]={style:n,meta:t,id:r}},i}.apply(n,r))||(e.exports=o)},"9SnX":function(e,n,t){var r,o;r=[t("ApVh"),t("xeH2"),t("UFvF"),t("Uwho"),t("MGCh"),t("Pbp+"),t("lulf"),t("bBG2")],void 0===(o=function(e,n,t,r,o,a,l,i){const s=i.default;var d={},c=o.channel("design-variations");function u(e,t){var r=performance.now();n.ajax({type:"GET",url:"/api/post/v1/designthemes?aspectRatio="+e.aspectRatio+"&wordCount="+e.wordCount.join(",")+"&iconCount="+e.iconCount+"&imageCount="+e.imageCount,contentType:"application/json"}).fail((function(e,n){c.error("Failed to fetch response from Legacy Design Variations Service"),t.reject(n)})).done((function(e){const n=performance.now()-r;c.info("Legacy Design Variations Service Respone in: ".concat(n)),s.publish("legacyDesignVariationsServiceUsed",{contextualData1:n}),t.resolve(e)}))}return(d.getVariations=function(e,n){var r=t.defer();return a.run("postWebDesignVariations").catch(e=>{c.error("Ran into error with postWebDesignVariations experiment",e)}).finally(()=>{u(e,r)}).done(),r.promise},d)}.apply(n,r))||(e.exports=o)},Dcjk:function(e,n,t){var r;void 0===(r=function(){var e=window.navigator.userAgent;return e.indexOf("Trident/")>0?11:e.indexOf("MSIE ")>0?10:e.indexOf("Edge/")>0&&12}.apply(n,[]))||(e.exports=r)},Dvuo:function(e,n,t){var r,o;r=[t("3xm6"),t("UzQk")],void 0===(o=function(e,n){var t={numberStringForValue:function(e,t){const r=n.PageFacade.getNumDecimalPlacesForUnits(t);return n.Host.locale.formatNumber(e,r)},getUnitsOptionString:function(){for(var e=[],r=n.PageExportFormat.PIXELS;r<=n.PageExportFormat.INCHES;r++)e.push(t.getUnitsStringForFormat(r));var o="";return e.forEach((function(e){o+="<option>"+e+"</option>"})),o},getUnitsStringForFormat:function(t){var r;switch(t){case n.PageExportFormat.PIXELS:r=e.translate("forms.custom-size.kPixelsAbbr");break;case n.PageExportFormat.MILLIMETERS:r=e.translate("forms.custom-size.kMillimetersAbbr");break;case n.PageExportFormat.INCHES:r=e.translate("forms.custom-size.kInchesAbbr");break;default:log.assert(!1,"invalid units format: "+t),r="px"}return r},currentUnitToPixels:function(e,t,r,o){var a=n.PageFacade.unitsToPixelsFactor(r,o);return new n.TheoSize(e*a,t*a)},pixelsToCurrentUnit:function(e,t,r,o){var a=n.PageFacade.unitsToPixelsFactor(r,o);return new n.TheoSize(e/a,t/a)}};return t}.apply(n,r))||(e.exports=o)},Exk9:function(e,n,t){var r,o;r=[t("UFvF"),t("3xdQ"),t("U44B"),t("mwMu"),t("qnb0"),t("b2xK"),t("wPbz"),t("+gTl"),t("btxu"),t("MGCh"),t("hHO/")],void 0===(o=function(e,n,t,r,o,a,l,i,s,d,c){const u=s.default,f=d.channel("brandkit-template-utils"),g={};function p(e,n){const t=new u(e);return Promise.resolve().then(()=>t.render(n))}return g.getDefaultTemplate=function(n){return n?n.getFormatThemes("post").then(e=>e.length>0?e[0]:null):e.resolve()},g.createEmptyPostTemplate=function(e){return e.composite.acquireNestedMap("themes").then(n=>{const t=e.composite.addChildPath(void 0,void 0,n);return t.setValue("type","application/vnd.adobe.adobesparkpost.theme+json"),t.setValue("ac#format","post"),t})},g.createEmptyBrandedTemplate=function(r,a){return(a?e.resolve(a):g.createEmptyPostTemplate(r)).then(a=>{const s=new n({persistSource:new l.default({}),persistSave:o.toTemplateLocal(r,a,o.CommitChanges.AUTO)});return s.whenInitialized().then(()=>{const n=i.getCoreBrandForTemplateGeneration(r);return n||(f.error("Failed to add branding to default template: Core brand promise is undefined"),e.resolve())}).then(n=>n?(t.setAuthoringContext(n),s.brandDocument(n)):(f.error("Failed to add branding to default template: Core brand is undefined."),e.resolve())).then(()=>(g.setUsedBrandElementsData(r,a,s,!0),p(s,{longestSide:500}))).then(e=>s.saveWithRenditions(null,c(e))).then(()=>a)})},g.copyTemplate=function(t,a,l){return(l?e.resolve(l):g.createEmptyPostTemplate(t)).then(e=>{const l=e;l.setValue("theme#data",a.getValue("theme#data"));const i=new n({persistSource:r.fromTemplate(t,a),persistSave:o.toTemplateLocal(t,l,o.CommitChanges.AUTO)});return i.whenInitialized().then(()=>p(i,{longestSide:500})).then(e=>i.saveWithRenditions(null,c(e))).then(()=>l)})},g.renderTemplate=function(e,t,o,l){const i=new n({persistSource:r.fromTemplate(e,t),persistSave:a.toBlackHole()});return i.whenInitialized().then(()=>(function(e,n,t){const r=new u(e);return Promise.resolve().then(()=>r.renderToCanvas(n,t))})(i,o,{longestSide:l||500}))},g.setUsedBrandElementsData=function(t,a,l,i){let s,d;l||(l=new n({persistSource:r.fromTemplate(t,a),persistSave:o.toTemplateLocal(t,a,i?o.CommitChanges.NEVER:o.CommitChanges.AUTO)}));const c=t.getColors();let u=t.getAllFonts();const g=u&&0!==u.length?e.resolve(u):t.getFonts(),p=t.getAuthoringContextLogos();return e.all([c,g,p,l.whenInitialized()]).spread((e,n,t)=>{s=e.map(e=>e.getId()).filter(e=>l.isSparkColorInUse(e)),u=n.map(e=>e.getId()).filter(e=>l.areSparkFontsInUse([e])),d=t.map(e=>e.getId()).filter(e=>l.areSparkLogosInUse([e]));const r=a.getValue("theme#data")||{};r.colors=s,r.fonts=u,r.logos=d,a.setValue("theme#data",r)}).catch(e=>{const n=e?e.message:"";f.error("setUsedBrandElementsData error: ".concat(n),e)})},g.getTemplateName=function(e){return(e.getValue("theme#data")||{}).name||""},g.setTemplateName=function(e,n){const t=e.getValue("theme#data")||{};t.name=n,e.setValue("theme#data",t)},g.setTemplateSourceID=function(e,n){const t=e.getValue("theme#data")||{};t.sourceTemplateID=n,e.setValue("theme#data",t)},g}.apply(n,r))||(e.exports=o)},GnB6:function(e,n,t){"use strict";function r(){let e="Unknown",n="Unknown";const t=document.createElement("canvas");if(t){const r=t.getContext("webgl")||t.getContext("experimental-webgl");if(r){const t=r.getExtension("WEBGL_debug_renderer_info");t&&(e=r.getParameter(t.UNMASKED_VENDOR_WEBGL),n=r.getParameter(t.UNMASKED_RENDERER_WEBGL))}}return{vendor:e,renderer:n,platform:navigator.platform,userAgent:navigator.userAgent}}t.r(n),t.d(n,"webGLSystemInfo",(function(){return r}))},"I/Z9":function(e,n,t){"use strict";t.r(n),t.d(n,"createCanvas",(function(){return a})),t.d(n,"checkCanvasForAlpha",(function(){return l})),t.d(n,"trimTransparentEdges",(function(){return i})),t.d(n,"canvasToBlob",(function(){return s})),t.d(n,"renderBlobToCanvas",(function(){return d})),t.d(n,"setFullCanvasToTransparent",(function(){return c}));var r=t("vOKO");const o=t("UFvF");function a(e){const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const t=n.getContext("2d");return t&&t.drawImage(e,0,0),n}function l(e,n,t){const r=e.getImageData(0,0,n,t).data;for(let e=3,n=r.length;e<n;e+=4)if(0===r[e])return!0;return!1}function i(e){const n=e.width,t=e.height;let r=n,o=t,a=0,l=0;const i=e.getContext("2d");if(i){const s=i.getImageData(0,0,n,t);let d;for(let e=0;e<t;e++)for(let t=0;t<n;t++)d=4*(e*n+t),s.data[d+3]>0&&(t<r?r=t:t>a&&(a=t),e<o?o=e:e>l&&(l=e));const c=a-r+1,u=l-o+1,f=i.getImageData(r,o,c,u);e.width=c,e.height=u,i.putImageData(f,0,0)}return e}function s(e,n){const t=o.defer();return e.toBlob?e.toBlob(e=>{t.resolve(e)},n):t.resolve(e.msToBlob()),t.promise}function d(e){const n=URL.createObjectURL(e);return Object(r.load)(n).then(a)}function c(e,n,t){const r=o.defer(),a=new Image;return a.onload=()=>{const n=e.getContext("2d");if(!n)return void r.resolve();n.drawImage(a,0,0);const o=e.width,l=e.height,i=n.getImageData(0,0,o,l),d=255*t.red,c=255*t.green,u=255*t.blue,f=0===d?0:d-1,g=0===c?0:c-1,p=0===u?0:u-1;let b;for(let e=0;e<l;e++)for(let n=0;n<o;n++)b=4*(e*o+n),i.data[b+0]>=f&&i.data[b+0]<=d+1&&i.data[b+1]>=g&&i.data[b+1]<=c+1&&i.data[b+2]>=p&&i.data[b+2]<=u+1&&255===i.data[b+3]&&(i.data[b+0]=0,i.data[b+1]=0,i.data[b+2]=0,i.data[b+3]=0);n.putImageData(i,0,0),s(e).then(e=>r.resolve(e))},a.src=n,r.promise}},Mbmg:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return i}));var r=t("xeH2"),o=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const l=t("3xm6");class i{static pendingSavePageUnloadPrompt(){return i.xhrRequestsToAbortOnUnload.forEach(e=>{e&&e.abort()}),l.translate("dialogs.savePageUnloadPrompt")}static pageUnloadBlockingBegin(){window.addEventListener("beforeunload",i.pendingSavePageUnloadPrompt)}static pageUnloadBlockingEnd(){window.removeEventListener("beforeunload",i.pendingSavePageUnloadPrompt)}static registerJqxhr(e,n,t){i.xhrRequestsToAbortOnUnload.push(n)}static unregisterJqxhr(e,n,t){const r=i.xhrRequestsToAbortOnUnload.indexOf(n);i.xhrRequestsToAbortOnUnload.splice(r,1)}static beginTrackingPendingXhrRequests(){i.isTrackingXHRs||(i.isTrackingXHRs=!0,o()(document).on("ajaxSend",i.registerJqxhr),o()(document).on("ajaxComplete",i.unregisterJqxhr))}static endTrackingPendingXhrRequests(){i.isTrackingXHRs=!1,o()(document).off("ajaxSend",i.registerJqxhr),o()(document).off("ajaxComplete",i.unregisterJqxhr),i.xhrRequestsToAbortOnUnload=[]}}a(i,"xhrRequestsToAbortOnUnload",[]),a(i,"isTrackingXHRs",!1)},PsNr:function(e,n,t){var r,o;r=[t("xeH2"),t("YLtl"),t("UFvF"),t("eZ+Q")],void 0===(o=function(e,n,t,r){var o={cleanUpFiles:function(e){e=e.map((function(e){return e.source=r.getServiceSource(e),e}));for(var n=["original","preview","thumbnail","small"],t=0;t<e.length;t++)for(var o=e[t],a=0;a<n.length;a++){var l=n[a];o[l]&&!o[l].link&&delete o[l]}return e}};return o}.apply(n,r))||(e.exports=o)},"TY/+":function(e,n,t){"use strict";t.r(n);var r=t("MGCh"),o=t.n(r);n.default=async function(e){let{featureEnabled:n,featureFlag:r,parent:a,watermarkEnabled:l}=e;const i=o.a.channel("poster-feature-loader");try{return new((n(r)?await Promise.resolve().then(t.t.bind(null,"OI2j",7)):await t.e(59).then(t.t.bind(null,"kg3s",7))).default)({parent:a,watermarkEnabled:l})}catch(e){i.error("Failed to load poster module! ".concat(e.message,", ").concat(e))}}},UNP3:function(e,n,t){"use strict";t.r(n),t.d(n,"reportNounProjectIds",(function(){return s}));var r=t("ApVh"),o=t.n(r),a=t("WpJZ"),l=t("MGCh");const i=t.n(l).a.channel("noun-project-reporter");function s(e,n,t){const r=Object(a.getUnreportedNounProjectIds)(e);if(!r.length)return Promise.resolve();const l="https://".concat(n.dooplo,"/api/v1/report/usage?api_key=MarvelCP1");return o.a.getAccessToken().then(o=>{const s={method:"POST",headers:{Authorization:"Bearer ".concat(o),"X-Api-Key":n.key,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({ids:r})};return fetch(l,s).then(n=>{if(n.status>=400){const e=new Error("reportNounProjectIds returned an HTTP error");i.error("Requested ".concat(l,". Got back ").concat(n.statusText),e)}else Object(a.setNounProjectIdsReported)(r,e),t()}).catch(e=>{i.error("error reporting Noun Project icon Ids","Requested ".concat(l,". Got back ").concat(e))})})}},Wxmc:function(e,n,t){var r,o;r=[t("3xm6"),t("UzQk"),t("Dvuo")],void 0===(o=function(e,n,t){var r={},o="px",a=0,l=300;return r.isValidParsedInput=function(e){var t="number"==typeof e?e:n.Host.locale.convertStringToNumber(e);if(isNaN(t))return NaN;var r=n.PageFacade.convertPixelsToUnitsString(t,a,l);return!!n.PageFacade.pageDimensionIsInRange(r,a,l)&&t},r.updateRangeAndUnits=function(e,n){o=t.getUnitsStringForFormat(e),a=e,l=n},r.validateAndReturnValueForInput=function(t){var i=r.isValidParsedInput(t);if(i||0===t.length)return 0===t.length&&(i=2560),{isValid:!0,errorMsg:"",value:i};if(isNaN(i))return{isValid:!1,errorMsg:e.translate("forms.custom-size.kInvalidInput"),value:t};{const r=n.PageFacade.getMinPageDimensionForUnits(a,l),i=n.PageFacade.getMaxPageDimensionForUnits(a,l),s=n.PageFacade.getNumDecimalPlacesForUnits(a),d=n.Host.locale.formatNumber(r,s),c=n.Host.locale.formatNumber(i,s);return{isValid:!1,errorMsg:e.translate("forms.custom-size.kInvalidSizeWithUnit",{minimum:d,maximum:c,units:o}),value:t}}},r.validateInputsAndCheckAspectRatio=function(t,o){var a=r.validateAndReturnValueForInput(t),l=r.validateAndReturnValueForInput(o),i="";return a.isValid&&l.isValid&&n.PageFacade.aspectRatioIsVeryTallOrWide({width:a.value,height:l.value})&&(i=e.translate("forms.custom-size.kAspectRatioTip")),{width:a,height:l,tip:i}},r}.apply(n,r))||(e.exports=o)},XR60:function(e,n,t){"use strict";t.r(n);var r=t("+Ltv"),o=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}let l={handleUndo(){},handleRedo(){},selectAll(){},deselectAll(){}};n.default=new class{constructor(){a(this,"methods",l),a(this,"handleKeyDown",e=>{if(o.a.disableCustomKeyboardShortcuts)return;const n=window.navigator.platform.includes("Mac"),t=e.ctrlKey,r=n&&e.metaKey;if(!t&&!r)return;let a=!1;const l=e.target.matches("input, textarea"),i=e.shiftKey,s=String(e.key).toUpperCase(),{deselectAll:d,selectAll:c,handleRedo:u,handleUndo:f}=this.methods;switch(s){case"A":l||(i?d():c(),a=!0);break;case"S":a=!0;break;case"Z":l||(i?u():f(),a=!0);break;case"Y":l||(u(),a=!0)}a&&e.preventDefault()})}startListening(e){this.stopListening(),this.methods=e,document.addEventListener("keydown",this.handleKeyDown)}stopListening(){this.methods=l,document.removeEventListener("keydown",this.handleKeyDown)}}},Yzgm:function(e,n,t){var r,o;r=[t("YLtl"),t("UFvF"),t("hcqx"),t("7mGH"),t("4pbt"),t("1geK"),t("MGCh"),t("bBG2")],void 0===(o=function(e,n,t,r,o,a,l,i){const s=l.channel("theo-publish-impl"),d=i.default,c=a.default;return new function(){this.community=window.marvel.settings.theoc,this.communityCategory="theos",this.previewPath="preview.jpg",this.doPublish=function(e,t,r){return n(o.getDownloadImageBlobPromise(e,"image/jpeg")).then(e=>"function"==typeof e.arrayBuffer?e.arrayBuffer():new n.Promise((n,t)=>{const r=new FileReader;r.addEventListener("load",()=>{n(r.result)}),r.addEventListener("error",()=>{t(r.error)}),r.readAsArrayBuffer(e)})).then(n=>{const t={};t["preview.jpg"]={content:new Uint8Array(n),contentType:"image/jpeg"};const r=e.getDCXComposite(),o={"manifest-format-version":6,name:r.name,type:r.type,state:"unmodified",id:r.id,components:[{id:"preview",type:"image/jpeg",rel:"rendition",name:"preview.jpg",path:"preview.jpg",state:"unmodified",length:n.length}]};return t.manifest={raw:o,content:JSON.stringify(o),contentType:"application/vnd.adobe.dcx-manifest+json"},t})},this.resourceUploadReport=function(e,n,t){if(s.info("uploaded ".concat(n," version ").concat(t.version)),"preview.jpg"===n){const n=e.manifest.raw;n.components[0].etag=t.etag,n.components[0].version=t.version,e.manifest.content=JSON.stringify(n)}else"manifest"===n||s.error("got unexpected upload report for ".concat(n))},this.reviseDoPublishAfterFilesUpdate=function(t,r){const a=t.manifest.raw,l={};return e.each(r,(function(e){e.track_version&&""!==e.version&&(l[e.destination]=e.version)})),e.each(a.components,(function(n){e.isUndefined(l[n.path])||(n.version=l[n.path])})),o.hasAnimationStyle()&&this.videoPubInfo&&a.components.push({id:"videoRendition",type:"video/mp4",rel:"rendition",name:"videoRendition",path:"videoRendition.mp4",state:"unmodified",length:this.videoPubInfo.videoLength,etag:this.videoPubInfo.video_resource_data.etag,version:this.videoPubInfo.video_resource_data.version}),t.manifest.content=JSON.stringify(a),n.resolve(t)},this.getUseProgressEvents=function(){return o.hasAnimationStyle()},this.trigger=function(e,n){"progress"===e&&this.videoProgress?(this.videoProgress.copyPct=n,this.sendVideoAndCopyProgress(this.videoProgress)):t.Model.prototype.trigger.apply(this,arguments)},this.updateSnapiProgress=function(e,n,t){"progress"===e&&this.videoProgress&&t===this.videoProgress.progressId&&(this.videoProgress.videoPct=n,this.sendVideoAndCopyProgress(this.videoProgress))},this.sendVideoAndCopyProgress=function(e){var n=Math.ceil((e.videoPct+e.copyPct)/2);t.Model.prototype.trigger.apply(this,["progress",n])},this.getFilesDataToCopyFromServerData=function(e,t,r){const a=t.getDCXComposite().current,l=[],i=e.id;if(this.videoProgress=null,r.showAvatar&&""!==r.authorAvatarUrl){const e=a.getComponentWithAbsolutePath(t.getMyApp().getStorageImpl().avatarComponentPath);e&&l.push({source:i+"/"+e.id,content_type:e.type,destination:e.path})}if(o.webAnimationEnabled()&&o.hasAnimationStyle()){const e=t.getMyApp().getStorageImpl().currentDoc.id,a=t.getMyApp().getCPProjectId(t),i=o.getPgmGraphForPublish();if(null==i)return s.error("PGM graph is null"),n.resolve(l);var u=c.getPublishRequestBody(r);u.pgmGraph=i.encode();var f=i.bounds.aspectRatio,g=f<1?1280:Math.round(1280/f),p=f<1?Math.round(1280*f):1280;u.renderOptions={videoHeight:g,videoWidth:p,scaleType:0};var b={},m={files:l,additionalCopyDefer:n.defer()};this.videoProgress={videoPct:0,copyPct:0,progressId:e};var h=new Date;return d.publish("publish:mp4:started",{projectId:e}),c.sendPgmPublishRequestForUpload(e,a,u,b,this.updateSnapiProgress.bind(this)).then(function(n){d.publish("publish:mp4:succeeded",{projectId:e,requestId:b.value,timeSpent:"".concat(new Date-h,"ms")}),this.videoPubInfo=n,this.updateSnapiProgress("progress",100,e),m.additionalCopyDefer.resolve(n)}.bind(this)).catch((function(n){d.publish("publish:mp4:failed",{projectId:e,requestId:b.value,timeSpent:"".concat(new Date-h,"ms"),error:JSON.stringify(n,null,2)}),m.additionalCopyDefer.reject(n)})),n.resolve(m)}return this.videoPubInfo=null,n.resolve(l)},this.getData=function(e,n){if(!n)return void console.error("no doc for getData");let t=n.getMyApp().getStorageImpl().getData(e,n,"shareData");return void 0===t&&("publishTitle"===e?t=o.getCurrentDocumentSynthesizedName():"description"===e&&(t=o.getCurrentDocumentDescription())),t},this.setData=function(e,n,t){if(!t)return void console.error("no doc for setData");return t.getMyApp().getStorageImpl().setData(e,n,t,"shareData")},this.getDocumentCredits=function(e){return""},this.getDocumentDefaultCredits=function(e){return""},this.getDownloadUrl=function(e){const t=n.defer(),a=r.hasFeature("post-download-zip-of-pngs")?"application/zip":"image/jpeg",l=this.getDownloadFileName(e);return o.getDownloadImageBlobPromise(e,a).then((function(e){t.resolve((function(){if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(e,l);else{const n=window.URL.createObjectURL(e),t=document.createElement("a");document.body.appendChild(t),t.setAttribute("href",n),t.setAttribute("download",l),t.click(),window.URL.revokeObjectURL(n),document.body.removeChild(t)}}))})),t.promise},this.getDownloadFileName=function(e){return e.getProjectName()+(r.hasFeature("post-download-zip-of-pngs")?".zip":".jpg")},this.augmentMetaData=function(n){n.custom=e.merge(n.custom||{},o.getDocumentSize()),e.assign(n,{description:o.getCurrentDocumentDescription()}),e.assign(n,{machine_tags:o.getRemixAncestorsIntoMachineTags(n.machine_tags)})},this.getPublishingSetup=function(){return{supportsDownload:!1,publishingSavesData:!1,assetType:"application/vnd.adobe.theo.document+dcx",supportedFields:["publishTitle","authorFull","showAuthor","authorAvatarUrl","isPublic","category"]}}}}.apply(n,r))||(e.exports=o)},a7tb:function(e,n,t){var r;void 0===(r=function(){return[{blue:255,green:255,red:255,roles:null,id:null},{blue:191,green:191,red:191,roles:null,id:null},{blue:128,green:128,red:128,roles:null,id:null},{blue:64,green:64,red:64,roles:null,id:null},{blue:0,green:0,red:0,roles:null,id:null},{blue:255,green:235,red:133,roles:null,id:null},{blue:255,green:221,red:51,roles:null,id:null},{blue:209,green:175,red:0,roles:null,id:null},{blue:162,green:135,red:0,roles:null,id:null},{blue:103,green:87,red:7,roles:null,id:null},{blue:255,green:216,red:153,roles:null,id:null},{blue:255,green:169,red:31,roles:null,id:null},{blue:198,green:121,red:0,roles:null,id:null},{blue:163,green:101,red:0,roles:null,id:null},{blue:108,green:68,red:6,roles:null,id:null},{blue:245,green:194,red:182,roles:null,id:null},{blue:224,green:124,red:102,roles:null,id:null},{blue:224,green:68,red:32,roles:null,id:null},{blue:163,green:47,red:21,roles:null,id:null},{blue:111,green:29,red:11,roles:null,id:null},{blue:237,green:150,red:211,roles:null,id:null},{blue:225,green:81,red:182,roles:null,id:null},{blue:186,green:32,red:140,roles:null,id:null},{blue:124,green:20,red:93,roles:null,id:null},{blue:87,green:15,red:65,roles:null,id:null},{blue:226,green:197,red:252,roles:null,id:null},{blue:188,green:119,red:249,roles:null,id:null},{blue:137,green:24,red:234,roles:null,id:null},{blue:87,green:7,red:156,roles:null,id:null},{blue:54,green:5,red:97,roles:null,id:null},{blue:194,green:202,red:255,roles:null,id:null},{blue:112,green:131,red:255,roles:null,id:null},{blue:12,green:43,red:242,roles:null,id:null},{blue:0,green:22,red:163,roles:null,id:null},{blue:0,green:11,red:82,roles:null,id:null},{blue:173,green:213,red:255,roles:null,id:null},{blue:92,green:171,red:255,roles:null,id:null},{blue:0,green:125,red:255,roles:null,id:null},{blue:0,green:85,red:175,roles:null,id:null},{blue:0,green:39,red:82,roles:null,id:null},{blue:173,green:226,red:255,roles:null,id:null},{blue:92,green:198,red:255,roles:null,id:null},{blue:0,green:165,red:255,roles:null,id:null},{blue:6,green:110,red:165,roles:null,id:null},{blue:0,green:63,red:97,roles:null,id:null},{blue:173,green:240,red:255,roles:null,id:null},{blue:112,green:229,red:255,roles:null,id:null},{blue:0,green:207,red:255,roles:null,id:null},{blue:0,green:150,red:184,roles:null,id:null},{blue:0,green:83,red:102,roles:null,id:null},{blue:173,green:254,red:255,roles:null,id:null},{blue:112,green:253,red:255,roles:null,id:null},{blue:33,green:239,red:244,roles:null,id:null},{blue:0,green:181,red:184,roles:null,id:null},{blue:0,green:120,red:122,roles:null,id:null},{blue:161,green:247,red:215,roles:null,id:null},{blue:38,green:255,red:175,roles:null,id:null},{blue:36,green:237,red:136,roles:null,id:null},{blue:27,green:179,red:103,roles:null,id:null},{blue:20,green:111,red:65,roles:null,id:null},{blue:189,green:242,red:162,roles:null,id:null},{blue:168,green:245,red:130,roles:null,id:null},{blue:95,green:213,red:37,roles:null,id:null},{blue:66,green:153,red:23,roles:null,id:null},{blue:41,green:97,red:13,roles:null,id:null},{blue:242,green:242,red:242,roles:null,id:null},{blue:217,green:217,red:217,roles:null,id:null},{blue:153,green:153,red:153,roles:null,id:null},{blue:89,green:89,red:89,roles:null,id:null},{blue:38,green:38,red:38,roles:null,id:null}]}.apply(n,[]))||(e.exports=r)},dcsN:function(e,n,t){"use strict";t.r(n);var r=t("Na8G"),o=t.n(r);n.default=class{constructor(e){this.postFeatureController=e}isEntitledToFeature(e){return this.postFeatureController.featureEnabled("entitle-brand-kit")}tryPremiumFeature(e){return!!this.isEntitledToFeature(String(e.touchpointName))||(o.a.showMerchPopover(e),!1)}}},iFio:function(e,n,t){var r;void 0===(r=function(){return[{name:"i18n.colors.kDecorative",palettes:[{id:"1673829",name:"P.S.",colors:["e89a00","e0c045","e8df7a","788c63","36473d"]},{id:"2203685",name:"Guardian",colors:["ef9d54","e86946","5a9a70","87a644","f0c15d"]},{id:"1731567",name:"Hovannes Shiraz",colors:["f23c3c","f0dfd0","c7c5a7","8ba88f","229396"]},{id:"1893950",name:"Gold Honey",colors:["260a07","591902","d9631e","f2a341","f2ca52"]},{id:"1959653",name:"Difference Cloud",colors:["f2d8c2","05a6a6","037f8c","263f73","3c1d40"]},{id:"24198",name:"Firenze",colors:["8e2800","b64926","ffb03b","fff0a5","468966"]},{id:"1504814",name:"Furious",colors:["9e2b20","f7edb7","272f30","e6b051","e0401c"]},{id:"2000600",name:"beach glass",colors:["499e8d","85cc9f","a4deab","c8e8c7","fff6c9"]},{id:"1697105",name:"Floridian Chill",colors:["ebfaff","8ba8ad","7c8a4c","737000","c28923"]},{id:"1632904",name:"Wheels of Fire",colors:["f5c66b","7f8d53","dd5350","d88147","41382e"]},{id:"1806285",name:"Retro",colors:["453824","ff5646","9bc492","e4c94e","ffe296"]},{id:"1745057",name:"Khor Virap",colors:["423134","7a3d4c","d17052","ccc6b0","2a768c"]},{id:"2099424",name:"Autumn Blues",colors:["6d8c7a","d6a95a","b36133","3a4c5c","9c9056"]},{id:"1738464",name:"Khachatur Abovyan",colors:["1dada6","eef2e6","dbb95b","9c7860","39403e"]},{id:"1907434",name:"vintage american",colors:["0092b3","94c4f4","ffca3d","ffffff","b70000"]},{id:"2070828",name:"possible web1",colors:["4d8c99","544c4a","ece5c7","f9f6e1","bd2f50"]},{id:"97708",name:"urban legend",colors:["807874","ff6d3d","e0ddad","a3bd9b","4f3e2d"]},{id:"1662375",name:"Kitchen remake",colors:["1b2729","4d5746","7a995c","decb55","f7f7f7"]},{id:"482342",name:"Urban Funk",colors:["60a8b2","211d1c","854040","f0cb46","edddbd"]},{id:"69127",name:"Veerle eden",colors:["d4335e","6c234d","efc144","e7fff7","93ccc5"]},{id:"2084980",name:"Peacocks and Pumpkins",colors:["d68033","ffeea0","50a385","334d7a","f2c65f"]},{id:"782532",name:"Road Show",colors:["7d4453","d96d55","f2fcf2","2a1828","81858c"]},{id:"2390374",name:"Blueberry Pink Blossoms",colors:["81aeba","ffe8b7","dcde79","303c5c","db6974"]},{id:"183595",name:"Magic Potion",colors:["4a7482","543030","e15c3a","fbe6b8","dfd24a"]},{id:"1027126",name:"Falling into Autumn",colors:["393240","803a28","cc731d","e69f00","bfbe81"]},{id:"2202003",name:"lake view2",colors:["c70151","ff7c5d","ffea95","41ccb4","7d9994"]},{id:"181391",name:"Tiptoe",colors:["16313c","ead663","d77723","1c495c","5b9678"]},{id:"1785594",name:"April in arcakh",colors:["ffffff","e8dd90","7cc295","39595c","29232b"]},{id:"2110774",name:"Over The Hill",colors:["00928c","89e0ad","f8e9a8","e7635e","452743"]},{id:"2252364",name:"prayers r powerful",colors:["92deb4","ffffc7","e5c893","f0840c","e82c0c"]},{id:"32839",name:"Veerle  viva",colors:["a9eefd","0f6b7e","ffffe4","e2d7b9","e52131"]},{id:"1490158",name:"Honey Pot",colors:["bd4932","db9e36","ffd34e","fffad5","105b63"]},{id:"158773",name:"Veerle aqualumino",colors:["007c87","f3ecdc","900b5d","db3e68","b1f2ee"]},{id:"191168",name:"Peach Cream",colors:["b3ffcc","ffffff","ffe699","ffb380","ff994d"]},{id:"399668",name:"Creep show",colors:["d98841","f2cb07","f2f0ce","b4cbd9","f26680"]}]},{name:"i18n.colors.kModern",palettes:[{id:"1579033",name:"hope springs eternal",colors:["b6b835","f4e3c1","d2c9b0","969481","4b5657"]},{id:"3470637",name:"Phrendly Social",colors:["051a37","779324","9dc02e","f2f2f2","37465d"]},{id:"2309110",name:"My Portfolio",colors:["1c344d","287d7d","91c46c","c6e070","f2f2f2"]},{id:"2204308",name:"Consumers versus Marketers",colors:["e96151","ecece7","366774","174c5b","0f3d48"]},{id:"2411959",name:"EtroWallpaper6",colors:["f2e9d8","d9d1ba","8094a6","4c6173","1c2f40"]},{id:"2044087",name:"Midori and Madoka",colors:["d8f2f0","3e8c84","296b73","194759","0f2d40"]},{id:"1839482",name:"antigravity",colors:["e2e1e9","ccc9d1","a4abbf","5f6273","f00807"]},{id:"1557144",name:"clair de lune",colors:["10101c","2f3742","505254","a3a177","fcf160"]},{id:"1538583",name:"clear",colors:["682321","fffff0","799aa5","2b4e69","152737"]},{id:"1575906",name:"Cold Spell",colors:["343d40","e8c853","fff56d","ebfff8","acc0bf"]},{id:"2427974",name:"La Ballena & Yo",colors:["8fced6","6badc9","2d5f73","f25260","c3ae8d"]},{id:"1477289",name:"Camping cyclist",colors:["404333","f7f7f7","fba922","dd5f18","2d3032"]},{id:"1457608",name:"cool simple",colors:["ffffff","dae1f0","c0c0cc","0d4e85","001c3a"]},{id:"1191206",name:"Skimpy",colors:["f5b715","86929c","e4edea","263248","6b2d29"]},{id:"409404",name:"Save the Polar Bear",colors:["498ba6","f0f3f8","cbccc7","1a4173","5a86bf"]},{id:"1694029",name:"Sonic Threshold",colors:["e84167","542733","30282a","55665e","c4d4cb"]},{id:"1892986",name:"Feeling Etsy",colors:["ad9a27","304345","789aa1","a0d5d6","dcebdd"]},{id:"1163392",name:"lively",colors:["7c7175","fdf4e5","c2d4d4","568c8c","3c3f48"]},{id:"1536609",name:"Gautier",colors:["918366","3c4f5e","869aa5","e5f5f2","959891"]},{id:"1651534",name:"winter theme",colors:["402d1c","8a6f56","d6d6d6","3b7987","1c3940"]},{id:"115138",name:"old man winter | ver 04",colors:["989da4","2a4353","135487","5ca2be","d5d8dd"]},{id:"478658",name:"Tundra Fox",colors:["36332f","f6feff","ebead3","9ea38b","5c5249"]},{id:"28644",name:"Architect",colors:["afc5ad","46594d","ffc500","74a3a6","c3e2ff"]},{id:"411624",name:"Thought dreams",colors:["e7f2d7","fcffeb","bde8e7","8fbfbb","787766"]},{id:"349408",name:"Mobile v4",colors:["f2f1cc","1ed6fc","17a2e0","063c70","55c93e"]},{id:"2362650",name:"Marys gone",colors:["404040","d9d9d9","f2e85c","04bf9d","009f98"]},{id:"610360",name:"flip the trend",colors:["ffce26","ffd74f","ffe07b","ffffff","212426"]},{id:"1859505",name:"Dribble",colors:["ffffff","e7e1d4","f1433f","70b7ba","3d4c53"]},{id:"1696774",name:"Prototype",colors:["f2f2f2","260101","590202","222326","565659"]},{id:"523972",name:"Copy of Grass to Sky",colors:["84c5c6","46b4c1","ffffff","c0e659","98c908"]},{id:"950974",name:"At The Airport",colors:["f27405","f28705","b8bfb0","868c81","232226"]},{id:"1252096",name:"destiny choice 5",colors:["e5dcc8","375869","262928","54514b","de8b3a"]},{id:"1958479",name:"Business professional",colors:["f95900","ffffff","c5e2ed","7f9db0","00132b"]},{id:"313463",name:"Bon Gout",colors:["222222","0d0d0d","f3f3f1","aaca5d","1b1b19"]},{id:"1641683",name:"Saffron umbrella",colors:["feb41c","5e7c88","4b5f6d","363f45","24221f"]}]},{name:"i18n.colors.kBold",palettes:[{id:"1273498",name:"Friends and foes",colors:["ffffa6","bdf271","29d9c2","01a2a6","2f2933"]},{id:"2009733",name:"Ladybug",colors:["db3f02","f27405","fff829","a2d939","2c3432"]},{id:"2095845",name:"Yarn Colours",colors:["f2e0bd","d92b4b","020e1d","06192d","eade9d"]},{id:"1982142",name:"Chemistry Poster Series",colors:["f4651c","fee406","fdf6dd","a3d0c1","0c2550"]},{id:"2376146",name:"pure and fresh",colors:["f2e205","fffffd","91d9d9","4ea6a6","347373"]},{id:"1486335",name:"identification",colors:["d0e64b","9ac836","33a6b2","196674","0a3a4a"]},{id:"1553536",name:"Celestial",colors:["171a26","32254a","2a6f75","78d492","fff79a"]},{id:"1879313",name:"Clownfish Anemone",colors:["e5effa","f25c05","f28705","93a605","3e5916"]},{id:"1966966",name:"Doubled up",colors:["ffa100","a4ad23","418261","3b4a59","242029"]},{id:"1207503",name:"Rio Summer 11",colors:["16574d","00ad68","abe67b","fff57e","ff8049"]},{id:"352399",name:"Sunset from the island",colors:["ffed00","ff9b0d","ff4831","ff3f57","935ca3"]},{id:"1863403",name:"euro",colors:["dcd0bd","372c26","f2561d","f2c84b","7ed9c8"]},{id:"2206915",name:"New Year Greetings to all...",colors:["c70151","ff7c5d","ffea95","41ccb4","004b67"]},{id:"1452956",name:"70 degree windchill",colors:["2b064e","453f8f","6578c4","83aedb","aadef3"]},{id:"2298596",name:"RankIt",colors:["ff7500","fffdeb","d4d6d4","0c6ba1","00182e"]},{id:"877023",name:"kulerist in action!",colors:["99005e","ff4a35","e8a30b","c3e91d","00b183"]},{id:"1820994",name:"Pretty",colors:["dedede","33c7b8","615a55","ea2c46","d6cccb"]},{id:"1889089",name:"Corona Music",colors:["f2f2f2","f2a516","f2c12e","194973","263973"]},{id:"937475",name:"Taste The Rainbow!",colors:["0084b0","5be300","ffd900","ff7d00","ff0012"]},{id:"511309",name:"Ignoring The Voices",colors:["4a235c","961454","e0294e","e0921a","d1cf3c"]},{id:"1209094",name:"mijn nieuwe klant",colors:["dbd4b7","680db0","ffffff","00005a","b4c400"]},{id:"41400",name:"Hotties",colors:["eacfb8","630034","e82759","ff931c","fffcfa"]},{id:"195623",name:"Lemon Counterespionage",colors:["0d0d0d","a62626","d92b2b","d9caad","f2f2f2"]},{id:"501718",name:"Mad scientist",colors:["ff0573","333236","b7ff00","8fffb6","d0d1d1"]},{id:"12776",name:"purple jello",colors:["ffe5b5","ffdc74","ffb900","372748","1b0e33"]},{id:"1636130",name:"Spontaneity",colors:["3b0063","00afb3","bbdbc4","ffe9c2","ff8727"]},{id:"183491",name:"Moxie",colors:["95bbc1","4f382c","fb4070","e6d183","ededed"]},{id:"374408",name:"Tweet",colors:["ffffff","f5eee0","d9305d","e09f27","382430"]},{id:"1673936",name:"5color",colors:["febe00","30c1e3","b2d511","f23890","a0a9b0"]},{id:"557381",name:"Hex",colors:["ff0787","8a4877","4e3959","343257","12172e"]},{id:"223062",name:"Smeared ink",colors:["ffc631","ffedf1","ff105f","850046","1e2945"]},{id:"1833048",name:"Pinup",colors:["ff5870","51e8db","ffeb75","ff86a4","7b5a9f"]},{id:"547050",name:"Summer",colors:["001f25","03a6a6","c2e5f2","fffff2","b6ff64"]},{id:"1257834",name:"Sudden idea",colors:["211d26","3b4373","2375bf","00d4e6","fffb61"]},{id:"1628838",name:"Tokidoki",colors:["ffffff","f3b311","77dcf2","c92368","a0d54f"]}]},{name:"i18n.colors.kElegant",palettes:[{id:"2318770",name:"Winner Winner Chicken Dinner",colors:["c74223","5e7d4d","e0d1a3","7d603e","232621"]},{id:"2089810",name:"beige wine",colors:["94667a","78485d","fffacc","b4b3ac","b1dae2"]},{id:"734943",name:"Aya",colors:["f2f2f2","bf5841","94b586","a69a60","252026"]},{id:"1898368",name:"If Only..........",colors:["d4a960","ab6937","8c3b3b","403d3a","637d74"]},{id:"1641554",name:"Sampan coastline",colors:["21231d","7a3014","6c7778","9ea39d","d4c4ad"]},{id:"1696599",name:"Wait for Me",colors:["3b2738","8c4a45","b09059","c4be8b","474d3d"]},{id:"2005683",name:"Raspberry Mint",colors:["fafaf5","c1d9c2","96c0a5","73404e","2b151c"]},{id:"2372694",name:"britannic",colors:["9e373e","f2d9a0","b1b88c","54877e","2b2e36"]},{id:"1629416",name:"aubergine",colors:["edebd1","bfad50","5e363f","33061a","26000f"]},{id:"1923969",name:"Tiger attack",colors:["a63838","8c3232","3d3e3b","5b5343","c1ad87"]},{id:"2238544",name:"Well dressed",colors:["b3cca2","f2dba5","ccc394","808c5f","2f3838"]},{id:"2457722",name:"Status Serigraph",colors:["593a2f","a68c6d","d9c39a","f2ead0","8fbabf"]},{id:"2486521",name:"Crouching Bunny Hidden Cupcakes",colors:["a53b3a","bb4336","c07042","bf9a6b","607258"]},{id:"1672871",name:"The Pursuit Of Beauty",colors:["451f38","b35c5a","d9ae91","2b423a","102629"]},{id:"1689814",name:"Kuler Miracle",colors:["913533","ba502f","c96d37","a88942","3a4647"]},{id:"1729700",name:"Movement",colors:["232f38","496158","939c80","d9c8a2","eb6c2d"]},{id:"2189585",name:"The Service Manual",colors:["011c26","c0b18f","d9cead","a6242f","bf2633"]},{id:"1745510",name:"Apricot",colors:["3f3042","8f3f49","d66c40","ccc3ad","537a51"]},{id:"2070999",name:"Skippy new 50s clothes",colors:["a66874","f2bba7","f2d4c2","bfaf8f","6a7366"]},{id:"2301655",name:"Princess Pearl",colors:["e89288","fce4b6","d4cfb1","acb8a1","89a190"]},{id:"2328218",name:"Jars of Clay",colors:["736766","a69580","d9d7c5","f2f2e9","734854"]},{id:"1625460",name:"indian night",colors:["b0aca4","87746c","634444","402530","2b1528"]},{id:"1691859",name:"Haykakan tuf",colors:["523a39","755645","96774f","a8a095","5f6360"]},{id:"1693090",name:"Fresh Pot",colors:["57432a","2b1b0d","913c11","bfaf7f","e6e0b7"]},{id:"2014089",name:"their large helmets covered the sun",colors:["b8a15c","d4dbcf","aebeaf","8a9c97","6a7774"]},{id:"2013479",name:"unconscious beauty",colors:["9a5354","d96a6a","e88f86","fae3d1","e0c89b"]},{id:"2243171",name:"2 soon 2 young 2 @ 29",colors:["f7ecc9","e6d9b8","c7c6ae","899691","6c7a7a"]},{id:"2004002",name:"Tubing in Delaware River",colors:["ebcc85","fefffb","5a808c","7caba9","c6cfa3"]},{id:"201348",name:"Veerle stone caseli",colors:["8a2a37","f4f9eb","cad3a1","3f4343","bad0c4"]},{id:"1855040",name:"Olde Sea Cottage",colors:["d6a774","577570","d97b64","cfbf9b","dea157"]},{id:"489955",name:"familiar feeling",colors:["dfcfbe","bbb59f","6a6a6a","67393f","32353d"]},{id:"596589",name:"high tech poppy",colors:["e6a000","fff5c1","d7c8ac","505a61","282d32"]},{id:"125569",name:"Faded Miami",colors:["ffb09c","cfe0e8","fff6e7","bed7c9","e8a74d"]},{id:"2101704",name:"Photo Manipulation 4",colors:["59473c","8c7968","a6a194","d9d5c5","262626"]},{id:"1219516",name:"Denominator",colors:["131d26","475b61","99a9b0","a05e2e","142b3b"]}]}]}.apply(n,[]))||(e.exports=r)},ibPQ:function(e,n,t){"use strict";t.r(n),t.d(n,"KeyboardShortcuts",(function(){return s}));var r=t("MGCh"),o=t.n(r),a=t("3xm6"),l=t.n(a),i=o.a.channel("keyboard-shorcuts");class s{static get callbackKeys(){return{ENTER:"ENTER",SHIFT_ENTER:"SHIFT_ENTER",ESCAPE:"ESCAPE"}}constructor(){this.callCallbacksForKey=this.callCallbacksForKey.bind(this),this.addCallback=this.addCallback.bind(this),this.handleKeyEvent=this.handleKeyEvent.bind(this),this.getShortcutDescription=this.getShortcutDescription.bind(this),this.callbacks={}}callCallbacksForKey(e,n){s.callbackKeys[e]?this.callbacks[e]&&this.callbacks[e].forEach((function(e){e(n)})):i.error("can not call callback for unsupported key with value: "+e)}addCallback(e,n){s.callbackKeys[e]&&(this.callbacks[e]?this.callbacks[e].push(n):this.callbacks[e]=[n])}bindListeners(e,n,t){e.addEventListener(n,this.handleKeyEvent),t.forEach(e=>{this.addCallback(e.key,e.method)})}unbindListeners(e,n){e.removeEventListener(n,this.handleKeyEvent),this.callbacks={}}handleKeyEvent(e){if(0===e.type.indexOf("key")){var n=e.shiftKey;switch(e.which){case 13:if(n){this.callCallbacksForKey(s.callbackKeys.SHIFT_ENTER,e);break}this.callCallbacksForKey(s.callbackKeys.ENTER,e);break;case 27:this.callCallbacksForKey(s.callbackKeys.ESCAPE,e)}}else i.error("tried to process event of type : "+e.type+". should not try to process non-key events")}getShortcutDescription(e,n){var t="",r=navigator.appVersion.indexOf("Mac");return e.command&&(t+=r?l.a.translate("keyboard.kMacCommandKey"):l.a.translate("keyboard.kWinCtrlKey")),e.control&&r&&(t+=t.length>0?"+":"",t+=l.a.translate("keyboard.kMacControlKey")),e.option&&(t+=t.length>0?"+":"",t+=r?l.a.translate("keyboard.kMacOptionKey"):l.a.translate("keyboard.kWinAltKey")),e.shift&&(t+=t.length>0?"+":"",t+=l.a.translate("keyboard.kShiftKey")),t+=t.length<=1?n:"+"+n}}},q6ln:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return b}));var r=t("bBG2"),o=t("aOoP"),a=t("xX9p"),l=t("WPm+"),i=t("tpS0"),s=t.n(i),d=t("I/Z9"),c=t("MGCh"),u=t.n(c);function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const g=t("UFvF"),p=u.a.channel("export-controller");class b{static invite(e,n,t){window.marvel.events.trigger("spark-invite-collaborators-to-current-doc",{composite:e,source:n,page:t})}static uploadToFacebook(){window.marvel.events.trigger("upload-to-facebook-current-doc")}static uploadToTwitter(){window.marvel.events.trigger("upload-to-twitter-current-doc")}static downloadImageBlob(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];let n=arguments.length>2?arguments[2]:void 0;if(window.navigator.msSaveBlob)return void window.navigator.msSaveBlob(e,n);const t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)}static getExportData(e){const n=e.firstPage.getExportData(null,null).pixelDimensions;return{width:n.width,height:n.height,imageQuality:1}}static getRenditionParams(e,n){const t=b.getExportData(e);return{width:t.width,height:t.height,imageQuality:t.imageQuality,outputFormat:n||b.MIME_TYPES.jpg}}static handleExportImageBlob(e,n,t){r.default.publish("Sharing Action",{contextData:["projectId"],eventAction:"BeginDownload",slide:"publish"}),b.downloadImageBlob(e,n,t),r.default.publish("Sharing Action",{contextData:["projectId"],eventAction:"Download"})}constructor(e){let{doc:n,am:t,poster:r}=e;f(this,"document",void 0),f(this,"poster",void 0),f(this,"analyticsManager",void 0),this.document=n,this.poster=r,this.analyticsManager=t}generateImageBlob(e,n){return this.getDownloadImageBlobPromiseFromPoster(this.poster,e).then(e=>{const t=window.URL.createObjectURL(e);if(n){const e=document.createElement("canvas"),r=b.getExportData(this.document);return e.width=r.width,e.height=r.height,Object(d.setFullCanvasToTransparent)(e,t,n)}return g.resolve(e)})}downloadImg(e){let{coreWrapper:n,mediaType:t,isWatermarkEnabled:r,docName:o,MarvelSettings:a,requestSaveMethod:l}=e;return this.getSetTransparencySelection(t).then(e=>{if("boolean"==typeof e){const i=n.getFullCanvasColor(),s=!!i;let d;return!s&&e&&(d=n.setBackgroundTransparency(0),r&&this.poster.setWatermark(!1)),(d||g.resolve()).then(()=>new Promise(e=>setTimeout(()=>e(),0))).then(()=>{const n=!(e||t&&"jpg"!==t);return this.generateAndDownloadImage(n?"jpg":"png",s?i:null,o)}).then(()=>{e&&(n.setBackgroundTransparency(1).done(),this.poster.setWatermark(r)),this.analyticsManager.sendExportMetadataForDownload(this.document,a,l)})}})}downloadImgV2(e,n,t){return this.getSetTransparencySelection(t).then(r=>{"boolean"==typeof r&&Object(l.a)(e,n,t,r)})}downloadPDF(e,n,t){this.analyticsManager.sendExportMetadataForDownload(this.document,n,t),Object(o.a)(e,n)}downloadMP4(e,n,t,r,o){this.analyticsManager.sendExportMetadataForDownload(this.document,n,o),Object(a.a)(e,n,t,r)}publish(e,n){this.analyticsManager.sendExportMetadataForDownload(this.document,e,n),window.marvel.events.trigger("share-workflow-current-doc")}getDownloadImageBlobPromiseFromPoster(e,n){const t=b.getRenditionParams(this.document,n);return g(e.getRendition(t))}transparentBackgroundOptionsModal(e){const n=g.defer(),t=new s.a({headerText:"i18n.dialogs.transparentBackground.kHeaderText",contentText:"",dismissable:!1,buttons:[{class:"pill pill-primary-on-light",label:"i18n.dialogs.transparentBackground.kPNGButtonLabel",onClick:()=>{r.default.publish("transparentBackgroundButtonPressed"),t.hide(),n.resolve(!0)}},{class:"pill pill-primary-on-light",label:e?"i18n.dialogs.transparentBackground.kPNGSolidButtonLabel":"i18n.dialogs.transparentBackground.kJPEGButtonlabel",onClick:()=>{r.default.publish("solidBackgroundButtonPressed"),t.hide(),n.resolve(!1)}},{class:"pill pill-secondary-on-light",label:"i18n.common.kCancel",onClick:()=>{r.default.publish("backgroundCancelButtonPressed"),t.hide(),n.resolve(null)}}]});return n.promise}getSetTransparencySelection(e){let n;const t=this.document.firstPage.root.controller;if(t){const r=t.suggestTransparentBackground();n="png"===e&&r?this.transparentBackgroundOptionsModal("png"===e):n=g(!1)}else n=g(null),p.error("unable to getSetTransparencySelection: document has no root controller");return n}generateAndDownloadImage(e,n,t){return this.generateImageBlob("jpg"===e?b.MIME_TYPES.jpg:b.MIME_TYPES.png,n).then(n=>{const r="".concat(t,".").concat(e);b.handleExportImageBlob(n,e,r)}).catch(e=>{p.error("downloadImg error",e)}).done()}}f(b,"MIME_TYPES",{jpg:"image/jpeg",png:"image/png"})},wPbz:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return l}));var r=t("UzQk"),o=t("UFvF"),a=t.n(o);class l{constructor(e){var n,t,o;o=void 0,(t="document")in(n=this)?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,this.document=r.TheoDocument.createDefault()}documentId(){return this.document.uuid}open(){return a.a.resolve(this.document)}}},ytlH:function(e,n,t){var r,o;r=[t("xeH2"),t("UFvF"),t("Uwho"),t("lulf")],void 0===(o=function(e,n,t,r){var o={},a={default:["pixabay_249158","pixabay_1072755","pixabay_554886","pixabay_68946","pixabay_1139678","pixabay_1188347","pixabay_926728","pixabay_1317812","pixabay_593145","pixabay_692122","pixabay_593157","pixabay_691545","pixabay_690175","pixabay_569319","pixabay_691985","pixabay_480464","pixabay_1082318","pixabay_1149782","pixabay_1081934","pixabay_1209103","pixabay_692054"],thanksgiving:["pixabay_1738782","pixabay_1789664","pixabay_1719119","pixabay_1738782","pixabay_228474","pixabay_1729458","pixabay_2855","pixabay_1634816","pixabay_1679827","pixabay_1712841","pixabay_1789664"]};return o.getRandomImage=function(r){var o,l,i=n.defer(),s=r&&a.hasOwnProperty(r)?r:"default",d=a[s],c=d.length-1,u=d[(o=0,l=c,Math.floor(Math.random()*(l-o+1))+o)];return e.get("https://"+t.dooplo+"/api/v1/assets/"+u,{api_key:t.cpkey}).done((function(e){i.resolve(function(e){var n={source:"dooplo",mimeType:"image/jpeg"};return e._links.rendition.forEach((function(e){["original","preview","thumbnail"].indexOf(e.name)>-1&&(n[e.name]={link:e.href,height:e.height,width:e.width})})),{files:[n],info:e}}(e))})),i.promise},o}.apply(n,r))||(e.exports=o)},ywYV:function(e,n,t){var r;void 0===(r=function(){var e={};function n(e){return e*Math.PI/180}return e.radians=n,e.degrees=function(e){return 180*e/Math.PI},e.degreesBetweenPoints=function(e,n){return 180*Math.atan2(n.y-e.y,n.x-e.x)/Math.PI},e.radiansBetweenPoints=function(t,r){return n(e.degreesBetweenPoints(t,r))},e.distanceSquared=function(e,n){return Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)},e.distanceBetweenPoints=function(n,t){return Math.sqrt(e.distanceSquared(n,t))},e.rotatePoint=function(e,t,r){var o=n(r);return{x:Math.cos(o)*(e.x-t.x)-Math.sin(o)*(e.y-t.y)+t.x,y:Math.sin(o)*(e.x-t.x)+Math.cos(o)*(e.y-t.y)+t.y}},e.rotatePoints=function(n,t,r){for(var o=[],a=0;a<n.length;a++)o.push(e.rotatePoint(n[a],t,r));return o},e.closestPointOfLineToAPoint=function(n,t,r){var o=((n.x-t.x)*(r.x-t.x)+(n.y-t.y)*(r.y-t.y))/e.distanceSquared(t,r);return{x:t.x+o*(r.x-t.x),y:t.y+o*(r.y-t.y)}},e.midpointOfTwoPoints=function(e,n){return{x:e.x+(n.x-e.x)/2,y:e.y+(n.y-e.y)/2}},e.closestPointOnLineSegment=function(e,n,t){var r=e.x-n.x,o=e.y-n.y,a=t.x-n.x,l=t.y-n.y,i=(r*a+o*l)/(a*a+l*l);return i<0||n.x==t.x&&n.y==t.y?n:i>1?t:{x:n.x+i*a,y:n.y+i*l}},e.pointDistanceToLineSegment=function(n,t,r){var o=e.closestPointOnLineSegment(n,t,r),a=n.x-o.x,l=n.y-o.y;return Math.sqrt(a*a+l*l)},e.closestPointOnEdgeOfShape=function(n,t){var r=t.length;if(0===r)return n;if(1===r)return t[0];for(var o=0,a=n,l=0;l<r;l++){var i=l===r-1?0:l+1,s=t[l],d=t[i],c=e.pointDistanceToLineSegment(n,s,d);(0===l||c<o)&&(o=c,a=e.closestPointOnLineSegment(n,s,d))}return a},e.pointSomeDistanceTowardsPoint=function(e,n,t){var r=t.x-e.x,o=t.y-e.y,a=Math.sqrt(r*r+o*o),l=n/(a/r),i=n/(a/o);return{x:e.x+l,y:e.y+i}},e.isPointInsideShape=function(e,n){for(var t=!1,r=-1,o=n.length,a=o-1;++r<o;a=r)(n[r].y<=e.y&&e.y<n[a].y||n[a].y<=e.y&&e.y<n[r].y)&&e.x<(n[a].x-n[r].x)*(e.y-n[r].y)/(n[a].y-n[r].y)+n[r].x&&(t=!t);return t},e.getScaledShapeVertices=function(n,t,r){for(var o,a,l=[],i=r.length,s=0;s<i;s++)o=r[s],a=e.distanceBetweenPoints(n,o)*t,l.push(e.pointSomeDistanceTowardsPoint(n,a,o));return l},e.pointJustAboveShape=function(e){for(var n,t=e[0].x,r=t,o=e[0].y,a=0,l=e.length;a<l;a++)(n=e[a]).x<t&&(t=n.x),n.x>r&&(r=n.x),n.y>o&&(o=n.y);return{x:Math.round(t+(r-t)/2),y:o}},e.decomposeMatrix2d=function(e){var n=Math.atan2(e[1],e[0]),t=Math.pow(e[0],2)+Math.pow(e[1],2),r=Math.sqrt(t),o=(e[0]*e[3]-e[2]*e[1])/r,a=Math.atan2(e[0]*e[2]+e[1]*e[3],t);return{angle:n/(Math.PI/180),scaleX:r,scaleY:o,skewX:a/(Math.PI/180),skewY:0,translateX:e[4],translateY:e[5],translate:{x:e[4],y:e[5]}}},e.transformMatrix=function(e,n){var t=e[0],r=e[1],o=e[2],a=e[3],l=e[4],i=e[5],s=n[0],d=n[1],c=n[2],u=n[3],f=n[4],g=n[5];return e[0]=t*s+o*d,e[1]=r*s+a*d,e[2]=t*c+o*u,e[3]=r*c+a*u,e[4]=t*f+o*g+l,e[5]=r*f+a*g+i,e},e}.apply(n,[]))||(e.exports=r)}}]);
//# sourceMappingURL=theo-publish-impl_5a11b65b-4122317c.js.map