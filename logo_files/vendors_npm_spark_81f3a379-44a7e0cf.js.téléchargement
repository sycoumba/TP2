(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[23],{"2ALn":function(t,e,i){var n,o=e,r=i("oAGj"),l=i("ascj"),a=i("QbzR"),s=i("Zifs");o.RootStyle=(n=function(){this.deprecatedPrimaryColor=null},r.defineClass({name:"RootStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"RootStyle"}},KIND:{get:function(){return"RootStyle"}},DEFAULT_OPACITY:1,PROPERTY_COLORS_DEPRECATED:"color",factory:{get:function(){return function(t,e,i,o){return n.init_866e(i,t)}}},createDefault:function(){return n.init_70dd(s.SolidColor.WHITE)},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){var i;r.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_866e,t,e),(i=r.as(this.get(n.PROPERTY_COLORS_DEPRECATED),["Array",s.SolidColor]))&&i.length>=1&&(this.deprecatedPrimaryColor=i[0])},init_70dd:function(t){r.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_5afe,n.KIND,n.DEFAULT_OPACITY,l.ColorTable.createDefault())},className:{get:function(){return n.SCHEMA_CLASS_NAME}},colorTableSupportsRole:function(t){return t==l.ColorRole.FieldPrimary},willCommitState:function(){null!=this.deprecatedPrimaryColor&&(this.colors.fieldPrimary=this.deprecatedPrimaryColor,this.deprecatedPrimaryColor=null,this.removeProperty(n.PROPERTY_COLORS_DEPRECATED)),a.FormaStyle.prototype.willCommitState.call(this)}}}),n)},"4mVB":function(t,e,i){var n,o=e,r=i("oAGj"),l=i("SpAV"),a=i("ascj"),s=i("FNB+"),u=i("6ZWm"),c=i("QbzR"),h=i("9Lk3"),f=i("tQF8"),T=i("iCxV"),d=i("oKlP"),_=i("sIWg");o.GridStyle=(n=function(){this.gridCells_=null,this.formaMapping_=null,this.forma_=null},r.defineClass({name:"GridStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"GridStyle"}},KIND:{get:function(){return"GridStyle"}},DEFAULT_NAME:"None",DEFAULT_CATEGORY:"Grid",CUSTOM_LAYOUT_NAME:"Custom",SINGLE_LAYOUT_NAME:"Single",BALANCED_LAYOUT_NAME:"Balanced-Layout",PROPERTY_NAME:"name",PROPERTY_CATEGORY:"category",PROPERTY_GRID_CELLS:"grid-cells",PROPERTY_FORMA_MAPPING:"forma-mapping",PROPERTY_SPACING:"spacing",PROPERTY_CROP_TYPE:"crop-type",factory:{get:function(){return function(t,e,i,o){return n.init_866e(i,t)}}},createDefault:function(){return n.init_bf40(n.DEFAULT_NAME,n.DEFAULT_CATEGORY,[new f.GridCell(_.TheoRect.ONE_BY_ONE)],null,0,!1,u.CropType.PreserveFocus)},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){this.moveableShift_=!1,r.super_init(this,c.FormaStyle,c.FormaStyle.prototype.init_866e,t,e)},init_bf40:function(t,e,i,o,l,s,h){void 0===t&&(t="None"),void 0===e&&(e="Grid"),void 0===o&&(o=null),void 0===l&&(l=0),void 0===s&&(s=!0),void 0===h&&(h=u.CropType.PreserveFocus);var f={name:t,category:e,"grid-cells":i,spacing:l,"crop-type":h};if(null!=o){for(var T=[],d=r.iter(o);!d.done;d.next()){var _=d.key,p=d.value;T.push([_,p])}f[n.PROPERTY_FORMA_MAPPING]=r.clone(T)}this.moveableShift_=s,r.super_init(this,c.FormaStyle,c.FormaStyle.prototype.init_5afe,n.KIND,1,a.ColorTable.createDefault(),null,null,r.clone(f))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},didChangeState:function(t){null!=t[n.PROPERTY_FORMA_MAPPING]&&(this.formaMapping_=null),null!=t[n.PROPERTY_GRID_CELLS]&&(this.gridCells_=null),c.FormaStyle.prototype.didChangeState.call(this,r.clone(t))},name:{get:function(){var t;return(t=r.as(this.get(n.PROPERTY_NAME),"String"))||null!=t?t:n.DEFAULT_NAME},set:function(t){this.set(n.PROPERTY_NAME,t)}},category:{get:function(){return r.as(this.get(n.PROPERTY_CATEGORY),"String")},set:function(t){this.set(n.PROPERTY_CATEGORY,t)}},ensureGridCells:function(){var t;if(null==this.gridCells_&&(this.gridCells_=[],(t=r.as(this.get(n.PROPERTY_GRID_CELLS),["Array","Any"]))&&t.length>0&&t[0]instanceof f.GridCell))for(var e=r.clone(t),i=r.iter(e);!i.done;i.next()){var o=i.value;r.opt(this.gridCells_,(function(t){return t.push(o)}))}},commitGridCells:function(){this.set(n.PROPERTY_GRID_CELLS,r.clone(this.gridCells_))},gridCells:{get:function(){return this.ensureGridCells(),this.gridCells_}},setGridCells:function(t){this.gridCells_=r.clone(t),this.commitGridCells()},cellIndex:function(t){return r.opt(this.indexedCell(t,r.clone(this.gridCells)),(function(t){return t[0]}))},ensureFormaMapping:function(){var t;if(null==this.formaMapping_&&(this.formaMapping_={},(t=r.as(this.get(n.PROPERTY_FORMA_MAPPING),["Array","Any"]))&&t.length>0&&r.is(t[0],["Array","Any"])))for(var e=r.clone(t),i=r.iter(e);!i.done;i.next()){var o=i.value,l=r.as(o[0],"String"),a=r.as(o[1],f.GridCell);null!=l&&null!=a&&(this.formaMapping_[l]=a)}},commitFormaMapping:function(){for(var t=[],e=r.iter(this.formaMapping_);!e.done;e.next()){var i=e.key,o=e.value;t.push([i,o])}this.set(n.PROPERTY_FORMA_MAPPING,r.clone(t))},formaMapping:{get:function(){return this.ensureFormaMapping(),this.formaMapping_}},setFormaMapping:function(t){this.formaMapping_=r.clone(t),this.commitFormaMapping()},indexedCell:function(t,e){for(var i=r.iter(r.toSequence(e));!i.done;i.next()){var n=i.value,o=n.offset,l=n.element;if(r.eq(f._equality_GridCell_GridCell,l,t))return[o,t]}return null},updateCell:function(t,e,i,n){var o;return void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),null!=(o=this.indexedCell(t,r.clone(this.gridCells)))?this.updateCellByIndex(o[0],e,i,n):null},updateCellByIndex:function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null);var o=this.gridCells[t],l=this.gridCells[t].copyTo(e,i,n);if(!r.eq(f._equality_GridCell_GridCell,o,l)){for(var a=[],s=r.iter(this.formaMapping);!s.done;s.next()){var u=s.key,c=s.value;r.eq(f._equality_GridCell_GridCell,c,o)&&a.push(u)}this.ensureGridCells(),this.gridCells_[t]=l,this.commitGridCells(),this.ensureFormaMapping();for(var h=r.iter(a);!h.done;h.next())u=h.value,this.formaMapping_[u]=l;return this.commitFormaMapping(),l}return o},insertCell:function(t,e){this.ensureGridCells(),this.gridCells_.splice(e,0,t),this.commitGridCells()},removeCell:function(t){this.ensureGridCells();for(var e,i=[],n=r.iter(this.formaMapping);!n.done;n.next()){var o=n.key,l=n.value;r.eq(f._equality_GridCell_GridCell,t,l)&&i.push(o)}null!=(e=this.indexedCell(t,r.clone(this.gridCells_)))&&r.opt(this.gridCells_,(function(t){return t.splice(e[0],1)}));for(var a=r.iter(i);!a.done;a.next())o=a.value,r.removeKey(this.formaMapping_,o);this.commitFormaMapping(),this.commitGridCells()},mergeCell:function(t,e){var i;if(null!=(i=this.indexedCell(t,r.clone(this.gridCells)))){for(var n=[],o=r.iter(this.formaMapping);!o.done;o.next()){var l=o.key,a=o.value;r.eq(f._equality_GridCell_GridCell,t,a)&&n.push(l)}this.ensureGridCells(),this.gridCells_[i[0]]=i[1].mergeWith(e),this.commitGridCells(),this.ensureFormaMapping();for(var s=r.iter(n);!s.done;s.next())l=s.value,this.formaMapping_[l]=this.gridCells_[i[0]];return this.commitFormaMapping(),this.gridCells[i[0]]}return null},mapCellToForma:function(t,e){this.mapCellToFormaID(t.formaID,e)},mapCellToFormaID:function(t,e){this.ensureFormaMapping(),this.formaMapping_[t]=e,this.commitFormaMapping()},removeMappingToForma:function(t){this.removeMappingToFormaID(t.formaID)},removeMappingToFormaID:function(t){this.ensureFormaMapping(),r.removeKey(this.formaMapping_,t),this.commitFormaMapping()},replaceMappedForma:function(t,e){this.ensureFormaMapping();var i=r.removeKey(this.formaMapping_,t.formaID);this.formaMapping_[e.formaID]=i,this.commitFormaMapping()},cellForForma:function(t){var e;if(e=this.formaMapping[t.formaID])for(var i=r.iter(r.toSequence(this.gridCells));!i.done;i.next()){var n=i.value,o=n.offset,l=n.element;if(r.eq(f._equality_GridCell_GridCell,e,l))return[o,e]}return null},forma:{get:function(){return this.forma_},set:function(t){this.forma_=t}},colorTableSupportsRole:function(t){return t==a.ColorRole.FieldPrimary},cropType:{get:function(){var t;return u.CropType.toCaseValue((t=r.as(this.get(n.PROPERTY_CROP_TYPE),"Int"))||null!=t?t:u.CropType.PreserveFocus)},set:function(t){this.set(n.PROPERTY_CROP_TYPE,t)}},gridCellArray:{get:function(){return this.gridCells}},drawnGridCell:function(t,e){return e.evalRect(t.bounds).insetXY(this.spacing/2,this.spacing/2).rounded()},spacing:{get:function(){var t;return(t=r.as(this.get(n.PROPERTY_SPACING),"Double"))||null!=t?t:0},set:function(t){this.set(n.PROPERTY_SPACING,t)}},moveableShift:{get:function(){return this.moveableShift_},set:function(t){this.moveableShift_=t}},numCells:{get:function(){return this.gridCells.length}},numBackgroundCells:{get:function(){return this.nonOverlappingCells().length}},flipRegion:function(){for(var t=[],e=r.iter(this.gridCells);!e.done;e.next()){var i=e.value;t.push(i.flip())}var o=this.name.includes("-flip")?r.replaceAll(this.name,"-flip",""):this.name+"-flip",l=null!=this.category?this.category:n.DEFAULT_CATEGORY;return n.init_bf40(o,l,r.clone(t))},removeFormaMapping:function(){this.formaMapping_={},this.commitFormaMapping()},anyOverlap:{get:function(){return this.overlappingCells().length>0}},overlappingIndices:function(){if(0==this.gridCells.length)return[];for(var t=[],e=r.iter(r.range(0,this.gridCells.length-1,!0));!e.done;e.next())for(var i=e.value,n=r.iter(r.range(i,this.gridCells.length-1,!0));!n.done;n.next()){var o=n.value;if(o>i){var l,a=this.gridCells[o];(l=this.gridCells[i].bounds.intersectionWith(a.bounds))&&l.area>.01&&!t.includes(o)&&t.push(o)}}return t},overlappingCells:function(){var t=this;return this.overlappingIndices().map((function(e){return t.gridCells[e]}),this)},nonOverlappingCells:function(){return this.enumeratedNonOverlappingCells().map((function(t){return t[1]}),this)},enumeratedNonOverlappingCells:function(){for(var t=r.clone(this.overlappingIndices()),e=[],i=r.iter(r.toSequence(this.gridCells));!i.done;i.next()){var n=i.value,o=n.offset,l=n.element;t.includes(o)||e.push([o,l])}return e},fork:function(t){return c.FormaStyle.prototype.fork.call(this,t)},match:function(t){var e;if(e=r.as(t,n)){if(null==this.forma||null==e.forma||null==this.forma.root)return void l.CoreAssert.fail("Serious error in grid style. Not pointing to correct forma","GridStyle.match","GridStyle.swift",418);if(this.forma.controller.kind!=h.GridController.KIND||e.forma.controller.kind!=h.GridController.KIND)return void l.CoreAssert.fail("Error: Not matching grids.","GridStyle.match","GridStyle.swift",423);r.keys(this.formaMapping).length>0&&l.CoreAssert.isTrue(null!=this.forma,"missing forma","GridStyle.match","GridStyle.swift",428),r.keys(e.formaMapping).length>0&&l.CoreAssert.isTrue(null!=e.forma,"missing forma","GridStyle.match","GridStyle.swift",431),this.name=e.name,this.spacing=e.spacing,this.moveableShift=e.moveableShift,this.cropType=e.cropType,this.category=e.category;for(var i=[],o={},a=r.iter(e.gridCells);!a.done;a.next()){var u=a.value;i.push(u)}if(null!=this.forma){for(var c,d=[],p=[],R=r.iter(r.keys(this.formaMapping));!R.done;R.next()){var P=R.value;u=this.formaMapping[P],null!=(y=r.opt(this.forma,(function(t){return t.formaByID(P)})))&&y.isBackgroundImage()&&d.push(u)}for(var g=r.iter(r.keys(e.formaMapping));!g.done;g.next()){var y;P=g.value,u=e.formaMapping[P],null!=(y=r.opt(e.forma,(function(t){return t.formaByID(P)})))&&y.isBackgroundImage()&&p.push(u)}if(null!=this.forma&&(c=r.as(e.forma.controller,h.GridController))){var S=r.clone(c.gridStyle.gridCells);if(d.length>1&&1==S.length&&S[0].bounds.equalWithAccuracy(_.TheoRect.ONE_BY_ONE,f.GridCell.BOUNDS_ACCURACY))return}for(var E=function(t,e){return t.bounds.minY<e.bounds.minY||!(t.bounds.minY>e.bounds.minY)&&t.bounds.minX<e.bounds.minX},m=r.sort(d,E),O=r.sort(p,E),A=r.clone(e.overlappingCells()),C=r.clone(e.nonOverlappingCells()),L=r.iter(this.forma.visitAsArray(s.FormaTraversal.JustChildren));!L.done;L.next()){var N=L.value;if(P=N.formaID,N.isBackgroundImage()){if(m.length>0)for(var v=r.iter(r.range(0,m.length-1,!0));!v.done;v.next()){var I=v.value,D=m[I];r.eq(f._equality_GridCell_GridCell,this.formaMapping[P],D)&&O.length>0&&(o[P]=O[Math.min(I,O.length-1)])}if(null==o[P]&&(D=this.formaMapping[P]))for(var Y=0,b=r.iter(C);!b.done;b.next()){var k;(k=(u=b.value).bounds.intersectionWith(D.bounds))&&k.area>Y&&(Y=k.area,o[N.formaID]=u)}}else if(N.isTypeLockup()&&A.length>0)o[P]=A[0];else{var F,M,G;null!=(F=N.contentID)&&(M=r.opt(r.opt(e.forma,(function(t){return t.root})),(function(t){return t.formaByContentID(F)})))&&(G=e.formaMapping[M.formaID])&&(o[N.formaID]=G)}}}for(var B=[],U=r.iter(r.keys(e.formaMapping));!U.done;U.next()){var w;if(P=U.value,u=e.formaMapping[P],null!=this.forma&&r.opt(this.forma,(function(t){return null!=t.root}))){if(w=r.opt(r.opt(this.forma,(function(t){return t.root})),(function(t){return t.formaByID(P)}))){var H,x=!0;(H=r.as(r.opt(this.forma,(function(t){return t.controller})),h.GridController))&&(x=!H.isGridCell(w)||!w.isShape()),x&&(o[P]=u)}}else o[P]=u;null==this.indexedCell(u,r.clone(B))&&B.push(u)}this.setGridCells(i.concat()),this.removeFormaMapping();var K={};r.each(o,(function(t,e){K[t]=e})),this.gridCells.length<B.length&&(l.CoreAssert.fail("# of cells doesn't match","GridStyle.match","GridStyle.swift",585),T.Host.logging.info("cells "+this.gridCells.length+" mapped "+B));for(var V=r.iter(r.keys(K));!V.done;V.next())P=V.value,u=K[P],null==this.forma.formaByID(P)?(l.CoreAssert.fail("shouldn't point to a forma which isn't a child","GridStyle.match","GridStyle.swift",594),r.opt(r.opt(this.forma,(function(t){return t.root})),(function(t){return null==t.formaByID(P)}))&&l.CoreAssert.fail("we're really borked. pointing a forma which isn't in the forma tree","GridStyle.match","GridStyle.swift",597),r.removeKey(K,P)):null==this.indexedCell(u,r.clone(this.gridCells))&&(l.CoreAssert.fail("shouldn't point to a cell which isn't part of the grid.","GridStyle.match","GridStyle.swift",604),r.removeKey(K,P));this.formaMapping_=r.clone(K),this.commitFormaMapping()}},postCloneMatch:function(t){if(null!=this.forma&&null!=t.forma&&null!=this.forma.root)for(var e=r.clone(t.forma.visitAsArray(s.FormaTraversal.JustChildren)),i=r.keys(t.formaMapping),n=r.iter(i);!n.done;n.next()){var o,a=n.value,u=t.formaMapping[a];if(o=r.opt(this.forma,(function(t){return t.formaByID(a)}))){t.ensureFormaMapping();for(var c=r.iter(e);!c.done;c.next()){var h=c.value;o.frame.equalWithAccuracy(h.frame,.01)&&(t.formaMapping_[h.formaID]=u,r.removeKey(t.formaMapping_,a))}t.commitFormaMapping()}}else l.CoreAssert.fail("Serious error in grid style. Not pointing to correct forma","GridStyle.postCloneMatch","GridStyle.swift",619)},equals:function(t){return this.name==t.name&&this.geometricEquals(t)},geometricEquals:function(t){if(this.gridCells.length!=t.gridCells.length)return!1;for(var e=r.sort(this.gridCells,(function(t,e){return t.bounds.center.distanceTo(d.TheoPoint.ZERO)<e.bounds.center.distanceTo(d.TheoPoint.ZERO)})),i=r.sort(t.gridCells,(function(t,e){return t.bounds.center.distanceTo(d.TheoPoint.ZERO)<e.bounds.center.distanceTo(d.TheoPoint.ZERO)})),n=r.iter(r.range(0,e.length-1,!0));!n.done;n.next()){var o,l=n.value;if(!(o=e[l].bounds.intersectionWith(i[l].bounds)))return!1;if(Math.abs((o.area-e[l].bounds.area)/o.area)>.02)return!1}return!0},similarity:function(t){if(this.numCells!=t.numCells)return 1;for(var e=r.sort(this.gridCells,(function(t,e){return t.bounds.center.distanceTo(d.TheoPoint.ZERO)<e.bounds.center.distanceTo(d.TheoPoint.ZERO)})),i=r.sort(t.gridCells,(function(t,e){return t.bounds.center.distanceTo(d.TheoPoint.ZERO)<e.bounds.center.distanceTo(d.TheoPoint.ZERO)})),n=[],o=r.iter(r.range(0,e.length-1,!0));!o.done;o.next()){var l=o.value;n.push(e[l].bounds.similarity(i[l].bounds))}return n.reduce((function(t,e){return t+e}),0)/r.toDouble(n.length)},insetBackgroundCells:function(t){for(var e=r.iter(this.enumeratedNonOverlappingCells());!e.done;e.next()){var i,n=e.value;(i=n[1].bounds.intersectionWith(t))&&this.updateCellByIndex(n[0],i)}},asString:{get:function(){return this.name}}}}),n)},G1DZ:function(t,e,i){var n,o,r=e,l=i("oAGj");r.FormaSourceNamespace=l.defineEnum("FormaSourceNamespace",{DesignIngredient:"di:"}),r.FormaSourceUtils=(n=function(){},o={},l.defineClass({name:"FormaSourceUtils",ctor:n,statics:{allNamespaces:{get:function(){return void 0===o.allNamespaces&&(o.allNamespaces=[r.FormaSourceNamespace.DesignIngredient]),o.allNamespaces}},isValid:function(t){if(null==t)return!0;for(var e=l.iter(n.allNamespaces);!e.done;e.next()){var i=e.value;if(n.checkMatch(t,i))return!0}return!1},isDesignIngredient:function(t){return n.checkMatch(t,r.FormaSourceNamespace.DesignIngredient)},stripNamespace:function(t){for(var e=l.iter(n.allNamespaces);!e.done;e.next()){var i=e.value;if(t.startsWith(i))return t.substr(l.toString(i).length)}return t},checkMatch:function(t,e){var i;return!(!(i=l.opt(t,(function(t){return t.startsWith(e)})))&&null==i)&&i}}}),n)},JEzR:function(t,e,i){var n,o,r=e,l=i("oAGj"),a=i("ascj"),s=i("QbzR"),u=i("U010");r.FrameStyle=(n=function(){},o={},l.defineClass({name:"FrameStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"FrameStyle"}},KIND:{get:function(){return"FrameStyle"}},PROPERTY_CUTOUT_MODE:"cutout-mode",initialProps:{get:function(){return void 0===o.initialProps&&(o.initialProps={"cutout-mode":u.CutoutMode.Off}),o.initialProps}},factory:{get:function(){return function(t,e,i,o){return n.init_866e(i,t)}}},createDefault:function(){return n.init_d41d()},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){l.super_init(this,s.FormaStyle,s.FormaStyle.prototype.init_866e,t,e)},init_dd5d:function(t,e){for(var i=l.clone(e),o=l.iter(n.initialProps);!o.done;o.next()){var r=o.key,a=o.value;null==t[r]&&null==e[r]&&(i[r]=a)}l.super_init(this,s.FormaStyle,s.FormaStyle.prototype.init_dd5d,l.clone(t),l.clone(i))},init_d41d:function(){var t=a.ColorTable.init_25f6([{key:a.ColorRole.FieldPrimary,value:null}]);l.super_init(this,s.FormaStyle,s.FormaStyle.prototype.init_5afe,n.KIND,1,t,void 0,void 0,l.clone(n.initialProps))},init_6c45:function(t,e){l.super_init(this,s.FormaStyle,s.FormaStyle.prototype.init_5afe,n.KIND,t,e,void 0,void 0,l.clone(n.initialProps))},cutoutMode:{get:function(){var t,e;return null!=(t=l.as(this.get(n.PROPERTY_CUTOUT_MODE),"Int"))&&null!=(e=u.CutoutMode.toCaseValue(t))?e:u.CutoutMode.Off},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_CUTOUT_MODE,t),this.notifyAfter()}},willCommitState:function(){s.FormaStyle.prototype.willCommitState.call(this)},className:{get:function(){return n.SCHEMA_CLASS_NAME}}}}),n)},LCGV:function(t,e,i){var n,o=e,r=i("oAGj"),l=i("ascj"),a=i("QbzR"),s=i("Zifs");o.TextStyle=(n=function(){},r.defineClass({name:"TextStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"TextStyle"}},KIND:{get:function(){return"TextStyle"}},factory:{get:function(){return function(t,e,i,o){return n.init_866e(i,t)}}},createDefault:function(){return n.init_70dd(s.SolidColor.WHITE)},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){r.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_866e,t,e)},init_70dd:function(t){r.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_5afe,n.KIND,1,l.ColorTable.createWithOneSolidColor(t))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},colorLibrary:{get:function(){return a.FormaStyle._getters.colorLibrary.call(this)},set:function(t){this.setColorLibraryWithoutSubscribing(t)}},colorTableSupportsRole:function(t){return t==l.ColorRole.FieldPrimary}}}),n)},LcYy:function(t,e,i){var n,o,r=e,l=i("oAGj"),a=i("SpAV"),s=i("iCxV"),u=i("Quhx"),c=i("9YN4");r.DocumentHistory=(n=function(){},o={},l.defineClass({name:"DocumentHistory",ctor:n,superName:"PostDCXObject",statics:{SCHEMA_CLASS_NAME:"DocumentHistory",factory:{get:function(){return void 0===o.factory&&(o.factory=function(t,e,i,o){var r=l.as(l.opt(l.opt(o,(function(t){return t.backLink})),(function(t){return t.dereference()})),c.TheoDocument);return a.CoreAssert.isTrue(null!=r,"DocumentHistory needs a parent document","DocumentHistory","DocumentHistory.swift",15),n.init_7e49(t,i,r)}),o.factory},set:function(t){o.factory=t}},PROPERTY_ENTRIES:"entries",PATH:"document-history",MAX_HISTORY_SIZE:100,_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t}},props:{init_7e49:function(t,e,i){this.parent_=i,l.super_init(this,u.PostDCXObject,u.PostDCXObject.prototype.init_3181,i.database,e,t)},init_d0e4:function(t){this.parent_=t,l.super_init(this,u.PostDCXObject,u.PostDCXObject.prototype.init_11e0,t.database),this.set(u.PostDCXObject.PROPERTY_PATH,n.PATH),this.postEntry("initialized")},className:{get:function(){return n.SCHEMA_CLASS_NAME}},parent:{get:function(){return this.parent_}},entries:{get:function(){var t;return(t=l.as(this.get(n.PROPERTY_ENTRIES),["Array","String"]))||null!=t?t:[]}},postEntry:function(t){var e,i,o,r=this.database.beginTransaction("updateHistory",null),a=l.clone(this.entries);a.length>=n.MAX_HISTORY_SIZE&&a.shift();var u="when:'"+((e=l.opt(s.Host.logging,(function(t){return t.timeStamp()})))||null!=e?e:"?")+"';platform:'"+((i=l.opt(s.Host.logging,(function(t){return t.platformID()})))||null!=i?i:"?")+" ("+((o=l.opt(s.Host.logging,(function(t){return t.additionalPlatformInfo()})))||null!=o?o:"?")+")';format#:"+l.toString(c.TheoDocument.CURRENT_VERSION)+";operation:'"+t+"'";a.push(u),this.set(n.PROPERTY_ENTRIES,l.clone(a)),r.mergeWithPrevious()},entryCount:{get:function(){return this.entries.length}},entryAt:function(t){return t<0||t>=this.entries.length?(a.CoreAssert.warning("entryAt: Invalid index requested, returning empty string"),""):this.entries[t]},forEachEntry:function(t){for(var e=l.iter(this.entries);!e.done;e.next())t(e.value)},clear:function(){this.set(n.PROPERTY_ENTRIES,[])}}}),n)},QTen:function(t,e,i){var n,o,r=e,l=i("oAGj"),a=i("SpAV"),s=i("ascj"),u=i("uWOl"),c=i("RkYL");r.VideoStyle=(n=function(){},o={},l.defineClass({name:"VideoStyle",ctor:n,superName:"ImageStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"VideoStyle"}},KIND:{get:function(){return"VideoStyle"}},PROPERTY_VOLUME:"volume",PROPERTY_STARTTIME:"start-time",PROPERTY_DURATION:"duration",volumeOff:0,volumeLow:.3,volumeFull:1,kMaxDuration:{get:function(){return void 0===o.kMaxDuration&&(o.kMaxDuration=c.TheoTime.fromSecondsAsMs(15)),o.kMaxDuration}},kTrimPadding:{get:function(){return void 0===o.kTrimPadding&&(o.kTrimPadding=c.TheoTime.fromSecondsAsMs(3)),o.kTrimPadding}},initialProps:{get:function(){return void 0===o.initialProps&&(o.initialProps={volume:n.volumeFull,"start-time":c.TheoTime.Zero,duration:c.TheoTime.Zero}),o.initialProps}},factory:{get:function(){return function(t,e,i,o){return n.init_866e(i,t)}}},createDefault:function(){return n.init_d41d()},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){l.super_init(this,u.ImageStyle,u.ImageStyle.prototype.init_866e,t,e)},init_dd5d:function(t,e){for(var i=l.clone(e),o=l.iter(n.initialProps);!o.done;o.next()){var r=o.key,a=o.value;null==t[r]&&null==e[r]&&(i[r]=a)}l.super_init(this,u.ImageStyle,u.ImageStyle.prototype.init_dd5d,l.clone(t),l.clone(i))},init_d41d:function(){l.super_init(this,u.ImageStyle,u.ImageStyle.prototype.init_a6fe,n.KIND,u.ImageStyle.DEFAULT_NAME,s.ColorTable.createDefault(),l.clone(n.initialProps))},volumeLevel:{get:function(){var t;return(t=l.as(this.get(n.PROPERTY_VOLUME),"Double"))||null!=t?t:n.volumeFull},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_VOLUME,t),this.notifyAfter()}},startTime:{get:function(){var t,e;return(e=this._transientStartTime)?e:(t=l.as(this.get(n.PROPERTY_STARTTIME),c.TheoTime))||null!=t?t:c.TheoTime.fromSecondsAsMs(0)},set:function(t){a.CoreAssert.isTrue(null==this._transientStartTime,"Can't set startTime while using transient time","VideoStyle","VideoStyle.swift",93),this.notifyBefore(),this.set(n.PROPERTY_STARTTIME,t),this.notifyAfter()}},endTime:{get:function(){return this.startTime.add(this.duration)},set:function(t){this.duration=t.subtract(this.startTime)}},duration:{get:function(){var t,e;return(e=this._transientDuration)?e:(t=l.as(this.get(n.PROPERTY_DURATION),c.TheoTime))||null!=t?t:c.TheoTime.fromSecondsAsMs(0)},set:function(t){a.CoreAssert.isTrue(null==this._transientDuration,"Can't set startTime while using transient time","VideoStyle","VideoStyle.swift",119),this.notifyBefore(),t.seconds>n.kMaxDuration.seconds?this.set(n.PROPERTY_DURATION,n.kMaxDuration):this.set(n.PROPERTY_DURATION,t),this.notifyAfter()}},setTransientTime:function(t,e){var i,n,o=e.safeSubtract(t);(!(i=this._transientStartTime)||!(n=this._transientDuration)||!i.equals(t)||!n.equals(o))&&(this.notifyBefore(),this._transientStartTime=t,this._transientDuration=o,this.notifyAfter())},resetTransientTime:function(){null==this._transientStartTime&&null==this._transientDuration||(this.notifyBefore(),this._transientStartTime=null,this._transientDuration=null,this.notifyAfter())},className:{get:function(){return n.SCHEMA_CLASS_NAME}},match:function(t){var e=this.startTime,i=this.duration;u.ImageStyle.prototype.match.call(this,t),this.startTime=e,this.duration=i},mergeWithImageStyle:function(t){var e,i,o=this,r=null;if(e=t)if(i=l.as(e,n))r=l.as(i.clone(),n),l.opt(r,(function(t){return t.startTime=o.startTime})),l.opt(r,(function(t){return t.duration=o.duration}));else{var a=l.clone(e.state.allProperties),s={volume:this.volumeLevel,"start-time":this.startTime,duration:this.duration,kind:n.KIND};(r=n.init_dd5d(l.clone(a),l.clone(s))).colorLibrary=e.colorLibrary}return r},downgradeToImageStyle:function(){var t={kind:u.ImageStyle.KIND};return u.ImageStyle.init_dd5d(l.clone(this.state.allProperties),l.clone(t))}}}),n)},QbzR:function(t,e,i){var n,o,r,l=e,a=i("oAGj"),s=i("SpAV"),u=i("ascj"),c=i("dJuF"),h=i("cmoc"),f=i("4mVB"),T=i("ZhwN"),d=i("Qlvz"),_=i("SDdr"),p=i("Quhx"),R=i("Zifs"),P=i("90dd");l.FormaStyle=(n=function(){this.notifyDepth_=0},o={},a.defineClass({name:"FormaStyle",ctor:n,superName:"PostPublishingObject",statics:{SCHEMA_CLASS_NAME:{get:function(){return"FormaStyle"}},SCHEMA_ALL_TYPES_NAME:"FormaStyleTypes",codec:{get:function(){return void 0===o.codec&&(o.codec=c.DBPropertyCodec.registerCodec(n.SCHEMA_ALL_TYPES_NAME,c.DBPropertyCodec.directObjectCodec(n.SCHEMA_CLASS_NAME))),o.codec}},PROPERTY_KIND:"kind",PROPERTY_OPACITY:"opacity",PROPERTY_COLORS:"color-table",PROPERTY_FILTER:"filter",PROPERTY_ADJUSTMENTS:"adjustments",KIND:{get:function(){return"FormaStyle"}},factory:{get:function(){return function(t,e,i,o){return n.init_866e(i,t)}}},createDefault:function(){return n.init_5afe(n.KIND,1,u.ColorTable.createWithOneSolidColor(R.SolidColor.ZERO))},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_5afe:function(t,e,i,o,r,s){void 0===o&&(o=null),void 0===r&&(r=null),void 0===s&&(s=null);var c={kind:t,opacity:e,"color-table":i||u.ColorTable.createDefault(),adjustments:r||d.ImageAdjustments.createDefault()};if(null!=o&&(c[n.PROPERTY_FILTER]=o),null!=s)for(var h=a.iter(s);!h.done;h.next()){var f=h.key,T=h.value;c[f]=T}a.super_init(this,p.PostPublishingObject,p.PostPublishingObject.prototype.init_dd5d,{},a.clone(c)),null!=o&&(o.style=this),this.beforeMsg_=new l.FormaStyleChangedMessage(this,!1),this.afterMsg_=new l.FormaStyleChangedMessage(this,!0),this.colors.owner=this},init_866e:function(t,e){var i;a.super_init(this,p.PostPublishingObject,p.PostPublishingObject.prototype.init_866e,t,e),(i=a.as(this.get(n.PROPERTY_FILTER),_.ImageFilter))&&(i.style=this),null==a.as(this.get(n.PROPERTY_COLORS),u.ColorTable)&&this.set(n.PROPERTY_COLORS,u.ColorTable.createDefault()),null==a.as(this.get(n.PROPERTY_ADJUSTMENTS),d.ImageAdjustments)&&this.set(n.PROPERTY_ADJUSTMENTS,d.ImageAdjustments.createDefault()),this.beforeMsg_=new l.FormaStyleChangedMessage(this,!1),this.afterMsg_=new l.FormaStyleChangedMessage(this,!0),this.colors.owner=this},init_dd5d:function(t,e){var i,o=a.clone(e);null==t[n.PROPERTY_COLORS]&&null==e[n.PROPERTY_COLORS]&&(o[n.PROPERTY_COLORS]=u.ColorTable.createDefault()),null==t[n.PROPERTY_ADJUSTMENTS]&&null==e[n.PROPERTY_ADJUSTMENTS]&&(o[n.PROPERTY_ADJUSTMENTS]=d.ImageAdjustments.createDefault()),a.super_init(this,p.PostPublishingObject,p.PostPublishingObject.prototype.init_dd5d,a.clone(t),a.clone(o)),(i=a.as(this.get(n.PROPERTY_FILTER),_.ImageFilter))&&(i.style=this),this.beforeMsg_=new l.FormaStyleChangedMessage(this,!1),this.afterMsg_=new l.FormaStyleChangedMessage(this,!0),this.colors.owner=this},didChangeState:function(t){var e=this;p.PostPublishingObject.prototype.didChangeState.call(this,a.clone(t)),a.opt(this.filter,(function(t){return t.style=e}))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},kind:{get:function(){return this.get(n.PROPERTY_KIND)}},filter:{get:function(){return a.as(this.get(n.PROPERTY_FILTER),_.ImageFilter)},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_FILTER,t),this.notifyAfter()}},adjustments:{get:function(){return a.as(this.get(n.PROPERTY_ADJUSTMENTS),d.ImageAdjustments)},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_ADJUSTMENTS,t),this.notifyAfter()}},opacity:{get:function(){var t;return(t=a.as(this.get(n.PROPERTY_OPACITY),"Double"))||null!=t?t:1},set:function(t){t!=this.opacity&&(this.notifyBefore(),this.set(n.PROPERTY_OPACITY,t),this.notifyAfter())}},colorLibrary:{get:function(){return this.colorLibrary_},set:function(t){this.colorLibrary_=t,a.opt(this.colors_,(function(e){return e.library=t}))}},clearColorLibrarySub:function(){a.opt(this.colors_,(function(t){return t.library=null})),this.colorLibrary_=null},setColorLibraryWithoutSubscribing:function(t){this.colorLibrary_=t,this.colors.setColorLibraryWithoutSubscribing(t)},colors_:{get:function(){return a.as(this.get(n.PROPERTY_COLORS),u.ColorTable)},set:function(t){this.set(n.PROPERTY_COLORS,t)}},colors:{get:function(){var t,e;return(t=this.colors_)?t:((e=this.owner_)?s.CoreAssert.fail("Getting a nil color table from style with "+e.kind+" forma "+e.id,"FormaStyle","FormaStyle.swift",195):s.CoreAssert.fail("Getting a nil color table from style with nil forma","FormaStyle","FormaStyle.swift",197),u.ColorTable.createDefault())}},dispose:function(){this.colorLibrary=null},owner:{get:function(){return this.owner_},set:function(t){this.owner_=t}},clone:function(){var t,e,i=a.as(this.fork(T.GUIDUtils.makeGUID()),n);return(t=i)&&(t.set(n.PROPERTY_COLORS,a.opt(this.colors_,(function(t){return t.clone()}))||u.ColorTable.createDefault()),t.colors.owner=i,t.colorLibrary=this.colorLibrary),(e=a.as(i,f.GridStyle))&&(e.moveableShift=a.as(this,f.GridStyle).moveableShift),i},cloneToDatabase:function(t){var e=this,i=a.as(this.forkToDatabase(T.GUIDUtils.makeGUID(),!1,t,null),n);return null!=i&&this.persisted&&this.database===t&&(i.colorLibrary=this.colorLibrary),a.opt(i,(function(t){return t.set(n.PROPERTY_COLORS,a.opt(e.colors_,(function(t){return t.clone()}))||u.ColorTable.createDefault())})),a.opt(i,(function(t){return t.colors.owner=i})),a.opt(i,(function(t){return t.colors.library=a.opt(i,(function(t){return t.colorLibrary}))})),i},detachFromDatabase:function(){return this.cloneToDatabase(null)},match:function(t){var e=a.clone(t.state.allProperties);this.notifyBefore(),this.matchProperties(a.clone(e)),this.notifyAfter()},asString:{get:function(){return""}},notifyBefore:function(){this.notifyDepth_+=1,1==this.notifyDepth_&&this.publish(this.beforeMsg_)},notifyAfter:function(){s.CoreAssert.isTrue(this.notifyDepth_>0,void 0,"FormaStyle.notifyAfter","FormaStyle.swift",295),1==this.notifyDepth_&&this.publish(this.afterMsg_),this.notifyDepth_-=1},colorTableBeforeChanged:function(){this.notifyBefore()},colorTableAfterChanged:function(){this.notifyAfter()},colorTableSupportsRole:function(t){return t==u.ColorRole.FieldPrimary},canColorEntriesBeEmpty:function(){var t;return!(t=this.owner_)||t.kind==h.FrameForma.KIND}}}),n),l.FormaStyleChangedMessage=(r=function t(e,i){this.isBefore=!i,this.isAfter=i,P.TheoMessage.call(this,t.TYPE,e)},a.defineClass({name:"FormaStyleChangedMessage",ctor:r,superName:"TheoMessage",statics:{TYPE:{get:function(){return"FormaStyleChangedMessage"}}}}),r)},Qlvz:function(t,e,i){var n,o=e,r=i("oAGj"),l=i("SpAV");o.ImageAdjustments=(n=function t(e,i,n,o,r,l,a,s,u,c,h,f){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===l&&(l=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0),this.name=t.NAME,this.blur_=e,this.sharpness_=i,this.contrast_=s,this.saturation_=r,this.brightness_=l,this.exposure_=a,this.contrast_=s,this.shadows_=n,this.highlights_=o,this.warmth_=u,this.tint_=c,this.fade_=h,this.vibrance_=f},r.defineClass({name:"ImageAdjustments",ctor:n,superName:"CoreObject",statics:{NAME:{get:function(){return"ImageAdjustments"}},PROPERTY_NAME:"name",PROPERTY_BLUR:"blur",PROPERTY_SHARPNESS:"sharpness",PROPERTY_SHADOWS:"shadows",PROPERTY_HIGHLIGHTS:"highlights",PROPERTY_SATURATION:"saturation",PROPERTY_BRIGHTNESS:"brightness",PROPERTY_EXPOSURE:"exposure",PROPERTY_CONTRAST:"contrast",PROPERTY_WARMTH:"warmth",PROPERTY_TINT:"tint",PROPERTY_FADE:"fade",PROPERTY_VIBRANCE:"vibrance",createDefault:function(){return new n(0,0,0,0,0,0,0,0,0,0,0,0)},decodeJson:function(t){if(null==t)return null;var e;if(e=r.as(t,["Dictionary","String","Any"])){var i=n.createDefault();return i.decodeFromJson(e),i}return l.CoreAssert.fail("ImageFilter.decodeJson: could not create style","ImageAdjustments.decodeJson","ImageAdjustments.swift",222),null}},props:{blur:{get:function(){return this.blur_}},scaledBlur:{get:function(){return this.blur_/3}},sharpness:{get:function(){return this.sharpness_}},scaledSharpness:{get:function(){return this.sharpness_/3}},shadows:{get:function(){return this.shadows_}},highlights:{get:function(){return this.highlights_}},saturation:{get:function(){return this.saturation_}},brightness:{get:function(){return this.brightness_}},exposure:{get:function(){return this.exposure_}},contrast:{get:function(){return this.contrast_}},warmth:{get:function(){return this.warmth_}},tint:{get:function(){return this.tint_}},fade:{get:function(){return this.fade_}},vibrance:{get:function(){return this.vibrance_}},copyWithNewValues:function(t,e,i,o,r,l,a,s,u,c,h,f){var T,d,_,p,R,P,g,y,S,E,m,O;return void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),void 0===l&&(l=null),void 0===a&&(a=null),void 0===s&&(s=null),void 0===u&&(u=null),void 0===c&&(c=null),void 0===h&&(h=null),void 0===f&&(f=null),new n((T=t)||null!=T?T:this.blur_,(d=e)||null!=d?d:this.sharpness_,(_=i)||null!=_?_:this.shadows_,(p=o)||null!=p?p:this.highlights_,(R=r)||null!=R?R:this.saturation_,(P=l)||null!=P?P:this.brightness_,(g=a)||null!=g?g:this.exposure_,(y=s)||null!=y?y:this.contrast_,(S=u)||null!=S?S:this.warmth_,(E=c)||null!=E?E:this.tint_,(m=h)||null!=m?m:this.fade_,(O=f)||null!=O?O:this.vibrance_)},copyWithNewValue:function(t,e){switch(e){case"blur":return this.copyWithNewValues(t);case"sharpness":return this.copyWithNewValues(void 0,t);case"shadows":return this.copyWithNewValues(void 0,void 0,t);case"highlights":return this.copyWithNewValues(void 0,void 0,void 0,t);case"saturation":return this.copyWithNewValues(void 0,void 0,void 0,void 0,t);case"brightness":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,t);case"exposure":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,t);case"contrast":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);case"warmth":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);case"tint":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);case"fade":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);case"vibrance":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);default:return this.copyWithNewValues()}},encodeJson:function(){var t={};return t[n.PROPERTY_NAME]=this.name,t[n.PROPERTY_BLUR]=this.blur_,t[n.PROPERTY_SHARPNESS]=this.sharpness_,t[n.PROPERTY_SHADOWS]=this.shadows_,t[n.PROPERTY_HIGHLIGHTS]=this.highlights_,t[n.PROPERTY_SATURATION]=this.saturation_,t[n.PROPERTY_BRIGHTNESS]=this.brightness_,t[n.PROPERTY_EXPOSURE]=this.exposure_,t[n.PROPERTY_CONTRAST]=this.contrast_,t[n.PROPERTY_WARMTH]=this.warmth_,t[n.PROPERTY_TINT]=this.tint_,t[n.PROPERTY_FADE]=this.fade_,t[n.PROPERTY_VIBRANCE]=this.vibrance_,t},decodeFromJson:function(t){var e,i,o,l,a,s,u,c,h,f,T,d,_;this.name=(e=r.as(t[n.PROPERTY_NAME],"String"))||null!=e?e:"",this.blur_=(i=r.as(t[n.PROPERTY_BLUR],"Double"))||null!=i?i:0,this.sharpness_=(o=r.as(t[n.PROPERTY_SHARPNESS],"Double"))||null!=o?o:0,this.shadows_=(l=r.as(t[n.PROPERTY_SHADOWS],"Double"))||null!=l?l:0,this.highlights_=(a=r.as(t[n.PROPERTY_HIGHLIGHTS],"Double"))||null!=a?a:0,this.saturation_=(s=r.as(t[n.PROPERTY_SATURATION],"Double"))||null!=s?s:0,this.brightness_=(u=r.as(t[n.PROPERTY_BRIGHTNESS],"Double"))||null!=u?u:0,this.exposure_=(c=r.as(t[n.PROPERTY_EXPOSURE],"Double"))||null!=c?c:0,this.contrast_=(h=r.as(t[n.PROPERTY_CONTRAST],"Double"))||null!=h?h:1,this.warmth_=(f=r.as(t[n.PROPERTY_WARMTH],"Double"))||null!=f?f:0,this.tint_=(T=r.as(t[n.PROPERTY_TINT],"Double"))||null!=T?T:0,this.fade_=(d=r.as(t[n.PROPERTY_FADE],"Double"))||null!=d?d:0,this.vibrance_=(_=r.as(t[n.PROPERTY_VIBRANCE],"Double"))||null!=_?_:0},clone:function(){return n.decodeJson(this.encodeJson())},equals:function(t){return this.blur==r.opt(t,(function(t){return t.blur}))&&this.sharpness==r.opt(t,(function(t){return t.sharpness}))&&this.shadows==r.opt(t,(function(t){return t.shadows}))&&this.highlights==r.opt(t,(function(t){return t.highlights}))&&this.saturation==r.opt(t,(function(t){return t.saturation}))&&this.brightness==r.opt(t,(function(t){return t.brightness}))&&this.exposure==r.opt(t,(function(t){return t.exposure}))&&this.contrast==r.opt(t,(function(t){return t.contrast}))&&this.warmth==r.opt(t,(function(t){return t.warmth}))&&this.tint==r.opt(t,(function(t){return t.tint}))&&this.fade==r.opt(t,(function(t){return t.fade}))&&this.vibrance==r.opt(t,(function(t){return t.vibrance}))},isDefault:function(){return 0==this.blur&&0==this.sharpness&&0==this.shadows&&0==this.highlights&&0==this.saturation&&0==this.brightness&&0==this.exposure&&0==this.contrast&&0==this.warmth&&0==this.tint&&0==this.fade&&0==this.vibrance},asString:{get:function(){return n.PROPERTY_BLUR+": "+this.blur+n.PROPERTY_SHARPNESS+": "+this.sharpness+n.PROPERTY_SHADOWS+": "+this.shadows+n.PROPERTY_HIGHLIGHTS+": "+this.highlights+n.PROPERTY_SATURATION+": "+this.saturation+n.PROPERTY_BRIGHTNESS+": "+this.brightness+n.PROPERTY_EXPOSURE+": "+this.exposure+n.PROPERTY_CONTRAST+": "+this.contrast+n.PROPERTY_WARMTH+": "+this.warmth+n.PROPERTY_TINT+": "+this.tint+n.PROPERTY_FADE+": "+this.fade+n.PROPERTY_VIBRANCE+": "+this.vibrance}}}}),n)},SDdr:function(t,e,i){var n,o,r=e,l=i("oAGj"),a=i("dJuF"),s=i("ZhwN"),u=i("Quhx");r.ImageFilter=(n=function(){},o={},l.defineClass({name:"ImageFilter",ctor:n,superName:"PostPublishingObject",statics:{SCHEMA_CLASS_NAME:{get:function(){return"ImageFilter"}},SCHEMA_ALL_TYPES_NAME:"ImageFilterTypes",codec:{get:function(){return void 0===o.codec&&(o.codec=a.DBPropertyCodec.registerCodec(n.SCHEMA_ALL_TYPES_NAME,a.DBPropertyCodec.directObjectCodec(n.SCHEMA_CLASS_NAME))),o.codec}},KIND:{get:function(){return"ImageFilter"}},PROPERTY_KIND:"kind",PROPERTY_NAME:"name",createDefault:function(){return n.init_37f0(void 0,n.KIND,{})},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t}},props:{init_866e:function(t,e){l.super_init(this,u.PostPublishingObject,u.PostPublishingObject.prototype.init_866e,t,e)},init_dd5d:function(t,e){l.super_init(this,u.PostPublishingObject,u.PostPublishingObject.prototype.init_dd5d,l.clone(t),l.clone(e))},init_37f0:function(t,e,i){void 0===t&&(t="");var o=l.clone(i);o[n.PROPERTY_KIND]=e,o[n.PROPERTY_NAME]=t,l.super_init(this,u.PostPublishingObject,u.PostPublishingObject.prototype.init_dd5d,{},l.clone(o))},clone:function(){return l.as(this.fork(s.GUIDUtils.makeGUID()),n)},className:{get:function(){return n.SCHEMA_CLASS_NAME}},kind:{get:function(){return this.get(n.PROPERTY_KIND)}},name:{get:function(){return this.get(n.PROPERTY_NAME)}},style:{get:function(){return this.style_},set:function(t){this.style_=t}},colors:{get:function(){return l.opt(this.style,(function(t){return t.colors}))}},equals:function(t){return this.name==l.opt(t,(function(t){return t.name}))},asString:{get:function(){return"Filter: "+this.name+" "+this.kind}}}}),n),r.AlphaBlendFilter=function(){var t=function(){},e={};return l.defineClass({name:"AlphaBlendFilter",ctor:t,superName:"ImageFilter",statics:{SCHEMA_CLASS_NAME:{get:function(){return"AlphaBlendFilter"}},PROPERTY_MIX:"mix",PROPERTY_FILTER_1:"filter1",PROPERTY_FILTER_2:"filter2",factory:{get:function(){return void 0===e.factory&&(e.factory=function(e,i,n,o){return t.init_866e(n,e)}),e.factory},set:function(t){e.factory=t}},createDefault:function(){return t.init_fa22(void 0,1,null,null)},KIND:{get:function(){return"AlphaBlend"}},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t}},props:{init_866e:function(t,e){l.super_init(this,r.ImageFilter,r.ImageFilter.prototype.init_866e,t,e)},init_fa22:function(e,i,n,o){void 0===e&&(e="");var a={mix:i};null!=n&&(a[t.PROPERTY_FILTER_1]=n.clone()),null!=o&&(a[t.PROPERTY_FILTER_2]=o.clone()),l.super_init(this,r.ImageFilter,r.ImageFilter.prototype.init_37f0,e,t.KIND,l.clone(a)),null!=n&&l.opt(this.filter1,(function(t){return t.style=n.style})),null!=o&&l.opt(this.filter2,(function(t){return t.style=o.style}))},className:{get:function(){return t.SCHEMA_CLASS_NAME}},mix:{get:function(){var e;return(e=l.as(this.get(t.PROPERTY_MIX),"Double"))||null!=e?e:1},set:function(e){l.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_MIX,e),l.opt(this.style,(function(t){return t.notifyAfter()}))}},filter1:{get:function(){return l.as(this.get(t.PROPERTY_FILTER_1),r.ImageFilter)},set:function(e){l.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_FILTER_1,e),l.opt(this.style,(function(t){return t.notifyAfter()}))}},filter2:{get:function(){return l.as(this.get(t.PROPERTY_FILTER_2),r.ImageFilter)},set:function(e){l.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_FILTER_2,e),l.opt(this.style,(function(t){return t.notifyAfter()}))}},equals:function(e){var i;return!!(i=l.as(e,t))&&(null==i.filter1&&null==this.filter1||null==i.filter2&&null==this.filter2?null!=i.filter1?i.filter1.equals(this.filter1):null==i.filter2||i.filter2.equals(this.filter2):!(null==i.filter1&&null!=this.filter1||null==i.filter2&&null!=this.filter2||null!=i.filter1&&null==this.filter1||null!=i.filter2&&null==this.filter2)&&(this.filter1.equals(i.filter1)&&this.filter2.equals(i.filter2)&&this.mix==i.mix))},asString:{get:function(){return r.ImageFilter._getters.asString.call(this)+" "+this.mix+" 1:["+(null!=this.filter1?this.filter1.asString:"nil")+"] 2:["+(null!=this.filter2?this.filter2.asString:"nil")+"]"}}}}),t}(),r.CompositeFilter=function(){var t=function(){},e={};return l.defineClass({name:"CompositeFilter",ctor:t,superName:"ImageFilter",statics:{SCHEMA_CLASS_NAME:{get:function(){return"CompositeFilter"}},PROPERTY_MIX:"mix",PROPERTY_BLEND:"blend",PROPERTY_GRAYSCALE:"grayscale",PROPERTY_CONTRAST:"contrast",PROPERTY_COLOR_OPERATION:"color-operation",PROPERTY_SATURATION_OFFSET:"saturation-offset",PROPERTY_BRIGHTNESS_OFFSET:"brightness-offset",PROPERTY_BLUR_RADIUS:"blur-radius",PROPERTY_REDUCE_CONTRAST:"reduce-contrast",factory:{get:function(){return void 0===e.factory&&(e.factory=function(e,i,n,o){return t.init_866e(n,e)}),e.factory},set:function(t){e.factory=t}},createDefault:function(){return t.init_514f(void 0,void 0,void 0,"")},KIND:{get:function(){return"CompositeFilter"}},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t}},props:{init_866e:function(e,i){var n;l.super_init(this,r.ImageFilter,r.ImageFilter.prototype.init_866e,e,i),"duotone"==this.blend&&this.set(t.PROPERTY_BLEND,"normal"),((n=l.as(this.get(t.PROPERTY_REDUCE_CONTRAST),"Bool"))||null!=n)&&n&&this.set(t.PROPERTY_CONTRAST,.5)},init_514f:function(e,i,n,o,a,s,u,c,h,f){void 0===e&&(e=null),void 0===i&&(i=""),void 0===n&&(n=1),void 0===o&&(o="normal"),void 0===a&&(a=!1),void 0===s&&(s=1),void 0===u&&(u=null),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0);var T={mix:n,blend:o,grayscale:a,contrast:s,"saturation-offset":c,"brightness-offset":h,"blur-radius":f};null!=u&&(T[t.PROPERTY_COLOR_OPERATION]=u),l.super_init(this,r.ImageFilter,r.ImageFilter.prototype.init_37f0,i,t.KIND,l.clone(T)),this.style=e},className:{get:function(){return t.SCHEMA_CLASS_NAME}},mix:{get:function(){var e;return(e=l.as(this.get(t.PROPERTY_MIX),"Double"))||null!=e?e:1},set:function(e){l.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_MIX,e),l.opt(this.style,(function(t){return t.notifyAfter()}))}},blend:{get:function(){var e;return(e=l.as(this.get(t.PROPERTY_BLEND),"String"))||null!=e?e:"normal"},set:function(e){l.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_BLEND,e),l.opt(this.style,(function(t){return t.notifyAfter()}))}},grayscale:{get:function(){var e;return!(!(e=l.as(this.get(t.PROPERTY_GRAYSCALE),"Bool"))&&null==e)&&e},set:function(e){l.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_GRAYSCALE,e),l.opt(this.style,(function(t){return t.notifyAfter()}))}},contrast:{get:function(){var e;return(e=l.as(this.get(t.PROPERTY_CONTRAST),"Double"))||null!=e?e:1},set:function(e){l.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_CONTRAST,e),l.opt(this.style,(function(t){return t.notifyAfter()}))}},blurRadius:{get:function(){var e;return(e=l.as(this.get(t.PROPERTY_BLUR_RADIUS),"Double"))||null!=e?e:0},set:function(e){l.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_BLUR_RADIUS,e),l.opt(this.style,(function(t){return t.notifyAfter()}))}},colorOperation:{get:function(){var e;return(e=l.as(this.get(t.PROPERTY_COLOR_OPERATION),"String"))||null!=e?e:""}},saturation:{get:function(){var e;return l.toString((e=l.as(this.get(t.PROPERTY_SATURATION_OFFSET),"Double"))||null!=e?e:0)}},brightness:{get:function(){var e;return l.toString((e=l.as(this.get(t.PROPERTY_BRIGHTNESS_OFFSET),"Double"))||null!=e?e:0)}},equals:function(e){var i;return!!(i=l.as(e,t))&&(this.name==l.opt(e,(function(t){return t.name}))&&this.mix==i.mix&&this.blurRadius==i.blurRadius)},asString:{get:function(){return r.ImageFilter._getters.asString.call(this)+" "+this.mix+" blend:"+this.blend+" grayscale:"+this.grayscale+" contrast:"+this.contrast+" blurRadius:"+this.blurRadius+" colorOperation:"+this.colorOperation+" saturation:"+this.saturation+" brightness:"+this.brightness}}}}),t}()},"c+uM":function(t,e,i){var n,o,r=e,l=i("oAGj"),a=i("qsM9"),s=i("SpAV"),u=i("ascj"),c=i("fVJ2"),h=i("dJuF"),f=i("13MC"),T=i("QbzR"),d=i("ZhwN"),_=i("iCxV"),p=i("VDg0"),R=i("3DEm"),P=i("Zifs"),g=i("35Q0"),y=i("EoOi"),S=i("VJ9E"),E=i("BgH2"),m=i("oKI3");r.OpacityRule=l.defineEnum("OpacityRule",{UNSET:-1,Full:0,MediumBacking:1,FaintBacking:2,Medium:3,Faint:4,UseLockupOpacities:5,Count:6}),r.LockupLayout=l.defineEnum("LockupLayout",{SKIP:-2,UNSET:-1,FitJustified:0,LegacyLeft:1,LegacyRight:2,LegacyCenter:3,Standard:4,LetterGrid:5,Path:6,Auto:7}),r.LockupAlignment=l.defineEnum("LockupAlignment",{SKIP:-2,UNSET:-1,Left:0,Right:1,Center:2,Auto:3}),r.VerticalLockupAlignment=l.defineEnum("VerticalLockupAlignment",{UNSET:-1,Top:0,Bottom:1,VerticalCenter:2}),r.LockupBacking=l.defineEnum("LockupBacking",{UNSET:-1,None:0,Frame:1,Rows:2,Box:3,LegacyShadow:4,Banner:5,LeftRight:6,SVGBackground:7,BannerVertical:8,BannerHorizontal:9,TopBottom:10,Knockout:11}),r.LockupTextLook=l.defineEnum("LockupTextLook",{SKIP:-2,UNSET:-1,Fill:0,KnockoutOnly:1,KnockoutAndOutline:2,OutlineOnly:3,FillAndOutline:4,FillAndOutline2:5,KnockoutAndFill:6,Shadow:7,ShadowAndOutline:8,KnockoutAndShadow:9}),r.LockupStyle=(n=function(){this.cachedCharacterStyles_=null},o={},l.defineClass({name:"LockupStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"LockupStyle"}},KIND:{get:function(){return"LockupStyle"}},DEFAULT_PADDING:.65,DEFAULT_SPACING:.35,DEFAULT_SHADOWOFFSET:.5,DEFAULT_STROKEWEIGHT:.1,DEFAULT_WHEELUSED:!1,DEFAULT_TRACKING:0,DEFAULT_TEXTOPACITY:1,DEFAULT_BACKINGOPACITY:1,DEFAULT_SHADOWANGLE:135,OPACITY_UNSET:-1,UNSET_FONT:null,UNSET_SPACING:-1,UNSET_TRACKING:-99,UNSET_PADDING:0,UNSET_BACKING:{get:function(){return void 0===o.UNSET_BACKING&&(o.UNSET_BACKING=r.LockupBacking.None),o.UNSET_BACKING}},UNSET_LAYOUT:{get:function(){return void 0===o.UNSET_LAYOUT&&(o.UNSET_LAYOUT=r.LockupLayout.UNSET),o.UNSET_LAYOUT}},UNSET_OPACITY_RULE:{get:function(){return void 0===o.UNSET_OPACITY_RULE&&(o.UNSET_OPACITY_RULE=r.OpacityRule.UNSET),o.UNSET_OPACITY_RULE}},UNSET_BACKING_ARTWORK_ID:null,UNSET_SHADOW_ANGLE:-1,UNSET_TEXT_OPACITY:{get:function(){return void 0===o.UNSET_TEXT_OPACITY&&(o.UNSET_TEXT_OPACITY=n.OPACITY_UNSET),o.UNSET_TEXT_OPACITY}},UNSET_BACKING_OPACITY:{get:function(){return void 0===o.UNSET_BACKING_OPACITY&&(o.UNSET_BACKING_OPACITY=n.OPACITY_UNSET),o.UNSET_BACKING_OPACITY}},UNSET_TEXT_LOOK:{get:function(){return void 0===o.UNSET_TEXT_LOOK&&(o.UNSET_TEXT_LOOK=r.LockupTextLook.UNSET),o.UNSET_TEXT_LOOK}},UNSET_SHADOW_OFFSET:-1,UNSET_STROKE_WEIGHT:-1,UNSET_LAYOUT_VARIATION:{get:function(){return void 0===o.UNSET_LAYOUT_VARIATION&&(o.UNSET_LAYOUT_VARIATION=y.TypographyVariation.Unset),o.UNSET_LAYOUT_VARIATION}},PROPERTY_FONTS:"fonts",PROPERTY_SPACING:"spacing",PROPERTY_TRACKING:"tracking",PROPERTY_PADDING:"padding",PROPERTY_BACKING:"backing",PROPERTY_LAYOUT:"layout",PROPERTY_ALIGNMENT:"alignment",PROPERTY_VERTICAL_ALIGNMENT:"verticalAlignment",PROPERTY_OPACITY_RULE:"opacityRule",PROPERTY_BACKING_ARTWORK_ID:"backingArtworkID",PROPERTY_SHADOW_ANGLE:"shadowAngle",PROPERTY_COLORS_DEPRECATED:"colors",PROPERTY_TEXT_OPACITY:"text-opacity",PROPERTY_BACKING_OPACITY:"backing-opacity",PROPERTY_KNOCKOUT:"knockout",PROPERTY_CHARSTYLES:"character-styles",PROPERTY_SHADOW_OFFSET:"shadowOffset",PROPERTY_STROKE_WEIGHT:"strokeWeight",PROPERTY_LINEBREAK:"linebreak",PROPERTY_PATH_ID:"pathID",PROPERTY_CUSTOM_PATH:"customPath",PROPERTY_LAYOUT_VARIATION:"layoutVariation",PROPERTY_WHEELUSED:"wheel-used",unsetCharacterStyleProperties:{get:function(){return void 0===o.unsetCharacterStyleProperties&&(o.unsetCharacterStyleProperties=l.dict([n.PROPERTY_SPACING,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(n.PROPERTY_SPACING),n.UNSET_SPACING,!0),n.PROPERTY_TRACKING,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(n.PROPERTY_TRACKING),n.UNSET_TRACKING,!0),n.PROPERTY_PADDING,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(n.PROPERTY_PADDING),n.UNSET_PADDING,!0),n.PROPERTY_BACKING,h.DBProperty.intProperty(h.DBNamePath.init_b14a(n.PROPERTY_BACKING),n.UNSET_BACKING,!0),n.PROPERTY_SHADOW_ANGLE,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(n.PROPERTY_SHADOW_ANGLE),n.UNSET_SHADOW_ANGLE,!0),n.PROPERTY_LAYOUT,h.DBProperty.intProperty(h.DBNamePath.init_b14a(n.PROPERTY_LAYOUT),n.UNSET_LAYOUT,!0),n.PROPERTY_OPACITY_RULE,h.DBProperty.intProperty(h.DBNamePath.init_b14a(n.PROPERTY_OPACITY_RULE),n.UNSET_OPACITY_RULE,!0),n.PROPERTY_TEXT_OPACITY,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(n.PROPERTY_TEXT_OPACITY),n.UNSET_TEXT_OPACITY,!0),n.PROPERTY_BACKING_OPACITY,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(n.PROPERTY_BACKING_OPACITY),n.UNSET_BACKING_OPACITY,!0),n.PROPERTY_KNOCKOUT,h.DBProperty.intProperty(h.DBNamePath.init_b14a(n.PROPERTY_KNOCKOUT),n.UNSET_TEXT_LOOK,!0),n.PROPERTY_SHADOW_OFFSET,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(n.PROPERTY_SHADOW_OFFSET),n.UNSET_SHADOW_OFFSET,!0),n.PROPERTY_STROKE_WEIGHT,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(n.PROPERTY_STROKE_WEIGHT),n.UNSET_STROKE_WEIGHT,!0),n.PROPERTY_LAYOUT_VARIATION,h.DBProperty.intProperty(h.DBNamePath.init_b14a(n.PROPERTY_LAYOUT_VARIATION),n.UNSET_LAYOUT_VARIATION,!0)])),o.unsetCharacterStyleProperties}},factory:{get:function(){return function(t,e,i,o){return n.init_866e(i,t)}}},characterStyleSchemaClassName:"CharacterStyle",characterStyleCodec:{get:function(){return void 0===o.characterStyleCodec&&(o.characterStyleCodec=h.DBPropertyCodec.registerCodec(n.characterStyleSchemaClassName,h.DBPropertyCodec.init_a58a((function(t,e,i){var o,r=h.DBProperty.deleted(t);return(o=l.as(e,n))?(r=h.DBProperty.dictEncoded(t,l.clone(o.state.allProperties),o.className),null==i||o.isChildObject||i.addChildObject(o,t)):s.CoreAssert.fail("Expected LockupStyle: "+e,"LockupStyle","LockupStyle.swift",206),r}),(function(t,e){var i,o=null;if(null!=(i=l.opt(t,(function(t){return t.className})))){var r,a,_,p=d.GUIDUtils.makeGUID();if(r=l.opt(t,(function(t){return t.namePath})))o=(_=l.as(e,c.DBObject))?l.as(_.createChildObject(n.SCHEMA_CLASS_NAME,r),n):n.init_866e(f.DBChildObjectState.init_94ed(e,r),p);else if(a=l.opt(t,(function(t){return t.dictionaryValue}))){var R=l.clone(n.unsetCharacterStyleProperties);s.CoreAssert.isTrue(i==n.characterStyleSchemaClassName||i==n.SCHEMA_CLASS_NAME,"Unexpected schema description for character style","LockupStyle","LockupStyle.swift",224),R[T.FormaStyle.PROPERTY_COLORS]=u.ColorTable.codec.encode(h.DBNamePath.init_b14a(T.FormaStyle.PROPERTY_COLORS),u.ColorTable.init_25f6([{key:u.ColorRole.FieldPrimary,value:"themeColor0"},{key:u.ColorRole.FieldSecondary,value:"themeColor1"}]),null),l.each(a,(function(t,e){R[t]=e})),o=n.init_dd5d(l.clone(R),{})}}return o}),n.characterStyleSchemaClassName))),o.characterStyleCodec}},createDefault:function(){var t=S.TheoFont.init_9e5c(_.Host.textModelUtils.defaultFont()),e=u.ColorTable.init_25f6([{key:u.ColorRole.FieldPrimary,value:"themeColor0"},{key:u.ColorRole.FieldSecondary,value:"themeColor1"}]);return n.init_2885(n.DEFAULT_TEXTOPACITY,n.DEFAULT_BACKINGOPACITY,e,t,n.DEFAULT_SPACING,n.DEFAULT_TRACKING,n.DEFAULT_PADDING,r.LockupBacking.None,null,n.DEFAULT_SHADOWANGLE,r.LockupLayout.FitJustified,r.LockupAlignment.UNSET,y.TypographyVariation.Unset,r.OpacityRule.Full,r.LockupTextLook.Fill,n.DEFAULT_SHADOWOFFSET,n.DEFAULT_STROKEWEIGHT,void 0,void 0,n.DEFAULT_WHEELUSED,r.VerticalLockupAlignment.UNSET)},createDefaultCharacterStyle:function(t){var e=n.createDefault();return e.colorLibrary=t.colorLibrary,e.setEmptyStyle(),n.isKnockoutLook(t.textLook)?e.textLook=r.LockupTextLook.Fill:t.backing==r.LockupBacking.Rows&&t.padding<.4&&t.spacing>0&&(e.backing=r.LockupBacking.Rows,e.colors.setColorId(u.ColorRole.FieldPrimary,t.colors.colorID(u.ColorRole.FieldSecondary)),e.colors.setColorId(u.ColorRole.FieldSecondary,t.colors.colorID(u.ColorRole.FieldPrimary))),n.isLetterGrid(t.layout)&&(e.backing=r.LockupBacking.UNSET),e},isKnockoutLook:function(t){return t==r.LockupTextLook.KnockoutOnly||t==r.LockupTextLook.KnockoutAndOutline||t==r.LockupTextLook.KnockoutAndFill||t==r.LockupTextLook.KnockoutAndShadow},isOutlineLook:function(t){return t==r.LockupTextLook.KnockoutAndOutline||t==r.LockupTextLook.OutlineOnly||t==r.LockupTextLook.FillAndOutline||t==r.LockupTextLook.FillAndOutline2||t==r.LockupTextLook.ShadowAndOutline},isShadowLook:function(t){return t==r.LockupTextLook.Shadow||t==r.LockupTextLook.ShadowAndOutline||t==r.LockupTextLook.KnockoutAndShadow},isDuplicateFormaLook:function(t){return t==r.LockupTextLook.Shadow||t==r.LockupTextLook.ShadowAndOutline||t==r.LockupTextLook.FillAndOutline2||t==r.LockupTextLook.KnockoutAndShadow},doesLookColorMatchShapeColor:function(t){return t==r.LockupTextLook.Shadow||t==r.LockupTextLook.ShadowAndOutline||t==r.LockupTextLook.FillAndOutline||t==r.LockupTextLook.FillAndOutline2||t==r.LockupTextLook.OutlineOnly},isAutoLayout:function(t){return t==r.LockupLayout.Auto},isLetterGrid:function(t){return t==r.LockupLayout.LetterGrid},isPath:function(t){return t==r.LockupLayout.Path},layoutSupportsAlignments:function(t){return t==r.LockupLayout.LetterGrid||t==r.LockupLayout.Standard},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{description:{get:function(){var t="LockupStyle: ",e=l.clone(l.as(this.get(n.PROPERTY_FONTS),["Array",S.TheoFont])||[]);return t+=n.PROPERTY_FONTS+": "+(1==e.length?e[0].fontData.postScriptName:"<unset>")+" | "}},init_866e:function(t,e){l.super_init(this,T.FormaStyle,T.FormaStyle.prototype.init_866e,t,e),this.fixLegacyProperties(),l.opt(this.state.getProperty(n.PROPERTY_LAYOUT_VARIATION),(function(t){return t.shouldWrite=!1}))},init_dd5d:function(t,e){l.super_init(this,T.FormaStyle,T.FormaStyle.prototype.init_dd5d,l.clone(t),l.clone(e)),this.fixLegacyProperties(),l.opt(this.state.getProperty(n.PROPERTY_LAYOUT_VARIATION),(function(t){return t.shouldWrite=!1}))},init_2885:function(t,e,i,o,a,u,c,h,f,d,_,p,R,P,g,S,E,O,A,C,L){void 0===R&&(R=y.TypographyVariation.Unset),void 0===O&&(O=m.TextPathID.UNSET),void 0===A&&(A=null),void 0===C&&(C=n.DEFAULT_WHEELUSED),void 0===L&&(L=r.VerticalLockupAlignment.UNSET),(u<-1||u>1)&&s.CoreAssert.warning("Tracking must be between -1 and 1.");var N=Math.max(-1,Math.min(1,u));(c<-.5||c>1)&&s.CoreAssert.warning("Padding must be between 0 and 1.");var v=Math.max(-.5,Math.min(1,c));null==f&&h!=r.LockupBacking.SVGBackground||null!=f&&h==r.LockupBacking.SVGBackground||s.CoreAssert.warning("error backingArtwordID / SVGBackground"),s.CoreAssert.isFalse(_==r.LockupLayout.SKIP||_==r.LockupLayout.LegacyLeft||_==r.LockupLayout.LegacyCenter||_==r.LockupLayout.LegacyRight,"Unexpected LockupLayout value: "+_,"LockupStyle.init","LockupStyle.swift",285),s.CoreAssert.isFalse(p==r.LockupAlignment.SKIP,"Unexpected LockupAlignment value: "+p,"LockupStyle.init","LockupStyle.swift",287),n.isPath(_)?(O==m.TextPathID.Custom&&null==A||O!=m.TextPathID.Custom&&null!=A)&&s.CoreAssert.warning("pathID/customPath mismatch"):O==m.TextPathID.UNSET&&null==A||s.CoreAssert.warning("Why are we providing a path or path id with a non-path layout?");var I={fonts:[o],spacing:a,tracking:N,padding:v,backing:h,shadowAngle:d,shadowOffset:S,strokeWeight:E,layout:_,alignment:p,verticalAlignment:L,opacityRule:P,"text-opacity":t,"backing-opacity":e,knockout:g,pathID:O,layoutVariation:R,"wheel-used":C};null!=f&&(I[n.PROPERTY_BACKING_ARTWORK_ID]=f),null!=A&&(I[n.PROPERTY_CUSTOM_PATH]=A),R!=y.TypographyVariation.Unset&&(I[n.PROPERTY_LAYOUT_VARIATION]=R),l.super_init(this,T.FormaStyle,T.FormaStyle.prototype.init_5afe,n.KIND,1,i,null,null,l.clone(I)),l.opt(this.state.getProperty(n.PROPERTY_LAYOUT_VARIATION),(function(t){return t.shouldWrite=!1}))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},willChangeState:function(t){var e;if(T.FormaStyle.prototype.willChangeState.call(this,l.clone(t)),l.keys(t).includes(n.PROPERTY_CHARSTYLES)&&(e=this.cachedCharacterStyles_)){for(var i=l.iter(e);!i.done;i.next())i.value.colorLibrary=null;this.cachedCharacterStyles_=null}},didChangeState:function(t){T.FormaStyle.prototype.didChangeState.call(this,l.clone(t)),l.keys(t).includes(n.PROPERTY_CHARSTYLES)&&l.clone(this.characterStyles)},fixLegacyProperties:function(){var t,e,i,o=l.opt(this.getProperty(T.FormaStyle.PROPERTY_OPACITY),(function(t){return t.doubleValue})),u=null==o?1:o,c=l.opt(this.getProperty(n.PROPERTY_TEXT_OPACITY),(function(t){return t.doubleValue})),h=l.opt(this.getProperty(n.PROPERTY_BACKING_OPACITY),(function(t){return t.doubleValue}));if(null!=c?s.CoreAssert.isTrue(1==u,"for legacy ","LockupStyle.fixLegacyProperties","LockupStyle.swift",424):null!=o&&(this.textOpacity=u),this.set(T.FormaStyle.PROPERTY_OPACITY,1),this.backing==r.LockupBacking.None&&1!=this.backingOpacity&&1==this.textOpacity&&(this.textOpacity=this.backingOpacity),null==c&&this.textOpacity!=n.OPACITY_UNSET&&o==h&&(this.backingOpacity=u),this.backing==r.LockupBacking.LegacyShadow&&(this.backing=r.LockupBacking.None,this.textLook=r.LockupTextLook.Shadow,this.shadowOffset=this.padding+.48,this.shadowOffset>1&&(this.shadowOffset=1)),(t=l.opt(this.getProperty(n.PROPERTY_COLORS_DEPRECATED),(function(t){return t.arrayValue})))&&(t.length>=1&&(this.colors.fieldPrimary=l.as(a.Codecs.solidColorCodec.decode(t[0],this),P.SolidColor)),t.length>=2&&(this.colors.fieldSecondary=l.as(a.Codecs.solidColorCodec.decode(t[1],this),P.SolidColor))),null!=(e=l.opt(this.getProperty(n.PROPERTY_LAYOUT),(function(t){return t.intValue})))&&null!=(i=r.LockupLayout.toCaseValue(e)))switch(i){case 3:this.set(n.PROPERTY_LAYOUT,r.LockupLayout.Standard),this.set(n.PROPERTY_ALIGNMENT,r.LockupAlignment.Center);break;case 1:this.set(n.PROPERTY_LAYOUT,r.LockupLayout.Standard),this.set(n.PROPERTY_ALIGNMENT,r.LockupAlignment.Left);break;case 2:this.set(n.PROPERTY_LAYOUT,r.LockupLayout.Standard),this.set(n.PROPERTY_ALIGNMENT,r.LockupAlignment.Right)}},setEmptyStyle:function(){this.font=null,this.spacing=-1,this.tracking=n.UNSET_TRACKING,this.padding=0,this.backing=r.LockupBacking.None,this.backingArtworkID=null,this.shadowAngle=-1,this.layout=r.LockupLayout.UNSET,this.layoutVariation=y.TypographyVariation.Unset,this.opacityRule=r.OpacityRule.UNSET,this.textOpacity=n.OPACITY_UNSET,this.backingOpacity=n.OPACITY_UNSET,this.textLook=r.LockupTextLook.UNSET,this.shadowOffset=-1,this.strokeWeight=-1;for(var t=[n.PROPERTY_SPACING,n.PROPERTY_TRACKING,n.PROPERTY_SHADOW_ANGLE,n.PROPERTY_SHADOW_OFFSET,n.PROPERTY_LAYOUT,n.PROPERTY_OPACITY_RULE,n.PROPERTY_TEXT_OPACITY,n.PROPERTY_BACKING_OPACITY,n.PROPERTY_KNOCKOUT,n.PROPERTY_STROKE_WEIGHT,n.PROPERTY_LAYOUT_VARIATION],e=l.iter(t);!e.done;e.next()){var i=e.value;l.opt(this.state.getProperty(i),(function(t){return t.shouldWrite=!1}))}},needsLayout:function(t){return t.backing!=this.backing||!l.eq(S._equality_TheoFont_TheoFont,t.font,this.font)||t.layout!=this.layout||t.alignment!=this.alignment||t.verticalAlignment!=this.verticalAlignment||t.pathID!=this.pathID||t.customPath!=this.customPath||t.layoutVariation!=this.layoutVariation||t.padding!=this.padding||t.spacing!=this.spacing||t.tracking!=this.tracking||t.textLook!=this.textLook||t.strokeWeight!=this.strokeWeight||t.shadowOffset!=this.shadowOffset||t.lineBreakAtCharacterStyleSizeChange!=this.lineBreakAtCharacterStyleSizeChange},sameColors:function(t){if(!l.eq(P._equality_SolidColor_SolidColor,t.colors.fieldPrimary,this.colors.fieldPrimary)||!l.eq(P._equality_SolidColor_SolidColor,t.colors.fieldSecondary,this.colors.fieldSecondary))return!1;for(var e=l.iter(this.characterStyles);!e.done;e.next()){var i,n=e.key,o=e.value;if(!(i=t.characterStyles[n]))return!1;if(!l.eq(P._equality_SolidColor_SolidColor,i.colors.fieldPrimary,o.colors.fieldPrimary)||!l.eq(P._equality_SolidColor_SolidColor,i.colors.fieldSecondary,o.colors.fieldSecondary))return!1}return!0},colorLibrary:{get:function(){return T.FormaStyle._getters.colorLibrary.call(this)},set:function(t){T.FormaStyle._setters.colorLibrary.call(this,t);for(var e=l.iter(this.characterStyles);!e.done;e.next())e.value.colorLibrary=t}},ensureCachedCharacterStyles:function(){var t;if(null==this.cachedCharacterStyles_&&(this.cachedCharacterStyles_={},t=l.opt(this.getProperty(n.PROPERTY_CHARSTYLES),(function(t){return t.dictionaryValue}))))for(var e=l.iter(t);!e.done;e.next()){var i,o=e.key,r=e.value;(i=l.as(n.characterStyleCodec.decode(r,this),n))&&(i.colorLibrary=this.colorLibrary,this.cachedCharacterStyles_[o]=i)}},characterStyles:{get:function(){return this.ensureCachedCharacterStyles(),this.cachedCharacterStyles_}},setCharacterStyles:function(t){var e;if(e=this.cachedCharacterStyles_)for(var i=l.iter(e);!i.done;i.next())(a=i.value).colorLibrary=null;this.cachedCharacterStyles_=l.clone(t);for(var o={},r=l.iter(t);!r.done;r.next()){var a,s=r.key;(a=r.value).colorLibrary=this.colorLibrary,o[s]=n.characterStyleCodec.encode(h.DBNamePath.init_b14a(n.PROPERTY_CHARSTYLES).append(s),a,this)}this.setProperty(n.PROPERTY_CHARSTYLES,h.DBProperty.dictProperty(h.DBNamePath.init_b14a(n.PROPERTY_CHARSTYLES),l.clone(o)))},setCharacterStyle:function(t,e){this.ensureCachedCharacterStyles(),this.cachedCharacterStyles_[t]=e,e.colorLibrary=this.colorLibrary;for(var i={},o=l.iter(this.cachedCharacterStyles_);!o.done;o.next()){var r=o.key;e=o.value,i[r]=n.characterStyleCodec.encode(h.DBNamePath.init_b14a(n.PROPERTY_CHARSTYLES).append(r),e,this)}this.setProperty(n.PROPERTY_CHARSTYLES,h.DBProperty.dictProperty(h.DBNamePath.init_b14a(n.PROPERTY_CHARSTYLES),l.clone(i)))},spacing:{get:function(){var t;return(t=l.as(this.get(n.PROPERTY_SPACING),"Double"))||null!=t?t:n.DEFAULT_SPACING},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_SPACING,t),this.notifyAfter()}},tracking:{get:function(){var t;return(t=l.as(this.get(n.PROPERTY_TRACKING),"Double"))||null!=t?t:n.UNSET_TRACKING},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_TRACKING,t),this.notifyAfter()}},textLook:{get:function(){var t,e;return(t=r.LockupTextLook.toCaseValue((e=l.as(this.get(n.PROPERTY_KNOCKOUT),"Int"))||null!=e?e:r.LockupTextLook.Fill))||null!=t?t:r.LockupTextLook.Fill},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_KNOCKOUT,t),this.notifyAfter()}},padding:{get:function(){var t;return(t=l.as(this.get(n.PROPERTY_PADDING),"Double"))||null!=t?t:n.DEFAULT_PADDING},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_PADDING,t),this.notifyAfter()}},backing:{get:function(){var t,e;return(t=r.LockupBacking.toCaseValue((e=l.as(this.get(n.PROPERTY_BACKING),"Int"))||null!=e?e:r.LockupBacking.None))||null!=t?t:r.LockupBacking.Box},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_BACKING,t),this.notifyAfter()}},opacityRule:{get:function(){var t,e;return(t=r.OpacityRule.toCaseValue((e=l.as(this.get(n.PROPERTY_OPACITY_RULE),"Int"))||null!=e?e:r.OpacityRule.UNSET))||null!=t?t:r.OpacityRule.Full},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_OPACITY_RULE,t),this.notifyAfter()}},opacity:{get:function(){return 1},set:function(t){s.CoreAssert.fail("opacity being set. use controller's applyOpacity instead","LockupStyle","LockupStyle.swift",686)}},textOpacity:{get:function(){var t;return(t=l.as(this.get(n.PROPERTY_TEXT_OPACITY),"Double"))||null!=t?t:n.UNSET_TEXT_OPACITY},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_TEXT_OPACITY,t),this.notifyAfter()}},backingOpacity:{get:function(){var t;return(t=l.as(this.get(n.PROPERTY_BACKING_OPACITY),"Double"))||null!=t?t:n.UNSET_BACKING_OPACITY},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_BACKING_OPACITY,t),this.notifyAfter()}},layout:{get:function(){var t,e;return(t=r.LockupLayout.toCaseValue((e=l.as(this.get(n.PROPERTY_LAYOUT),"Int"))||null!=e?e:r.LockupLayout.UNSET))||null!=t?t:r.LockupLayout.FitJustified},set:function(t){s.CoreAssert.isFalse(t==r.LockupLayout.SKIP||t==r.LockupLayout.LegacyLeft||t==r.LockupLayout.LegacyCenter||t==r.LockupLayout.LegacyRight,"Unexpected LockupLayout value: "+t,"LockupStyle","LockupStyle.swift",711),this.notifyBefore(),this.set(n.PROPERTY_LAYOUT,t),this.notifyAfter()}},alignment:{get:function(){var t,e;return(t=r.LockupAlignment.toCaseValue((e=l.as(this.get(n.PROPERTY_ALIGNMENT),"Int"))||null!=e?e:r.LockupAlignment.UNSET))||null!=t?t:r.LockupAlignment.UNSET},set:function(t){s.CoreAssert.isFalse(t==r.LockupAlignment.SKIP,"LockupAlignment.SKIP is not a settable value","LockupStyle","LockupStyle.swift",725),this.notifyBefore(),this.set(n.PROPERTY_ALIGNMENT,t),this.notifyAfter()}},verticalAlignment:{get:function(){var t,e;return(t=r.VerticalLockupAlignment.toCaseValue((e=l.as(this.get(n.PROPERTY_VERTICAL_ALIGNMENT),"Int"))||null!=e?e:r.VerticalLockupAlignment.UNSET))||null!=t?t:r.VerticalLockupAlignment.UNSET},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_VERTICAL_ALIGNMENT,t),this.notifyAfter()}},pathID:{get:function(){var t,e;return(t=m.TextPathID.toCaseValue((e=l.as(this.get(n.PROPERTY_PATH_ID),"Int"))||null!=e?e:m.TextPathID.UNSET))||null!=t?t:m.TextPathID.UNSET},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_PATH_ID,t),this.notifyAfter()}},customPath:{get:function(){return l.as(this.get(n.PROPERTY_CUSTOM_PATH),E.TextPath)},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_CUSTOM_PATH,t),this.notifyAfter()}},layoutVariation:{get:function(){var t,e;return(t=y.TypographyVariation.toCaseValue((e=l.as(this.get(n.PROPERTY_LAYOUT_VARIATION),"Int"))||null!=e?e:y.TypographyVariation.Unset))||null!=t?t:y.TypographyVariation.Unset},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_LAYOUT_VARIATION,t),this.notifyAfter()}},backingArtworkID:{get:function(){return l.as(this.get(n.PROPERTY_BACKING_ARTWORK_ID),"String")},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_BACKING_ARTWORK_ID,t),this.notifyAfter()}},shadowAngle:{get:function(){var t;return(t=l.as(this.get(n.PROPERTY_SHADOW_ANGLE),"Double"))||null!=t?t:n.UNSET_SHADOW_ANGLE},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_SHADOW_ANGLE,t),this.notifyAfter()}},shadowOffset:{get:function(){var t;return(t=l.as(this.get(n.PROPERTY_SHADOW_OFFSET),"Double"))||null!=t?t:n.DEFAULT_SHADOWOFFSET},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_SHADOW_OFFSET,t),this.notifyAfter()}},defaultStrokeWeight:{get:function(){return this.textLook==r.LockupTextLook.KnockoutAndOutline?0:n.DEFAULT_STROKEWEIGHT}},strokeWeight:{get:function(){var t;return(t=l.as(this.get(n.PROPERTY_STROKE_WEIGHT),"Double"))||null!=t?t:this.defaultStrokeWeight},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_STROKE_WEIGHT,t),this.notifyAfter()}},wheelUsed:{get:function(){var t;return(t=l.as(this.get(n.PROPERTY_WHEELUSED),"Bool"))||null!=t?t:n.DEFAULT_WHEELUSED},set:function(t){this.set(n.PROPERTY_WHEELUSED,t)}},font:{get:function(){var t,e=null;return(t=l.as(this.get(n.PROPERTY_FONTS),["Array",S.TheoFont]))&&(s.CoreAssert.isTrue(t.length<=1,"should only have 1 or 0 fonts","LockupStyle","LockupStyle.swift",815),t.forEach((function(t){e=t}))),e},set:function(t){this.notifyBefore(),null!=t?this.set(n.PROPERTY_FONTS,[t]):this.set(n.PROPERTY_FONTS,null),this.notifyAfter()}},lineBreakAtCharacterStyleSizeChange:{get:function(){var t;return!(t=l.as(this.get(n.PROPERTY_LINEBREAK),"Bool"))&&null==t||t},set:function(t){this.set(n.PROPERTY_LINEBREAK,t)}},setBacking:function(t,e){this.notifyBefore(),this.set(n.PROPERTY_BACKING,t),this.set(n.PROPERTY_BACKING_ARTWORK_ID,e),this.notifyAfter()},colorTableSupportsRole:function(t){return t==u.ColorRole.FieldPrimary||t==u.ColorRole.FieldSecondary},layoutType:{get:function(){if(this.layout==r.LockupLayout.FitJustified)return"justified";if(this.layout==r.LockupLayout.Standard)switch(this.alignment){case 0:return"left";case 2:return"center";case 1:return"right";default:return"error"}return this.layout==r.LockupLayout.Path?"path":this.layout==r.LockupLayout.LetterGrid?"letter-grid":"error"}},backingShapeID:{get:function(){return this.backing==r.LockupBacking.None?"none":this.backing==r.LockupBacking.Rows?"rows":this.backing==r.LockupBacking.BannerHorizontal||this.backing==r.LockupBacking.BannerVertical||this.backing==r.LockupBacking.Banner?"banner":this.backing==r.LockupBacking.SVGBackground?null!=this.backingArtworkID?this.backingArtworkID:"error":this.backing==r.LockupBacking.Knockout?"knockout":"error"}},textLookAsString:{get:function(){var t;switch(this.textLook){case 1:t="knockoutOnly";break;case 2:t="knockoutAndOutline";break;case 3:t="outlineOnly";break;case 4:t="fillAndOutline";break;case 5:t="fillAndOutline2";break;case 7:t="shadow";break;case 8:t="shadowAndOutline";break;case 9:t="knockoutAndShadow";break;case 0:t="fill";break;case-1:t="unset";break;case-2:t="skip";break;default:t="unknown value"}return t}},currentTextOpacity:{get:function(){return this.opacityRule==r.OpacityRule.UseLockupOpacities?this.textOpacity:this.opacityRule==r.OpacityRule.Faint?p.kOpacityRuleFaintAlpha:this.opacityRule==r.OpacityRule.Medium?p.kOpacityRuleMediumAlpha:1}},currentBackingOpacity:{get:function(){return this.opacityRule==r.OpacityRule.UseLockupOpacities?this.backingOpacity:this.opacityRule==r.OpacityRule.FaintBacking||this.opacityRule==r.OpacityRule.Faint?p.kOpacityRuleFaintAlpha:this.opacityRule==r.OpacityRule.MediumBacking||this.opacityRule==r.OpacityRule.Medium?p.kOpacityRuleMediumAlpha:1}},textBacked:{get:function(){return this.backing==r.LockupBacking.Box||this.backing==r.LockupBacking.Rows||this.backing==r.LockupBacking.BannerVertical||this.backing==r.LockupBacking.BannerHorizontal||this.textLook==r.LockupTextLook.ShadowAndOutline&&this.strokeWeight>.15||!(this.backing!=r.LockupBacking.SVGBackground||!g.ShapeLibrary.FilledBackingShapes.includes(this.backingArtworkID))}},shapeSupportsKnockout:{get:function(){return this.backing==r.LockupBacking.Box||this.backing==r.LockupBacking.Rows||this.backing==r.LockupBacking.BannerVertical||this.backing==r.LockupBacking.BannerHorizontal||this.backing==r.LockupBacking.Knockout||!(this.backing!=r.LockupBacking.SVGBackground||!g.ShapeLibrary.FilledBackingShapes.includes(this.backingArtworkID))}},secondaryColorVisible:{get:function(){return this.backing!=r.LockupBacking.None||n.isOutlineLook(this.textLook)||this.textLook==r.LockupTextLook.Shadow}},asString:{get:function(){var t="";return null!=this.font&&(t+="Font: "+this.font.fontData.postScriptName+"\n"),(t+=this.colors.asString)+" Spacing "+this.spacing+" \n Backing  "+this.backing+" \n Layout  "+this.layout+" \n OpacityRule  "+this.opacityRule+" "}},isEqual:function(t){return!1},getCompressedStringOfFeatures:function(){var t=l.clone(this.state.allProperties);return this.compressDictToString(l.clone(t),"{")},compressDictToString:function(t,e){for(var i=e,o=[T.FormaStyle.PROPERTY_ADJUSTMENTS,T.FormaStyle.PROPERTY_KIND],r=[n.PROPERTY_FONTS,T.FormaStyle.PROPERTY_COLORS],a=l.iter(l.keys(t));!a.done;a.next()){var s=a.value;if(!o.includes(s)){var u,c=this.getSmallKey(s);if(r.includes(s))i=this.handleSpecialCases(l.clone(t),s,c,i);else if(u=l.opt(t[s],(function(t){return t.dictionaryValue})))i+=c+"{|",i=this.compressDictToString(l.clone(u),i);else{if(l.opt(t[s],(function(t){return t.arrayValue})))continue;var h;if(null!=(h=l.opt(t[s],(function(t){return t.doubleValue})))){var f=R.MathUtils.roundDoubleToString(h,4);i+=c+":"+l.toString(f)+"|"}else null!=(f=l.opt(t[s],(function(t){return t.stringValue})))&&(i+=c+":"+f+"|")}}}return i+="}"},handleSpecialCases:function(t,e,i,o){var r,a,s=o;return e==n.PROPERTY_FONTS&&(r=l.as(this.get(n.PROPERTY_FONTS),["Array",S.TheoFont]))&&(s=this.compressFonts(l.clone(r),i,s)),e==T.FormaStyle.PROPERTY_COLORS&&(a=l.as(this.get(T.FormaStyle.PROPERTY_COLORS),u.ColorTable))&&(s=this.compressColorTable(a,i,s)),s},getSmallKey:function(t){var e=t.length;return e>4?t.substr(0,2)+t.substr(e-2,2):t},compressFonts:function(t,e,i){for(var n=i+e+":",o=l.iter(l.range(0,t.length,!1));!o.done;o.next()){var r=o.value,a=t[r].fontData.postScriptName;r<t.length-1?n+=a+",":n+=a+"|"}return n},compressColorTable:function(t,e,i){var n=this,o=i+e+":",r=!1;return t.forEachColor((function(t,e,i){var a;if(a=i||l.opt(n.colorLibrary.color(e),(function(t){return t.rgbColor}))){var s="";t==u.ColorRole.FieldPrimary?s="prim":t==u.ColorRole.FieldSecondary&&(s="seco"),r&&(o+=","),o+=s+"#"+a.rgbHex,r=!0}})),r&&(o+="|"),o}}}),n)},ftr0:function(t,e,i){var n,o=e,r=i("oAGj"),l=i("cZuM"),a=i("ascj"),s=i("QbzR"),u=i("Zifs"),c=i("35Q0");o.SeperatorStyle=r.defineEnum("SeperatorStyle",{None:0,Outer:1,Inner:2,BottomAll:3,FirstInner:4}),o.GroupLayoutMode=r.defineEnum("GroupLayoutMode",{None:0,Proportional:1,Flow:2}),o.AlignmentGroupStyle=(n=function(){this.scales_={}},r.defineClass({name:"AlignmentGroupStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"AlignmentGroupStyle"}},KIND:{get:function(){return"AlignmentGroupStyle"}},PROPERTY_LAYOUT_MODE:"layout-mode",PROPERTY_HORIZONTAL_ALIGNMENT:"horizontal-alignment",PROPERTY_VERTICAL_ALIGNMENT:"vertical-alignment",PROPERTY_SEPERATOR_STYLE:"seperator-style",PROPERTY_SEPERATOR_ARTWORK_ID:"seperator-artwork-id",PROPERTY_SEPERATOR_HEIGHT:"seperator-height",PROPERTY_BOTTOM_DISTANCES:"bottom-distances",PROPERTY_TOP_DISTANCES:"top-distances",PROPERTY_SPACING:"spacing",PROPERTY_PADDING:"padding",PROPERTY_MARGIN_LEFT:"margin-left",PROPERTY_MARGIN_RIGHT:"margin-right",PROPERTY_MARGIN_TOP:"margin-top",PROPERTY_MARGIN_BOTTOM:"margin-bottom",PROPERTY_BACKING_ARTWORK_ID:"backing-artwork-id",PROPERTY_NUM_COLUMNS:"num-columns",PROPERTY_ORDER:"order",factory:{get:function(){return function(t,e,i,o){return n.init_866e(i,t)}}},createDefault:function(){return n.init_aeab()},getTestingStyles:function(){var t=[];return t.push(n.init_aeab(void 0,l.AlignmentType.CenterX,l.AlignmentType.CenterY,30,0,null,c.ShapeLibrary.Square,c.ShapeLibrary.Square,o.SeperatorStyle.Inner,5,null,null,null,null,new u.SolidColor(1,0,0,1),new u.SolidColor(1,1,1,1))),t.push(n.init_aeab(void 0,l.AlignmentType.Left,l.AlignmentType.Top,100,0,null,c.ShapeLibrary.Square,c.ShapeLibrary.Square,o.SeperatorStyle.BottomAll,25,30,null,30,null,new u.SolidColor(.25,.5,.25,1),new u.SolidColor(1,1,1,1))),t.push(n.init_aeab(void 0,l.AlignmentType.CenterX,l.AlignmentType.CenterY,50,0,null,"circle_001",c.ShapeLibrary.Square,o.SeperatorStyle.FirstInner,5,null,null,100,100,new u.SolidColor(0,0,1,1),new u.SolidColor(1,1,1,1))),t.push(n.init_aeab(void 0,l.AlignmentType.Right,l.AlignmentType.Top,50,0,null,"inline_006",c.ShapeLibrary.Square,o.SeperatorStyle.Outer,10,null,50,null,50,new u.SolidColor(1,0,1,1),new u.SolidColor(1,1,1,1))),t},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){r.super_init(this,s.FormaStyle,s.FormaStyle.prototype.init_866e,t,e)},init_aeab:function(t,e,i,u,c,h,f,T,d,_,p,R,P,g,y,S){void 0===t&&(t=o.GroupLayoutMode.Flow),void 0===e&&(e=l.AlignmentType.CenterX),void 0===i&&(i=l.AlignmentType.CenterY),void 0===u&&(u=null),void 0===c&&(c=null),void 0===h&&(h=null),void 0===f&&(f=null),void 0===T&&(T=null),void 0===d&&(d=o.SeperatorStyle.None),void 0===_&&(_=null),void 0===p&&(p=null),void 0===R&&(R=null),void 0===P&&(P=null),void 0===g&&(g=null),void 0===y&&(y=null),void 0===S&&(S=null);var E=null==y&&null==S?a.ColorTable.createDefault():a.ColorTable.init_2768(y,S),m={"layout-mode":t,"horizontal-alignment":e,"vertical-alignment":i,"seperator-style":d};null!=u&&(m[n.PROPERTY_SPACING]=u),null!=c&&(m[n.PROPERTY_PADDING]=c),null!=h&&(m[n.PROPERTY_NUM_COLUMNS]=h),null!=f&&(m[n.PROPERTY_BACKING_ARTWORK_ID]=f),null!=T&&(m[n.PROPERTY_SEPERATOR_ARTWORK_ID]=T),null!=_&&(m[n.PROPERTY_SEPERATOR_HEIGHT]=_),null!=p&&(m[n.PROPERTY_MARGIN_LEFT]=p),null!=R&&(m[n.PROPERTY_MARGIN_RIGHT]=R),null!=P&&(m[n.PROPERTY_MARGIN_TOP]=P),null!=g&&(m[n.PROPERTY_MARGIN_BOTTOM]=g),r.super_init(this,s.FormaStyle,s.FormaStyle.prototype.init_5afe,n.KIND,1,E,null,null,r.clone(m))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},colorTableSupportsRole:function(t){return t==a.ColorRole.FieldPrimary||t==a.ColorRole.FieldSecondary},layoutMode:{get:function(){return o.GroupLayoutMode.toCaseValue(this.get(n.PROPERTY_LAYOUT_MODE))},set:function(t){this.set(n.PROPERTY_LAYOUT_MODE,t)}},topDistances:{get:function(){var t;return(t=r.as(this.get(n.PROPERTY_TOP_DISTANCES),["Dictionary","String","Double"]))||null!=t?t:{}}},order:{get:function(){var t;return(t=r.as(this.get(n.PROPERTY_ORDER),["Array","String"]))||null!=t?t:[]}},setOrder:function(t){this.set(n.PROPERTY_ORDER,r.clone(t))},bottomDistances:{get:function(){var t;return(t=r.as(this.get(n.PROPERTY_BOTTOM_DISTANCES),["Dictionary","String","Double"]))||null!=t?t:{}}},scales:{get:function(){return this.scales_}},setTopDistance:function(t,e){var i=r.clone(this.topDistances);i[t]=e,this.set(n.PROPERTY_TOP_DISTANCES,r.clone(i))},setBottomDistance:function(t,e){var i=r.clone(this.bottomDistances);i[t]=e,this.set(n.PROPERTY_BOTTOM_DISTANCES,r.clone(i))},setScale:function(t,e){this.scales_[t]=e},horizontalAlignment:{get:function(){return l.AlignmentType.toCaseValue(this.get(n.PROPERTY_HORIZONTAL_ALIGNMENT))},set:function(t){this.set(n.PROPERTY_HORIZONTAL_ALIGNMENT,t)}},verticalAlignment:{get:function(){return l.AlignmentType.toCaseValue(this.get(n.PROPERTY_VERTICAL_ALIGNMENT))},set:function(t){this.set(n.PROPERTY_VERTICAL_ALIGNMENT,t)}},spacing:{get:function(){return r.as(this.get(n.PROPERTY_SPACING),"Double")},set:function(t){this.set(n.PROPERTY_SPACING,t)}},padding:{get:function(){return r.as(this.get(n.PROPERTY_PADDING),"Double")},set:function(t){this.set(n.PROPERTY_PADDING,t)}},marginTop:{get:function(){return r.as(this.get(n.PROPERTY_MARGIN_TOP),"Double")},set:function(t){this.set(n.PROPERTY_MARGIN_TOP,t)}},marginBottom:{get:function(){return r.as(this.get(n.PROPERTY_MARGIN_BOTTOM),"Double")},set:function(t){this.set(n.PROPERTY_MARGIN_BOTTOM,t)}},marginLeft:{get:function(){return r.as(this.get(n.PROPERTY_MARGIN_LEFT),"Double")},set:function(t){this.set(n.PROPERTY_MARGIN_LEFT,t)}},marginRight:{get:function(){return r.as(this.get(n.PROPERTY_MARGIN_RIGHT),"Double")},set:function(t){this.set(n.PROPERTY_MARGIN_RIGHT,t)}},backingArtworkID:{get:function(){return r.as(this.get(n.PROPERTY_BACKING_ARTWORK_ID),"String")},set:function(t){this.set(n.PROPERTY_BACKING_ARTWORK_ID,t)}},seperatorStyle:{get:function(){return o.SeperatorStyle.toCaseValue(this.get(n.PROPERTY_SEPERATOR_STYLE))},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_SEPERATOR_STYLE,t),this.notifyAfter()}},seperatorArtworkID:{get:function(){return r.as(this.get(n.PROPERTY_SEPERATOR_ARTWORK_ID),"String")},set:function(t){this.set(n.PROPERTY_SEPERATOR_ARTWORK_ID,t)}},seperatorHeight:{get:function(){return r.as(this.get(n.PROPERTY_SEPERATOR_HEIGHT),"Double")},set:function(t){this.set(n.PROPERTY_SEPERATOR_HEIGHT,t)}},numColumns:{get:function(){return r.as(this.get(n.PROPERTY_NUM_COLUMNS),"Int")},set:function(t){this.set(n.PROPERTY_NUM_COLUMNS,t)}},removeChild:function(t){var e=r.clone(this.bottomDistances),i=r.clone(this.topDistances),o=r.clone(this.order);r.removeKey(e,t),r.removeKey(i,t),r.remove(o,t),this.set(n.PROPERTY_BOTTOM_DISTANCES,r.clone(e)),this.set(n.PROPERTY_TOP_DISTANCES,r.clone(i)),this.set(n.PROPERTY_ORDER,r.clone(o))},match:function(t){var e;(e=r.as(t,n))&&this.matchProperties(r.clone(e.state.allProperties))}}}),n)},ly3x:function(t,e,i){var n,o=e,r=i("oAGj"),l=i("ascj"),a=i("QbzR"),s=i("Zifs"),u=i("35Q0");o.ShapeGroupStyle=(n=function(){},r.defineClass({name:"ShapeGroupStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"ShapeGroupStyle"}},KIND:{get:function(){return"ShapeGroupStyle"}},DEFAULT_OPACITY:1,PROPERTY_ARTWORK_ID:"artwork-id",factory:{get:function(){return function(t,e,i,o){return n.init_866e(i,t)}}},createDefault:function(){return n.init_c413(s.SolidColor.WHITE,u.ShapeLibrary.Square)},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){r.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_866e,t,e)},init_c413:function(t,e){var i={};null!=e&&(i[n.PROPERTY_ARTWORK_ID]=e),r.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_5afe,n.KIND,n.DEFAULT_OPACITY,l.ColorTable.createDefault(),null,null,r.clone(i))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},colorTableSupportsRole:function(t){return t==l.ColorRole.FieldPrimary},backingArtworkID:{get:function(){return r.as(this.get(n.PROPERTY_ARTWORK_ID),"String")},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_ARTWORK_ID,t),this.notifyAfter()}}}}),n)},tQF8:function(t,e,i){var n,o=e,r=i("oAGj"),l=i("SpAV"),a=i("gXiO"),s=i("3DEm"),u=i("oKlP"),c=i("sIWg");o.GridCellHandle=r.defineEnum("GridCellHandle",{Left:0,Right:1,Top:2,Bottom:3,TopLeft:4,TopRight:5,BottomLeft:6,BottomRight:7}),o.GridCell=(n=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=1),this.region_=t,this.colorID_=e,this.opacity_=i,a.CoreObject.call(this)},r.defineClass({name:"GridCell",ctor:n,superName:"CoreObject",statics:{BOUNDS_ACCURACY:.001,positionForHandle:function(t){return t==o.GridCellHandle.Top?new u.TheoPoint(.5,0):t==o.GridCellHandle.Bottom?new u.TheoPoint(.5,1):t==o.GridCellHandle.Left?new u.TheoPoint(0,.5):t==o.GridCellHandle.Right?new u.TheoPoint(1,.5):t==o.GridCellHandle.TopLeft?new u.TheoPoint(0,0):t==o.GridCellHandle.TopRight?new u.TheoPoint(1,0):t==o.GridCellHandle.BottomLeft?new u.TheoPoint(0,1):t==o.GridCellHandle.BottomRight?new u.TheoPoint(1,1):(l.CoreAssert.fail("Incorrect handle type","GridCell.positionForHandle","GridCell.swift",170),new u.TheoPoint(.5,.5))},handlePositions:function(){return[n.positionForHandle(o.GridCellHandle.Top),n.positionForHandle(o.GridCellHandle.Bottom),n.positionForHandle(o.GridCellHandle.Left),n.positionForHandle(o.GridCellHandle.Right)]},handles:function(){return[o.GridCellHandle.Top,o.GridCellHandle.Bottom,o.GridCellHandle.Left,o.GridCellHandle.Right]},cornerHandles:function(){return[o.GridCellHandle.TopLeft,o.GridCellHandle.TopRight,o.GridCellHandle.BottomLeft,o.GridCellHandle.BottomRight]},handleForPosition:function(t){for(var e=r.iter(n.handles());!e.done;e.next()){var i=e.value;if(t.distanceTo(n.positionForHandle(i))<.001)return i}return l.CoreAssert.fail("Incorrect handle position","GridCell.handleForPosition","GridCell.swift",202),null},fromArray:function(t){if(0==t.length||t.length>3)return l.CoreAssert.fail("GridCell.fromArray: Array has incorrect # of elements","GridCell.fromArray","GridCell.swift",214),null;var e;if(e=c.TheoRect.decodeJson(r.as(t[0],"AnyObject"))){var i=t[1],o=null;return t.length>2&&(o=r.toString(t[2])),new n(e,o,i)}return null},decodeJson:function(t){return null==t?null:r.is(t,["Array","Any"])?n.fromArray(t):(l.CoreAssert.fail("GridCell: Not an array","GridCell.decodeJson","GridCell.swift",246),null)}},props:{bounds:{get:function(){return this.region_},set:function(t){this.region_=t}},colorID:{get:function(){return this.colorID_},set:function(t){this.colorID_=t}},opacity:{get:function(){return this.opacity_},set:function(t){this.opacity_=t}},clone:function(){return new n(this.region_,this.colorID_,this.opacity_)},flip:function(){return new n(new c.TheoRect(this.bounds.minY,this.bounds.minX,this.bounds.maxY,this.bounds.maxX),this.colorID_,this.opacity_)},copyTo:function(t,e,i){var o,r;return void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),new n(t||this.region_,(o=e)||null!=o?o:this.colorID_,(r=i)||null!=r?r:this.opacity_)},symmetricWith:function(t){var e=this.region_,i=t.bounds;if(e.equal(i))return!1;var n=new u.TheoPoint(1-e.center.x,e.center.y),o=new u.TheoPoint(e.center.x,1-e.center.y);return n.distanceTo(i.center)<.01||o.distanceTo(i.center)<.01},mergeableWith:function(t){var e=this.region_.unionWith(t.bounds);return!(this.region_.L1Distance(t.bounds)>.001)&&s.MathUtils.absDouble(e.area-(this.bounds.area+t.bounds.area))<.01},mergeWith:function(t){return l.CoreAssert.isTrue(this.mergeableWith(t),"cell must be adjacent","GridCell.mergeWith","GridCell.swift",140),this.copyTo(this.region_.unionWith(t.bounds))},handlePosition:function(t){return this.region_.eval(n.positionForHandle(t))},encode:function(){return l.CoreAssert.fail("GridCell: Use encodeJson(), not encode()","GridCell.encode","GridCell.swift",251),[]},encodeJson:function(){var t=[];return t.push(this.region_.encodeJson()),l.CoreAssert.isFalse(isNaN(this.opacity),"Can't persist NaN opacity value","GridCell.encodeJson","GridCell.swift",259),t.push(r.as(this.opacity,"AnyObject")),null!=this.colorID_&&t.push(r.as(this.colorID_,"AnyObject")),r.as(t,"AnyObject")},isEqual:function(t){var e;return!!(e=r.as(t,n))&&this.bounds.equalWithAccuracy(e.bounds,n.BOUNDS_ACCURACY)&&this.colorID==e.colorID&&this.opacity==e.opacity}}}),n),o._equality_GridCell_GridCell=function(t,e){return t.isEqual(e)}},u2iI:function(t,e,i){var n,o=e,r=i("oAGj"),l=i("ascj"),a=i("QbzR"),s=i("Zifs");o.ShapeStyle=(n=function(){this.deprecatedPrimaryColor=null},r.defineClass({name:"ShapeStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"ShapeStyle"}},KIND:{get:function(){return"ShapeStyle"}},PROPERTY_COLORS_DEPRECATED:"colors",factory:{get:function(){return function(t,e,i,o){return n.init_866e(i,t)}}},createDefault:function(){return n.init_d41d()},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){var i;r.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_866e,t,e),(i=r.as(this.get(n.PROPERTY_COLORS_DEPRECATED),["Array",s.SolidColor]))&&i.length>=1&&(this.deprecatedPrimaryColor=i[0])},init_d41d:function(){r.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_5afe,n.KIND,1,l.ColorTable.createDefault())},willCommitState:function(){null!=this.deprecatedPrimaryColor&&(this.colors.fieldPrimary=this.deprecatedPrimaryColor,this.deprecatedPrimaryColor=null),a.FormaStyle.prototype.willCommitState.call(this)},className:{get:function(){return n.SCHEMA_CLASS_NAME}},colorTableSupportsRole:function(t){return t==l.ColorRole.FieldPrimary}}}),n)},uWOl:function(t,e,i){var n,o=e,r=i("oAGj"),l=i("ascj"),a=i("QbzR"),s=i("Qlvz"),u=i("SDdr"),c=i("Zifs");o.ImageStyle=(n=function(){this.firstCommit=!1},r.defineClass({name:"ImageStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"ImageStyle"}},KIND:{get:function(){return"ImageStyle"}},DEFAULT_NAME:"None",PROPERTY_NAME:"name",PROPERTY_COLORS_DEPRECATED:"colors",PROPERTY_FILTER_NAME_DEPRECATED:"filter-name",factory:{get:function(){return function(t,e,i,o){return n.init_866e(i,t)}}},makeSafeName:function(t){if(t.includes("Overlay")||t.includes("DuoTone")||t.includes("Multiply")){var e=t.substr(t.length-1);if(e>="0"&&e<="9")return t.substr(0,t.length-1)}return t},createDefault:function(){return n.init_1265(n.DEFAULT_NAME,l.ColorTable.createDefault())},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){this.firstCommit=!0,r.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_866e,t,e)},init_a6fe:function(t,e,i,o){void 0===o&&(o=null);var l,s={name:n.makeSafeName(e)};if(l=o)for(var u=r.iter(l);!u.done;u.next()){var c=u.key,h=u.value;s[c]=h}r.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_5afe,t,1,i,null,null,r.clone(s))},init_1265:function(t,e,i,o){void 0===e&&(e=null),void 0===i&&(i=null),void 0===o&&(o=null);var l,u={name:n.makeSafeName(t)};if(l=o)for(var c=r.iter(l);!c.done;c.next()){var h=c.key,f=c.value;u[h]=f}r.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_5afe,n.KIND,1,e,i,s.ImageAdjustments.createDefault(),r.clone(u))},init_dd5d:function(t,e){r.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_dd5d,r.clone(t),r.clone(e))},colors_:{get:function(){var t=this,e=a.FormaStyle._getters.colors_.call(this);return r.opt(e,(function(t){return null==t.library}))&&r.opt(e,(function(e){return e.setColorLibraryWithoutSubscribing(t.colorLibrary)})),e},set:function(t){a.FormaStyle._setters.colors_.call(this,t)}},clone:function(){var t,e=this,i=a.FormaStyle.prototype.clone.call(this);return(t=r.as(r.opt(i,(function(t){return t.filter})),u.AlphaBlendFilter))&&(r.opt(t.filter1,(function(t){return t.style=r.opt(r.opt(r.as(e.filter,u.AlphaBlendFilter),(function(t){return t.filter1})),(function(t){return t.style}))})),r.opt(t.filter2,(function(t){return t.style=r.opt(r.opt(r.as(e.filter,u.AlphaBlendFilter),(function(t){return t.filter2})),(function(t){return t.style}))}))),i},willCommitState:function(){this.firstCommit&&(this.ensureStyleName(),this.updateDeprecatedColorTable(),this.firstCommit=!1),a.FormaStyle.prototype.willCommitState.call(this)},ensureStyleName:function(){var t,e;if(null!=(e=r.as(this.get(n.PROPERTY_NAME),"String"))){var i=e;if(e.includes("Overlay")||e.includes("DuoTone")||e.includes("Multiply")){var o=e.substr(e.length-1);o>="0"&&o<="9"&&(i=e.substr(0,e.length-1))}i!=e&&(this.name=i)}else{var l=r.opt(this.filter,(function(t){return t.name})),a=r.as(this.get(n.PROPERTY_FILTER_NAME_DEPRECATED),"String"),s=(t=a)||null!=t?t:l;if(null!=s)switch(s){case"Greyscale":this.name="Greyscale";break;case"GreyscaleDark":this.name="Darken";break;case"Monochrome":this.name="Greyscale";break;case"Duotone":this.name="DuoTone1";break;case"DesaturateMultiply":this.name="Multiply1";break;case"ReduceContrastOverlay":this.name="Overlay1";break;default:this.name=s}if(null!=a)switch(a){case"Greyscale":this.filter=u.CompositeFilter.init_514f(this,"Greyscale",1,"none",!0);break;case"GreyscaleDark":this.colors.fieldPrimary=c.SolidColor.BLACK,this.filter=u.CompositeFilter.init_514f(this,"Darken",.5,"normal",!1);break;case"Monochrome":this.filter=u.CompositeFilter.init_514f(this,"DesaturateMultiply",1,"multiply",!0,void 0,"offset",.5,1);break;case"Duotone":this.filter=u.CompositeFilter.init_514f(this,"Duotone",1,"normal",void 0,void 0,"duotone");break;case"DesaturateMultiply":this.filter=u.CompositeFilter.init_514f(this,"DesaturateMultiply",1,"multiply",!0,void 0,"offset",.5,1);break;case"ReduceContrastOverlay":this.filter=u.CompositeFilter.init_514f(this,"ReduceContrastOverlay",.5,"overlay",!1,.5,"offset",1,1);break;case"FillColor":this.filter=u.CompositeFilter.init_514f(this,"Normal",.5,"normal",!1);break;default:this.filter=null}}},updateDeprecatedColorTable:function(){var t;(t=r.as(this.get(n.PROPERTY_COLORS_DEPRECATED),["Array",c.SolidColor]))&&(t.length>=1&&(this.colors.fieldPrimary=t[0]),t.length>=2&&(this.colors.fieldSecondary=t[1]))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},name:{get:function(){var t;return(t=r.as(this.get(n.PROPERTY_NAME),"String"))||null!=t?t:n.DEFAULT_NAME},set:function(t){this.set(n.PROPERTY_NAME,t)}},isColorizedFilter:{get:function(){return!["None","Greyscale","Blur","Darken"].includes(this.name)}},isMixableFilter:{get:function(){return["Darken"].includes(this.name)}},isShuffleable:{get:function(){return this.isColorizedFilter||this.isMixableFilter}},colorTableSupportsRole:function(t){return t==l.ColorRole.FieldPrimary||t==l.ColorRole.FieldSecondary},equals:function(t){if(null==this.filter&&null!=t.filter||null!=this.filter&&null==t.filter)return!1;var e=null==this.filter&&null==t.filter,i=e||this.filter.equals(t.filter),n=e||this.colors.equalTo(t.colors),o=r.opt(this.adjustments,(function(e){return e.equals(t.adjustments)}));return i&&n&&o},description:{get:function(){if(null!=this.filter&&this.filter instanceof u.CompositeFilter){var t=this.filter,e="Style: "+this.name+", Op: "+t.colorOperation+", Filter: "+t.name,i=", params: (m="+r.toString(t.mix)+", c="+r.toString(t.contrast)+", b="+r.toString(t.blurRadius)+")";return null!=this.colors.fieldPrimary?e+i+this.colors.fieldPrimary.rgbHex:e+i}return this.name}}}}),n)},uZuM:function(t,e,i){var n,o,r=e,l=i("oAGj"),a=i("ftr0"),s=i("SpAV"),u=i("QbzR"),c=i("JEzR"),h=i("4mVB"),f=i("uWOl"),T=i("c+uM"),d=i("2ALn"),_=i("ly3x"),p=i("u2iI"),R=i("LCGV"),P=i("QTen");r.FormaStyleFactory=(n=function(){this.lookup_={},this.lookup_[u.FormaStyle.KIND]=function(){return u.FormaStyle.createDefault()},this.lookup_[f.ImageStyle.KIND]=function(){return f.ImageStyle.createDefault()},this.lookup_[R.TextStyle.KIND]=function(){return R.TextStyle.createDefault()},this.lookup_[p.ShapeStyle.KIND]=function(){return p.ShapeStyle.createDefault()},this.lookup_[d.RootStyle.KIND]=function(){return d.RootStyle.createDefault()},this.lookup_[T.LockupStyle.KIND]=function(){return T.LockupStyle.createDefault()},this.lookup_[P.VideoStyle.KIND]=function(){return P.VideoStyle.createDefault()},this.lookup_[h.GridStyle.KIND]=function(){return h.GridStyle.createDefault()},this.lookup_[c.FrameStyle.KIND]=function(){return c.FrameStyle.createDefault()},this.lookup_[a.AlignmentGroupStyle.KIND]=function(){return a.AlignmentGroupStyle.createDefault()},this.lookup_[_.ShapeGroupStyle.KIND]=function(){return _.ShapeGroupStyle.createDefault()}},o={},l.defineClass({name:"FormaStyleFactory",ctor:n,superName:"CoreObject",statics:{instance:{get:function(){return void 0===o.instance&&(o.instance=new n),o.instance}}},props:{create:function(t){var e;return null!=(e=this.lookup_[t])?e():(s.CoreAssert.warning("no constructor for forma style kind = "+t),null)}}}),n)},yumk:function(t,e,i){var n,o,r=e,l=i("oAGj"),a=i("SpAV"),s=i("SDdr");r.ImageFilterFactory=(n=function(){this.lookup_={},this.lookup_[s.ImageFilter.KIND]=function(){return s.ImageFilter.createDefault()},this.lookup_[s.AlphaBlendFilter.KIND]=function(){return s.AlphaBlendFilter.createDefault()},this.lookup_[s.CompositeFilter.KIND]=function(){return s.CompositeFilter.createDefault()}},o={},l.defineClass({name:"ImageFilterFactory",ctor:n,superName:"CoreObject",statics:{instance:{get:function(){return void 0===o.instance&&(o.instance=new n),o.instance}}},props:{create:function(t){var e;return null!=(e=this.lookup_[t])?e():(a.CoreAssert.warning("no constructor for filter kind = "+t),null)}}}),n)}}]);
//# sourceMappingURL=vendors_npm_spark_81f3a379-44a7e0cf.js.map